apiVersion: v1
data:
  10_apim_db.sql: "DROP DATABASE IF EXISTS WSO2AM_DB;\nCREATE DATABASE WSO2AM_DB CHARACTER
    SET latin1;\n\nCREATE USER IF NOT EXISTS 'wso2carbon'@'%' IDENTIFIED BY 'wso2carbon';\nGRANT
    ALL PRIVILEGES ON WSO2AM_DB.* TO 'wso2carbon'@'%';\nFLUSH PRIVILEGES;\nUSE WSO2AM_DB;\n\n--
    Start of IDENTITY Tables--\nCREATE TABLE IF NOT EXISTS IDN_BASE_TABLE (\n            PRODUCT_NAME
    VARCHAR(20),\n            PRIMARY KEY (PRODUCT_NAME)\n)ENGINE INNODB;\n\nINSERT
    INTO IDN_BASE_TABLE values ('WSO2 Identity Server');\n\nCREATE TABLE IF NOT EXISTS
    IDN_OAUTH_CONSUMER_APPS (\n            ID INTEGER NOT NULL AUTO_INCREMENT,\n            CONSUMER_KEY
    VARCHAR(255),\n            CONSUMER_SECRET VARCHAR(2048),\n            USERNAME
    VARCHAR(255),\n            TENANT_ID INTEGER DEFAULT 0,\n            USER_DOMAIN
    VARCHAR(50),\n            APP_NAME VARCHAR(255),\n            OAUTH_VERSION VARCHAR(128),\n
    \           CALLBACK_URL VARCHAR(2048),\n            GRANT_TYPES VARCHAR (1024),\n
    \           PKCE_MANDATORY CHAR(1) DEFAULT '0',\n            PKCE_SUPPORT_PLAIN
    CHAR(1) DEFAULT '0',\n            APP_STATE VARCHAR (25) DEFAULT 'ACTIVE',\n            USER_ACCESS_TOKEN_EXPIRE_TIME
    BIGINT DEFAULT 3600,\n            APP_ACCESS_TOKEN_EXPIRE_TIME BIGINT DEFAULT
    3600,\n            REFRESH_TOKEN_EXPIRE_TIME BIGINT DEFAULT 84600,\n            ID_TOKEN_EXPIRE_TIME
    BIGINT DEFAULT 3600,\n            CONSTRAINT CONSUMER_KEY_CONSTRAINT UNIQUE (CONSUMER_KEY),\n
    \           PRIMARY KEY (ID)\n)ENGINE INNODB;\n\nCREATE TABLE IF NOT EXISTS IDN_OAUTH2_SCOPE_VALIDATORS
    (\n\tAPP_ID INTEGER NOT NULL,\n\tSCOPE_VALIDATOR VARCHAR (128) NOT NULL,\n\tPRIMARY
    KEY (APP_ID,SCOPE_VALIDATOR),\n\tFOREIGN KEY (APP_ID) REFERENCES IDN_OAUTH_CONSUMER_APPS(ID)
    ON DELETE CASCADE\n)ENGINE INNODB;\n\nCREATE TABLE IF NOT EXISTS IDN_OAUTH1A_REQUEST_TOKEN
    (\n            REQUEST_TOKEN VARCHAR(255),\n            REQUEST_TOKEN_SECRET VARCHAR(512),\n
    \           CONSUMER_KEY_ID INTEGER,\n            CALLBACK_URL VARCHAR(2048),\n
    \           SCOPE VARCHAR(2048),\n            AUTHORIZED VARCHAR(128),\n            OAUTH_VERIFIER
    VARCHAR(512),\n            AUTHZ_USER VARCHAR(512),\n            TENANT_ID INTEGER
    DEFAULT -1,\n            PRIMARY KEY (REQUEST_TOKEN),\n            FOREIGN KEY
    (CONSUMER_KEY_ID) REFERENCES IDN_OAUTH_CONSUMER_APPS(ID) ON DELETE CASCADE\n)ENGINE
    INNODB;\n\nCREATE TABLE IF NOT EXISTS IDN_OAUTH1A_ACCESS_TOKEN (\n            ACCESS_TOKEN
    VARCHAR(255),\n            ACCESS_TOKEN_SECRET VARCHAR(512),\n            CONSUMER_KEY_ID
    INTEGER,\n            SCOPE VARCHAR(2048),\n            AUTHZ_USER VARCHAR(512),\n
    \           TENANT_ID INTEGER DEFAULT -1,\n            PRIMARY KEY (ACCESS_TOKEN),\n
    \           FOREIGN KEY (CONSUMER_KEY_ID) REFERENCES IDN_OAUTH_CONSUMER_APPS(ID)
    ON DELETE CASCADE\n)ENGINE INNODB;\n\nCREATE TABLE IF NOT EXISTS IDN_OAUTH2_ACCESS_TOKEN
    (\n            TOKEN_ID VARCHAR (255),\n            ACCESS_TOKEN VARCHAR(2048),\n
    \           REFRESH_TOKEN VARCHAR(2048),\n            CONSUMER_KEY_ID INTEGER,\n
    \           AUTHZ_USER VARCHAR (100),\n            TENANT_ID INTEGER,\n            USER_DOMAIN
    VARCHAR(50),\n            USER_TYPE VARCHAR (25),\n            GRANT_TYPE VARCHAR
    (50),\n            TIME_CREATED TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n
    \           REFRESH_TOKEN_TIME_CREATED TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n
    \           VALIDITY_PERIOD BIGINT,\n            REFRESH_TOKEN_VALIDITY_PERIOD
    BIGINT,\n            TOKEN_SCOPE_HASH VARCHAR(32),\n            TOKEN_STATE VARCHAR(25)
    DEFAULT 'ACTIVE',\n            TOKEN_STATE_ID VARCHAR (128) DEFAULT 'NONE',\n
    \           SUBJECT_IDENTIFIER VARCHAR(255),\n            ACCESS_TOKEN_HASH VARCHAR(512),\n
    \           REFRESH_TOKEN_HASH VARCHAR(512),\n            IDP_ID INTEGER DEFAULT
    -1 NOT NULL,\n            TOKEN_BINDING_REF VARCHAR (32) DEFAULT 'NONE',\n            CONSENTED_TOKEN
    VARCHAR(6),\n            PRIMARY KEY (TOKEN_ID),\n            FOREIGN KEY (CONSUMER_KEY_ID)
    REFERENCES IDN_OAUTH_CONSUMER_APPS(ID) ON DELETE CASCADE,\n            CONSTRAINT
    CON_APP_KEY UNIQUE (CONSUMER_KEY_ID,AUTHZ_USER,TENANT_ID,USER_DOMAIN,USER_TYPE,TOKEN_SCOPE_HASH,\n
    \                                          TOKEN_STATE,TOKEN_STATE_ID,IDP_ID,TOKEN_BINDING_REF)\n)ENGINE
    INNODB;\n\nCREATE TABLE IF NOT EXISTS IDN_OAUTH2_TOKEN_BINDING (\n            TOKEN_ID
    VARCHAR (255),\n            TOKEN_BINDING_TYPE VARCHAR (32),\n            TOKEN_BINDING_REF
    VARCHAR (32),\n            TOKEN_BINDING_VALUE VARCHAR (1024),\n            TENANT_ID
    INTEGER DEFAULT -1,\n            UNIQUE (TOKEN_ID,TOKEN_BINDING_TYPE,TOKEN_BINDING_VALUE),\n
    \           FOREIGN KEY (TOKEN_ID) REFERENCES IDN_OAUTH2_ACCESS_TOKEN(TOKEN_ID)
    ON DELETE CASCADE\n)ENGINE INNODB;\n\n\nCREATE TABLE IF NOT EXISTS IDN_OAUTH2_ACCESS_TOKEN_AUDIT
    (\n            ID INTEGER NOT NULL AUTO_INCREMENT,\n            TOKEN_ID VARCHAR
    (255),\n            ACCESS_TOKEN VARCHAR(2048),\n            REFRESH_TOKEN VARCHAR(2048),\n
    \           CONSUMER_KEY_ID INTEGER,\n            AUTHZ_USER VARCHAR (100),\n
    \           TENANT_ID INTEGER,\n            USER_DOMAIN VARCHAR(50),\n            USER_TYPE
    VARCHAR (25),\n            GRANT_TYPE VARCHAR (50),\n            TIME_CREATED
    TIMESTAMP NULL,\n            REFRESH_TOKEN_TIME_CREATED TIMESTAMP NULL,\n            VALIDITY_PERIOD
    BIGINT,\n            REFRESH_TOKEN_VALIDITY_PERIOD BIGINT,\n            TOKEN_SCOPE_HASH
    VARCHAR(32),\n            TOKEN_STATE VARCHAR(25),\n            TOKEN_STATE_ID
    VARCHAR (128) ,\n            SUBJECT_IDENTIFIER VARCHAR(255),\n            ACCESS_TOKEN_HASH
    VARCHAR(512),\n            REFRESH_TOKEN_HASH VARCHAR(512),\n            INVALIDATED_TIME
    TIMESTAMP NULL,\n            IDP_ID INTEGER DEFAULT -1 NOT NULL,\n            PRIMARY
    KEY(ID)\n);\n\nCREATE TABLE IF NOT EXISTS IDN_OAUTH2_AUTHORIZATION_CODE (\n            CODE_ID
    VARCHAR (255),\n            AUTHORIZATION_CODE VARCHAR(2048),\n            CONSUMER_KEY_ID
    INTEGER,\n            CALLBACK_URL VARCHAR(2048),\n            SCOPE VARCHAR(2048),\n
    \           AUTHZ_USER VARCHAR (100),\n            TENANT_ID INTEGER,\n            USER_DOMAIN
    VARCHAR(50),\n            TIME_CREATED TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n
    \           VALIDITY_PERIOD BIGINT,\n            STATE VARCHAR (25) DEFAULT 'ACTIVE',\n
    \           TOKEN_ID VARCHAR(255),\n            SUBJECT_IDENTIFIER VARCHAR(255),\n
    \           PKCE_CODE_CHALLENGE VARCHAR(255),\n            PKCE_CODE_CHALLENGE_METHOD
    VARCHAR(128),\n            AUTHORIZATION_CODE_HASH VARCHAR(512),\n            IDP_ID
    INTEGER DEFAULT -1 NOT NULL,\n            PRIMARY KEY (CODE_ID),\n            FOREIGN
    KEY (CONSUMER_KEY_ID) REFERENCES IDN_OAUTH_CONSUMER_APPS(ID) ON DELETE CASCADE\n)ENGINE
    INNODB;\n\n\nCREATE TABLE IF NOT EXISTS IDN_OAUTH2_AUTHZ_CODE_SCOPE(\n            CODE_ID
    \  VARCHAR(255),\n            SCOPE     VARCHAR(60),\n            TENANT_ID INTEGER
    DEFAULT -1,\n            PRIMARY KEY (CODE_ID, SCOPE),\n            FOREIGN KEY
    (CODE_ID) REFERENCES IDN_OAUTH2_AUTHORIZATION_CODE (CODE_ID) ON DELETE CASCADE\n)ENGINE
    INNODB;\n\nCREATE TABLE IF NOT EXISTS IDN_OAUTH2_DEVICE_FLOW (\n            CODE_ID
    VARCHAR(255),\n            DEVICE_CODE VARCHAR(255),\n            USER_CODE VARCHAR(25),\n
    \           QUANTIFIER INTEGER NOT NULL DEFAULT 0,\n            CONSUMER_KEY_ID
    INTEGER,\n            LAST_POLL_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n
    \           EXPIRY_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n            TIME_CREATED
    TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n            POLL_TIME BIGINT,\n
    \           STATUS VARCHAR (25) DEFAULT 'PENDING',\n            AUTHZ_USER VARCHAR
    (100),\n            TENANT_ID INTEGER,\n            USER_DOMAIN VARCHAR(50),\n
    \           IDP_ID INTEGER,\n            PRIMARY KEY (DEVICE_CODE),\n            UNIQUE
    (CODE_ID),\n            CONSTRAINT USRCDE_QNTFR_CONSTRAINT UNIQUE (USER_CODE,
    QUANTIFIER),\n            FOREIGN KEY (CONSUMER_KEY_ID) REFERENCES IDN_OAUTH_CONSUMER_APPS(ID)
    ON DELETE CASCADE\n)ENGINE INNODB;\n\nCREATE TABLE IF NOT EXISTS IDN_OAUTH2_DEVICE_FLOW_SCOPES
    (\n            ID INTEGER NOT NULL AUTO_INCREMENT,\n            SCOPE_ID VARCHAR(255),\n
    \           SCOPE VARCHAR(255),\n            PRIMARY KEY (ID),\n            FOREIGN
    KEY (SCOPE_ID) REFERENCES IDN_OAUTH2_DEVICE_FLOW(CODE_ID) ON DELETE CASCADE\n)ENGINE
    INNODB;\n\nCREATE TABLE IF NOT EXISTS IDN_OAUTH2_ACCESS_TOKEN_SCOPE (\n            TOKEN_ID
    VARCHAR (255),\n            TOKEN_SCOPE VARCHAR (100),\n            TENANT_ID
    INTEGER DEFAULT -1,\n            PRIMARY KEY (TOKEN_ID, TOKEN_SCOPE),\n            FOREIGN
    KEY (TOKEN_ID) REFERENCES IDN_OAUTH2_ACCESS_TOKEN(TOKEN_ID) ON DELETE CASCADE\n)ENGINE
    INNODB;\n\nCREATE TABLE IF NOT EXISTS IDN_OAUTH2_SCOPE (\n            SCOPE_ID
    INTEGER NOT NULL AUTO_INCREMENT,\n            NAME VARCHAR(255) NOT NULL,\n            DISPLAY_NAME
    VARCHAR(255) NOT NULL,\n            DESCRIPTION VARCHAR(512),\n            TENANT_ID
    INTEGER NOT NULL DEFAULT -1,\n            SCOPE_TYPE VARCHAR(255) NOT NULL,\n
    \           PRIMARY KEY (SCOPE_ID),\n            UNIQUE (NAME, TENANT_ID)\n)ENGINE
    INNODB;\n\nCREATE TABLE IF NOT EXISTS IDN_OAUTH2_SCOPE_BINDING (\n            ID
    INTEGER NOT NULL AUTO_INCREMENT,\n            SCOPE_ID INTEGER NOT NULL,\n            SCOPE_BINDING
    VARCHAR(255) NOT NULL,\n            BINDING_TYPE VARCHAR(255) NOT NULL,\n            FOREIGN
    KEY (SCOPE_ID) REFERENCES IDN_OAUTH2_SCOPE (SCOPE_ID) ON DELETE CASCADE,\n            UNIQUE
    (SCOPE_ID, SCOPE_BINDING, BINDING_TYPE),\n            PRIMARY KEY (ID)\n)ENGINE
    INNODB;\n\nCREATE TABLE IF NOT EXISTS IDN_OAUTH2_RESOURCE_SCOPE (\n            RESOURCE_PATH
    VARCHAR(255) NOT NULL,\n            SCOPE_ID INTEGER NOT NULL,\n            TENANT_ID
    INTEGER DEFAULT -1,\n            PRIMARY KEY (RESOURCE_PATH),\n            FOREIGN
    KEY (SCOPE_ID) REFERENCES IDN_OAUTH2_SCOPE (SCOPE_ID) ON DELETE CASCADE\n)ENGINE
    INNODB;\n\nCREATE TABLE IF NOT EXISTS IDN_SCIM_GROUP (\n            ID INTEGER
    AUTO_INCREMENT,\n            TENANT_ID INTEGER NOT NULL,\n            ROLE_NAME
    VARCHAR(255) NOT NULL,\n            ATTR_NAME VARCHAR(1024) NOT NULL,\n            ATTR_VALUE
    VARCHAR(1024),\n            UNIQUE(TENANT_ID, ROLE_NAME, ATTR_NAME),\n            PRIMARY
    KEY (ID)\n)ENGINE INNODB;\n\n\n\nCREATE TABLE IF NOT EXISTS IDN_OPENID_REMEMBER_ME
    (\n            USER_NAME VARCHAR(255) NOT NULL,\n            TENANT_ID INTEGER
    DEFAULT 0,\n            COOKIE_VALUE VARCHAR(1024),\n            CREATED_TIME
    TIMESTAMP,\n            PRIMARY KEY (USER_NAME, TENANT_ID)\n)ENGINE INNODB;\n\nCREATE
    TABLE IF NOT EXISTS IDN_OPENID_USER_RPS (\n            USER_NAME VARCHAR(255)
    NOT NULL,\n            TENANT_ID INTEGER DEFAULT 0,\n            RP_URL VARCHAR(255)
    NOT NULL,\n            TRUSTED_ALWAYS VARCHAR(128) DEFAULT 'FALSE',\n            LAST_VISIT
    DATE NOT NULL,\n            VISIT_COUNT INTEGER DEFAULT 0,\n            DEFAULT_PROFILE_NAME
    VARCHAR(255) DEFAULT 'DEFAULT',\n            PRIMARY KEY (USER_NAME, TENANT_ID,
    RP_URL)\n)ENGINE INNODB;\n\nCREATE TABLE IF NOT EXISTS IDN_OPENID_ASSOCIATIONS
    (\n            HANDLE VARCHAR(255) NOT NULL,\n            ASSOC_TYPE VARCHAR(255)
    NOT NULL,\n            EXPIRE_IN TIMESTAMP NOT NULL,\n            MAC_KEY VARCHAR(255)
    NOT NULL,\n            ASSOC_STORE VARCHAR(128) DEFAULT 'SHARED',\n            TENANT_ID
    INTEGER DEFAULT -1,\n            PRIMARY KEY (HANDLE)\n)ENGINE INNODB;\n\nCREATE
    TABLE IF NOT EXISTS IDN_STS_STORE (\n            ID INTEGER AUTO_INCREMENT,\n
    \           TOKEN_ID VARCHAR(255) NOT NULL,\n            TOKEN_CONTENT BLOB(1024)
    NOT NULL,\n            CREATE_DATE TIMESTAMP NOT NULL,\n            EXPIRE_DATE
    TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n            STATE INTEGER DEFAULT
    0,\n            PRIMARY KEY (ID)\n)ENGINE INNODB;\n\nCREATE TABLE IF NOT EXISTS
    IDN_IDENTITY_USER_DATA (\n            TENANT_ID INTEGER DEFAULT -1234,\n            USER_NAME
    VARCHAR(255) NOT NULL,\n            DATA_KEY VARCHAR(255) NOT NULL,\n            DATA_VALUE
    VARCHAR(2048),\n            PRIMARY KEY (TENANT_ID, USER_NAME, DATA_KEY)\n)ENGINE
    INNODB;\n\nCREATE TABLE IF NOT EXISTS IDN_IDENTITY_META_DATA (\n            USER_NAME
    VARCHAR(255) NOT NULL,\n            TENANT_ID INTEGER DEFAULT -1234,\n            METADATA_TYPE
    VARCHAR(255) NOT NULL,\n            METADATA VARCHAR(255) NOT NULL,\n            VALID
    VARCHAR(255) NOT NULL,\n            PRIMARY KEY (TENANT_ID, USER_NAME, METADATA_TYPE,METADATA)\n)ENGINE
    INNODB;\n\nCREATE TABLE IF NOT EXISTS IDN_THRIFT_SESSION (\n            SESSION_ID
    VARCHAR(255) NOT NULL,\n            USER_NAME VARCHAR(255) NOT NULL,\n            CREATED_TIME
    VARCHAR(255) NOT NULL,\n            LAST_MODIFIED_TIME VARCHAR(255) NOT NULL,\n
    \           TENANT_ID INTEGER DEFAULT -1,\n            PRIMARY KEY (SESSION_ID)\n)ENGINE
    INNODB;\n\nCREATE TABLE IF NOT EXISTS IDN_AUTH_SESSION_STORE (\n            SESSION_ID
    VARCHAR (100) NOT NULL,\n            SESSION_TYPE VARCHAR(100) NOT NULL,\n            OPERATION
    VARCHAR(10) NOT NULL,\n            SESSION_OBJECT BLOB,\n            TIME_CREATED
    BIGINT,\n            TENANT_ID INTEGER DEFAULT -1,\n            EXPIRY_TIME BIGINT,\n
    \           PRIMARY KEY (SESSION_ID, SESSION_TYPE, TIME_CREATED, OPERATION)\n)ENGINE
    INNODB;\n\n\n\n\nCREATE TABLE IF NOT EXISTS IDN_AUTH_TEMP_SESSION_STORE (\n            SESSION_ID
    VARCHAR (100) NOT NULL,\n            SESSION_TYPE VARCHAR(100) NOT NULL,\n            OPERATION
    VARCHAR(10) NOT NULL,\n            SESSION_OBJECT BLOB,\n            TIME_CREATED
    BIGINT,\n            TENANT_ID INTEGER DEFAULT -1,\n            EXPIRY_TIME BIGINT,\n
    \           PRIMARY KEY (SESSION_ID, SESSION_TYPE, TIME_CREATED, OPERATION)\n)ENGINE
    INNODB;\n\nCREATE TABLE IF NOT EXISTS IDN_AUTH_USER (\n            USER_ID VARCHAR(255)
    NOT NULL,\n            USER_NAME VARCHAR(255) NOT NULL,\n            TENANT_ID
    INTEGER NOT NULL,\n            DOMAIN_NAME VARCHAR(255) NOT NULL,\n            IDP_ID
    INTEGER NOT NULL,\n            PRIMARY KEY (USER_ID),\n            CONSTRAINT
    USER_STORE_CONSTRAINT UNIQUE (USER_NAME, TENANT_ID, DOMAIN_NAME, IDP_ID));\n\nCREATE
    TABLE IF NOT EXISTS IDN_AUTH_USER_SESSION_MAPPING (\n            ID INTEGER NOT
    NULL AUTO_INCREMENT,\n            USER_ID VARCHAR(255) NOT NULL,\n            SESSION_ID
    VARCHAR(255) NOT NULL,\n            CONSTRAINT USER_SESSION_STORE_CONSTRAINT UNIQUE
    (USER_ID, SESSION_ID),\n            PRIMARY KEY (ID));\n\nCREATE TABLE IF NOT
    EXISTS IDN_AUTH_SESSION_APP_INFO (\n            SESSION_ID VARCHAR (100) NOT NULL,\n
    \           SUBJECT VARCHAR (100) NOT NULL,\n            APP_ID INTEGER NOT NULL,\n
    \           INBOUND_AUTH_TYPE VARCHAR (255) NOT NULL,\n            PRIMARY KEY
    (SESSION_ID, SUBJECT, APP_ID, INBOUND_AUTH_TYPE)\n)ENGINE INNODB;\n\nCREATE TABLE
    IF NOT EXISTS IDN_AUTH_SESSION_META_DATA (\n            SESSION_ID VARCHAR (100)
    NOT NULL,\n            PROPERTY_TYPE VARCHAR (100) NOT NULL,\n            VALUE
    VARCHAR (255) NOT NULL,\n            PRIMARY KEY (SESSION_ID, PROPERTY_TYPE, VALUE)\n)ENGINE
    INNODB;\n\nCREATE TABLE IF NOT EXISTS SP_APP (\n        ID INTEGER NOT NULL AUTO_INCREMENT,\n
    \       TENANT_ID INTEGER NOT NULL,\n        APP_NAME VARCHAR (255) NOT NULL ,\n
    \       USER_STORE VARCHAR (255) NOT NULL,\n        USERNAME VARCHAR (255) NOT
    NULL ,\n        DESCRIPTION VARCHAR (1024),\n        ROLE_CLAIM VARCHAR (512),\n
    \       AUTH_TYPE VARCHAR (255) NOT NULL,\n        PROVISIONING_USERSTORE_DOMAIN
    VARCHAR (512),\n        IS_LOCAL_CLAIM_DIALECT CHAR(1) DEFAULT '1',\n        IS_SEND_LOCAL_SUBJECT_ID
    CHAR(1) DEFAULT '0',\n        IS_SEND_AUTH_LIST_OF_IDPS CHAR(1) DEFAULT '0',\n
    \       IS_USE_TENANT_DOMAIN_SUBJECT CHAR(1) DEFAULT '1',\n        IS_USE_USER_DOMAIN_SUBJECT
    CHAR(1) DEFAULT '1',\n        ENABLE_AUTHORIZATION CHAR(1) DEFAULT '0',\n        SUBJECT_CLAIM_URI
    VARCHAR (512),\n        IS_SAAS_APP CHAR(1) DEFAULT '0',\n        IS_DUMB_MODE
    CHAR(1) DEFAULT '0',\n        UUID CHAR(36),\n        IMAGE_URL VARCHAR(1024),\n
    \       ACCESS_URL VARCHAR(1024),\n        IS_DISCOVERABLE CHAR(1) DEFAULT '0',\n\n
    \       PRIMARY KEY (ID)\n)ENGINE INNODB;\n\nALTER TABLE SP_APP ADD CONSTRAINT
    APPLICATION_NAME_CONSTRAINT UNIQUE(APP_NAME, TENANT_ID);\nALTER TABLE SP_APP ADD
    CONSTRAINT APPLICATION_UUID_CONSTRAINT UNIQUE(UUID);\n\nCREATE TABLE IF NOT EXISTS
    SP_METADATA (\n            ID INTEGER AUTO_INCREMENT,\n            SP_ID INTEGER,\n
    \           NAME VARCHAR(255) NOT NULL,\n            VALUE VARCHAR(255) NOT NULL,\n
    \           DISPLAY_NAME VARCHAR(255),\n            TENANT_ID INTEGER DEFAULT
    -1,\n            PRIMARY KEY (ID),\n            CONSTRAINT SP_METADATA_CONSTRAINT
    UNIQUE (SP_ID, NAME),\n            FOREIGN KEY (SP_ID) REFERENCES SP_APP(ID) ON
    DELETE CASCADE\n)ENGINE INNODB;\n\nCREATE TABLE IF NOT EXISTS SP_INBOUND_AUTH
    (\n            ID INTEGER NOT NULL AUTO_INCREMENT,\n            TENANT_ID INTEGER
    NOT NULL,\n            INBOUND_AUTH_KEY VARCHAR (255),\n            INBOUND_AUTH_TYPE
    VARCHAR (255) NOT NULL,\n            INBOUND_CONFIG_TYPE VARCHAR (255) NOT NULL,\n
    \           PROP_NAME VARCHAR (255),\n            PROP_VALUE VARCHAR (1024) ,\n
    \           APP_ID INTEGER NOT NULL,\n            PRIMARY KEY (ID)\n)ENGINE INNODB;\n\nALTER
    TABLE SP_INBOUND_AUTH ADD CONSTRAINT APPLICATION_ID_CONSTRAINT FOREIGN KEY (APP_ID)
    REFERENCES SP_APP (ID) ON DELETE CASCADE;\n\nCREATE TABLE IF NOT EXISTS SP_AUTH_STEP
    (\n            ID INTEGER NOT NULL AUTO_INCREMENT,\n            TENANT_ID INTEGER
    NOT NULL,\n            STEP_ORDER INTEGER DEFAULT 1,\n            APP_ID INTEGER
    NOT NULL ,\n            IS_SUBJECT_STEP CHAR(1) DEFAULT '0',\n            IS_ATTRIBUTE_STEP
    CHAR(1) DEFAULT '0',\n            PRIMARY KEY (ID)\n)ENGINE INNODB;\n\nALTER TABLE
    SP_AUTH_STEP ADD CONSTRAINT APPLICATION_ID_CONSTRAINT_STEP FOREIGN KEY (APP_ID)
    REFERENCES SP_APP (ID) ON DELETE CASCADE;\n\nCREATE TABLE IF NOT EXISTS SP_FEDERATED_IDP
    (\n            ID INTEGER NOT NULL,\n            TENANT_ID INTEGER NOT NULL,\n
    \           AUTHENTICATOR_ID INTEGER NOT NULL,\n            PRIMARY KEY (ID, AUTHENTICATOR_ID)\n)ENGINE
    INNODB;\n\nALTER TABLE SP_FEDERATED_IDP ADD CONSTRAINT STEP_ID_CONSTRAINT FOREIGN
    KEY (ID) REFERENCES SP_AUTH_STEP (ID) ON DELETE CASCADE;\n\nCREATE TABLE IF NOT
    EXISTS SP_CLAIM_DIALECT (\n\t   \tID INTEGER NOT NULL AUTO_INCREMENT,\n\t   \tTENANT_ID
    INTEGER NOT NULL,\n\t   \tSP_DIALECT VARCHAR (512) NOT NULL,\n\t   \tAPP_ID INTEGER
    NOT NULL,\n\t   \tPRIMARY KEY (ID));\n\nALTER TABLE SP_CLAIM_DIALECT ADD CONSTRAINT
    DIALECTID_APPID_CONSTRAINT FOREIGN KEY (APP_ID) REFERENCES SP_APP (ID) ON DELETE
    CASCADE;\n\nCREATE TABLE IF NOT EXISTS SP_CLAIM_MAPPING (\n            ID INTEGER
    NOT NULL AUTO_INCREMENT,\n            TENANT_ID INTEGER NOT NULL,\n            IDP_CLAIM
    VARCHAR (512) NOT NULL ,\n            SP_CLAIM VARCHAR (512) NOT NULL ,\n            APP_ID
    INTEGER NOT NULL,\n            IS_REQUESTED VARCHAR(128) DEFAULT '0',\n\t    IS_MANDATORY
    VARCHAR(128) DEFAULT '0',\n            DEFAULT_VALUE VARCHAR(255),\n            PRIMARY
    KEY (ID)\n)ENGINE INNODB;\n\nALTER TABLE SP_CLAIM_MAPPING ADD CONSTRAINT CLAIMID_APPID_CONSTRAINT
    FOREIGN KEY (APP_ID) REFERENCES SP_APP (ID) ON DELETE CASCADE;\n\nCREATE TABLE
    IF NOT EXISTS SP_ROLE_MAPPING (\n            ID INTEGER NOT NULL AUTO_INCREMENT,\n
    \           TENANT_ID INTEGER NOT NULL,\n            IDP_ROLE VARCHAR (255) NOT
    NULL ,\n            SP_ROLE VARCHAR (255) NOT NULL ,\n            APP_ID INTEGER
    NOT NULL,\n            PRIMARY KEY (ID)\n)ENGINE INNODB;\n\nALTER TABLE SP_ROLE_MAPPING
    ADD CONSTRAINT ROLEID_APPID_CONSTRAINT FOREIGN KEY (APP_ID) REFERENCES SP_APP
    (ID) ON DELETE CASCADE;\n\nCREATE TABLE IF NOT EXISTS SP_REQ_PATH_AUTHENTICATOR
    (\n            ID INTEGER NOT NULL AUTO_INCREMENT,\n            TENANT_ID INTEGER
    NOT NULL,\n            AUTHENTICATOR_NAME VARCHAR (255) NOT NULL ,\n            APP_ID
    INTEGER NOT NULL,\n            PRIMARY KEY (ID)\n)ENGINE INNODB;\n\nALTER TABLE
    SP_REQ_PATH_AUTHENTICATOR ADD CONSTRAINT REQ_AUTH_APPID_CONSTRAINT FOREIGN KEY
    (APP_ID) REFERENCES SP_APP (ID) ON DELETE CASCADE;\n\nCREATE TABLE IF NOT EXISTS
    SP_PROVISIONING_CONNECTOR (\n            ID INTEGER NOT NULL AUTO_INCREMENT,\n
    \           TENANT_ID INTEGER NOT NULL,\n            IDP_NAME VARCHAR (255) NOT
    NULL ,\n            CONNECTOR_NAME VARCHAR (255) NOT NULL ,\n            APP_ID
    INTEGER NOT NULL,\n            IS_JIT_ENABLED CHAR(1) NOT NULL DEFAULT '0',\n
    \           BLOCKING CHAR(1) NOT NULL DEFAULT '0',\n            RULE_ENABLED CHAR(1)
    NOT NULL DEFAULT '0',\n            PRIMARY KEY (ID)\n)ENGINE INNODB;\n\nALTER
    TABLE SP_PROVISIONING_CONNECTOR ADD CONSTRAINT PRO_CONNECTOR_APPID_CONSTRAINT
    FOREIGN KEY (APP_ID) REFERENCES SP_APP (ID) ON DELETE CASCADE;\n\nCREATE TABLE
    SP_AUTH_SCRIPT (\n  ID         INTEGER AUTO_INCREMENT NOT NULL,\n  TENANT_ID  INTEGER
    \               NOT NULL,\n  APP_ID     INTEGER                NOT NULL,\n  TYPE
    \      VARCHAR(255)           NOT NULL,\n  CONTENT    BLOB    DEFAULT NULL,\n
    \ IS_ENABLED CHAR(1) NOT NULL DEFAULT '0',\n  PRIMARY KEY (ID));\n\nCREATE TABLE
    IF NOT EXISTS SP_TEMPLATE (\n  ID         INTEGER AUTO_INCREMENT NOT NULL,\n  TENANT_ID
    \ INTEGER                NOT NULL,\n  NAME VARCHAR(255) NOT NULL,\n  DESCRIPTION
    VARCHAR(1023),\n  CONTENT BLOB DEFAULT NULL,\n  PRIMARY KEY (ID),\n  CONSTRAINT
    SP_TEMPLATE_CONSTRAINT UNIQUE (TENANT_ID, NAME));\n\nCREATE TABLE IF NOT EXISTS
    IDN_AUTH_WAIT_STATUS (\n  ID              INTEGER AUTO_INCREMENT NOT NULL,\n  TENANT_ID
    \      INTEGER                NOT NULL,\n  LONG_WAIT_KEY   VARCHAR(255)           NOT
    NULL,\n  WAIT_STATUS     CHAR(1) NOT NULL DEFAULT '1',\n  TIME_CREATED    TIMESTAMP
    NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  EXPIRE_TIME     TIMESTAMP NOT NULL DEFAULT
    CURRENT_TIMESTAMP,\n  PRIMARY KEY (ID),\n  CONSTRAINT IDN_AUTH_WAIT_STATUS_KEY
    UNIQUE (LONG_WAIT_KEY));\n\nCREATE TABLE IF NOT EXISTS IDP (\n\t\t\tID INTEGER
    AUTO_INCREMENT,\n\t\t\tTENANT_ID INTEGER,\n\t\t\tNAME VARCHAR(254) NOT NULL,\n\t\t\tIS_ENABLED
    CHAR(1) NOT NULL DEFAULT '1',\n\t\t\tIS_PRIMARY CHAR(1) NOT NULL DEFAULT '0',\n\t\t\tHOME_REALM_ID
    VARCHAR(254),\n\t\t\tIMAGE MEDIUMBLOB,\n\t\t\tCERTIFICATE BLOB,\n\t\t\tALIAS VARCHAR(254),\n\t\t\tINBOUND_PROV_ENABLED
    CHAR (1) NOT NULL DEFAULT '0',\n\t\t\tINBOUND_PROV_USER_STORE_ID VARCHAR(254),\n
    \t\t\tUSER_CLAIM_URI VARCHAR(254),\n \t\t\tROLE_CLAIM_URI VARCHAR(254),\n  \t\t\tDESCRIPTION
    VARCHAR (1024),\n \t\t\tDEFAULT_AUTHENTICATOR_NAME VARCHAR(254),\n \t\t\tDEFAULT_PRO_CONNECTOR_NAME
    VARCHAR(254),\n \t\t\tPROVISIONING_ROLE VARCHAR(128),\n \t\t\tIS_FEDERATION_HUB
    CHAR(1) NOT NULL DEFAULT '0',\n \t\t\tIS_LOCAL_CLAIM_DIALECT CHAR(1) NOT NULL
    DEFAULT '0',\n \t\t\tDISPLAY_NAME VARCHAR(255),\n \t\t\tIMAGE_URL VARCHAR(1024),\n
    \t\t\tUUID CHAR(36) NOT NULL,\n\t\t\tPRIMARY KEY (ID),\n\t\t\tUNIQUE (TENANT_ID,
    NAME),\n\t\t\tUNIQUE (UUID)\n)ENGINE INNODB;\n\nCREATE TABLE IF NOT EXISTS IDP_ROLE
    (\n\t\t\tID INTEGER AUTO_INCREMENT,\n\t\t\tIDP_ID INTEGER,\n\t\t\tTENANT_ID INTEGER,\n\t\t\tROLE
    VARCHAR(254),\n\t\t\tPRIMARY KEY (ID),\n\t\t\tUNIQUE (IDP_ID, ROLE),\n\t\t\tFOREIGN
    KEY (IDP_ID) REFERENCES IDP(ID) ON DELETE CASCADE\n)ENGINE INNODB;\n\nCREATE TABLE
    IF NOT EXISTS IDP_ROLE_MAPPING (\n\t\t\tID INTEGER AUTO_INCREMENT,\n\t\t\tIDP_ROLE_ID
    INTEGER,\n\t\t\tTENANT_ID INTEGER,\n\t\t\tUSER_STORE_ID VARCHAR (253),\n\t\t\tLOCAL_ROLE
    VARCHAR(253),\n\t\t\tPRIMARY KEY (ID),\n\t\t\tUNIQUE (IDP_ROLE_ID, TENANT_ID,
    USER_STORE_ID, LOCAL_ROLE),\n\t\t\tFOREIGN KEY (IDP_ROLE_ID) REFERENCES IDP_ROLE(ID)
    ON DELETE CASCADE\n)ENGINE INNODB;\n\nCREATE TABLE IF NOT EXISTS IDP_CLAIM (\n\t\t\tID
    INTEGER AUTO_INCREMENT,\n\t\t\tIDP_ID INTEGER,\n\t\t\tTENANT_ID INTEGER,\n\t\t\tCLAIM
    VARCHAR(254),\n\t\t\tPRIMARY KEY (ID),\n\t\t\tUNIQUE (IDP_ID, CLAIM),\n\t\t\tFOREIGN
    KEY (IDP_ID) REFERENCES IDP(ID) ON DELETE CASCADE\n)ENGINE INNODB;\n\nCREATE TABLE
    IF NOT EXISTS IDP_CLAIM_MAPPING (\n            ID INTEGER AUTO_INCREMENT,\n            IDP_CLAIM_ID
    INTEGER,\n            TENANT_ID INTEGER,\n            LOCAL_CLAIM VARCHAR(253),\n
    \           DEFAULT_VALUE VARCHAR(255),\n            IS_REQUESTED VARCHAR(128)
    DEFAULT '0',\n            PRIMARY KEY (ID),\n            UNIQUE (IDP_CLAIM_ID,
    TENANT_ID, LOCAL_CLAIM),\n            FOREIGN KEY (IDP_CLAIM_ID) REFERENCES IDP_CLAIM(ID)
    ON DELETE CASCADE\n)ENGINE INNODB;\n\nCREATE TABLE IF NOT EXISTS IDP_AUTHENTICATOR
    (\n            ID INTEGER AUTO_INCREMENT,\n            TENANT_ID INTEGER,\n            IDP_ID
    INTEGER,\n            NAME VARCHAR(255) NOT NULL,\n            IS_ENABLED CHAR
    (1) DEFAULT '1',\n            DISPLAY_NAME VARCHAR(255),\n            PRIMARY
    KEY (ID),\n            UNIQUE (TENANT_ID, IDP_ID, NAME),\n            FOREIGN
    KEY (IDP_ID) REFERENCES IDP(ID) ON DELETE CASCADE\n)ENGINE INNODB;\n\nCREATE TABLE
    IF NOT EXISTS IDP_METADATA (\n            ID INTEGER AUTO_INCREMENT,\n            IDP_ID
    INTEGER,\n            NAME VARCHAR(255) NOT NULL,\n            VALUE VARCHAR(255)
    NOT NULL,\n            DISPLAY_NAME VARCHAR(255),\n            TENANT_ID INTEGER
    DEFAULT -1,\n            PRIMARY KEY (ID),\n            CONSTRAINT IDP_METADATA_CONSTRAINT
    UNIQUE (IDP_ID, NAME),\n            FOREIGN KEY (IDP_ID) REFERENCES IDP(ID) ON
    DELETE CASCADE\n)ENGINE INNODB;\n\nCREATE TABLE IF NOT EXISTS IDP_AUTHENTICATOR_PROPERTY
    (\n            ID INTEGER AUTO_INCREMENT,\n            TENANT_ID INTEGER,\n            AUTHENTICATOR_ID
    INTEGER,\n            PROPERTY_KEY VARCHAR(255) NOT NULL,\n            PROPERTY_VALUE
    VARCHAR(2047),\n            IS_SECRET CHAR (1) DEFAULT '0',\n            PRIMARY
    KEY (ID),\n            UNIQUE (TENANT_ID, AUTHENTICATOR_ID, PROPERTY_KEY),\n            FOREIGN
    KEY (AUTHENTICATOR_ID) REFERENCES IDP_AUTHENTICATOR(ID) ON DELETE CASCADE\n)ENGINE
    INNODB;\n\nCREATE TABLE IF NOT EXISTS IDP_PROVISIONING_CONFIG (\n            ID
    INTEGER AUTO_INCREMENT,\n            TENANT_ID INTEGER,\n            IDP_ID INTEGER,\n
    \           PROVISIONING_CONNECTOR_TYPE VARCHAR(255) NOT NULL,\n            IS_ENABLED
    CHAR (1) DEFAULT '0',\n            IS_BLOCKING CHAR (1) DEFAULT '0',\n            IS_RULES_ENABLED
    CHAR (1) DEFAULT '0',\n            PRIMARY KEY (ID),\n            UNIQUE (TENANT_ID,
    IDP_ID, PROVISIONING_CONNECTOR_TYPE),\n            FOREIGN KEY (IDP_ID) REFERENCES
    IDP(ID) ON DELETE CASCADE\n)ENGINE INNODB;\n\nCREATE TABLE IF NOT EXISTS IDP_PROV_CONFIG_PROPERTY
    (\n            ID INTEGER AUTO_INCREMENT,\n            TENANT_ID INTEGER,\n            PROVISIONING_CONFIG_ID
    INTEGER,\n            PROPERTY_KEY VARCHAR(255) NOT NULL,\n            PROPERTY_VALUE
    VARCHAR(2048),\n            PROPERTY_BLOB_VALUE BLOB,\n            PROPERTY_TYPE
    CHAR(32) NOT NULL,\n            IS_SECRET CHAR (1) DEFAULT '0',\n            PRIMARY
    KEY (ID),\n            UNIQUE (TENANT_ID, PROVISIONING_CONFIG_ID, PROPERTY_KEY),\n
    \           FOREIGN KEY (PROVISIONING_CONFIG_ID) REFERENCES IDP_PROVISIONING_CONFIG(ID)
    ON DELETE CASCADE\n)ENGINE INNODB;\n\nCREATE TABLE IF NOT EXISTS IDP_PROVISIONING_ENTITY
    (\n            ID INTEGER AUTO_INCREMENT,\n            PROVISIONING_CONFIG_ID
    INTEGER,\n            ENTITY_TYPE VARCHAR(255) NOT NULL,\n            ENTITY_LOCAL_USERSTORE
    VARCHAR(255) NOT NULL,\n            ENTITY_NAME VARCHAR(255) NOT NULL,\n            ENTITY_VALUE
    VARCHAR(255),\n            TENANT_ID INTEGER,\n            ENTITY_LOCAL_ID VARCHAR(255),\n
    \           PRIMARY KEY (ID),\n            UNIQUE (ENTITY_TYPE, TENANT_ID, ENTITY_LOCAL_USERSTORE,
    ENTITY_NAME, PROVISIONING_CONFIG_ID),\n            UNIQUE (PROVISIONING_CONFIG_ID,
    ENTITY_TYPE, ENTITY_VALUE),\n            FOREIGN KEY (PROVISIONING_CONFIG_ID)
    REFERENCES IDP_PROVISIONING_CONFIG(ID) ON DELETE CASCADE\n)ENGINE INNODB;\n\nCREATE
    TABLE IF NOT EXISTS IDP_LOCAL_CLAIM (\n            ID INTEGER AUTO_INCREMENT,\n
    \           TENANT_ID INTEGER,\n            IDP_ID INTEGER,\n            CLAIM_URI
    VARCHAR(255) NOT NULL,\n            DEFAULT_VALUE VARCHAR(255),\n            IS_REQUESTED
    VARCHAR(128) DEFAULT '0',\n            PRIMARY KEY (ID),\n            UNIQUE (TENANT_ID,
    IDP_ID, CLAIM_URI),\n            FOREIGN KEY (IDP_ID) REFERENCES IDP(ID) ON DELETE
    CASCADE\n)ENGINE INNODB;\n\nCREATE TABLE IF NOT EXISTS IDN_ASSOCIATED_ID (\n            ID
    INTEGER AUTO_INCREMENT,\n            IDP_USER_ID VARCHAR(255) NOT NULL,\n            TENANT_ID
    INTEGER DEFAULT -1234,\n            IDP_ID INTEGER NOT NULL,\n            DOMAIN_NAME
    VARCHAR(255) NOT NULL,\n            USER_NAME VARCHAR(255) NOT NULL,\n            ASSOCIATION_ID
    CHAR(36) NOT NULL,\n            PRIMARY KEY (ID),\n            UNIQUE(IDP_USER_ID,
    TENANT_ID, IDP_ID),\n            FOREIGN KEY (IDP_ID) REFERENCES IDP(ID) ON DELETE
    CASCADE\n)ENGINE INNODB;\n\nCREATE TABLE IF NOT EXISTS IDN_USER_ACCOUNT_ASSOCIATION
    (\n            ASSOCIATION_KEY VARCHAR(255) NOT NULL,\n            TENANT_ID INTEGER,\n
    \           DOMAIN_NAME VARCHAR(255) NOT NULL,\n            USER_NAME VARCHAR(255)
    NOT NULL,\n            PRIMARY KEY (TENANT_ID, DOMAIN_NAME, USER_NAME)\n)ENGINE
    INNODB;\n\nCREATE TABLE IF NOT EXISTS FIDO_DEVICE_STORE (\n            TENANT_ID
    INTEGER,\n            DOMAIN_NAME VARCHAR(255) NOT NULL,\n            USER_NAME
    VARCHAR(45) NOT NULL,\n            TIME_REGISTERED TIMESTAMP,\n            KEY_HANDLE
    VARCHAR(200) NOT NULL,\n            DEVICE_DATA VARCHAR(2048) NOT NULL,\n            PRIMARY
    KEY (TENANT_ID, DOMAIN_NAME, USER_NAME, KEY_HANDLE)\n        )ENGINE INNODB;\n\nCREATE
    TABLE IF NOT EXISTS FIDO2_DEVICE_STORE (\n            TENANT_ID INTEGER,\n            DOMAIN_NAME
    VARCHAR(255) NOT NULL,\n            USER_NAME VARCHAR(45) NOT NULL,\n            TIME_REGISTERED
    TIMESTAMP,\n            USER_HANDLE VARCHAR(64) NOT NULL,\n            CREDENTIAL_ID
    VARCHAR(200) NOT NULL,\n            PUBLIC_KEY_COSE VARCHAR(1024) NOT NULL,\n
    \           SIGNATURE_COUNT BIGINT,\n            USER_IDENTITY VARCHAR(512) NOT
    NULL,\n            DISPLAY_NAME VARCHAR(255),\n            IS_USERNAMELESS_SUPPORTED
    CHAR(1) DEFAULT '0',\n            PRIMARY KEY (CREDENTIAL_ID, USER_HANDLE)\n)ENGINE
    INNODB;\n\nCREATE TABLE IF NOT EXISTS WF_REQUEST (\n    UUID VARCHAR (45),\n    CREATED_BY
    VARCHAR (255),\n    TENANT_ID INTEGER DEFAULT -1,\n    OPERATION_TYPE VARCHAR
    (50),\n    CREATED_AT TIMESTAMP,\n    UPDATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n
    \   STATUS VARCHAR (30),\n    REQUEST BLOB,\n    PRIMARY KEY (UUID)\n)ENGINE INNODB;\n\nCREATE
    TABLE IF NOT EXISTS WF_BPS_PROFILE (\n    PROFILE_NAME VARCHAR(45),\n    HOST_URL_MANAGER
    VARCHAR(255),\n    HOST_URL_WORKER VARCHAR(255),\n    USERNAME VARCHAR(100),\n
    \   PASSWORD VARCHAR(1023),\n    CALLBACK_HOST VARCHAR (45),\n    CALLBACK_USERNAME
    VARCHAR (100),\n    CALLBACK_PASSWORD VARCHAR (255),\n    TENANT_ID INTEGER DEFAULT
    -1,\n    PRIMARY KEY (PROFILE_NAME, TENANT_ID)\n)ENGINE INNODB;\n\nCREATE TABLE
    IF NOT EXISTS WF_WORKFLOW(\n    ID VARCHAR (45),\n    WF_NAME VARCHAR (45),\n
    \   DESCRIPTION VARCHAR (255),\n    TEMPLATE_ID VARCHAR (45),\n    IMPL_ID VARCHAR
    (45),\n    TENANT_ID INTEGER DEFAULT -1,\n    PRIMARY KEY (ID)\n)ENGINE INNODB;\n\nCREATE
    TABLE IF NOT EXISTS WF_WORKFLOW_ASSOCIATION(\n    ID INTEGER NOT NULL AUTO_INCREMENT,\n
    \   ASSOC_NAME VARCHAR (45),\n    EVENT_ID VARCHAR(45),\n    ASSOC_CONDITION VARCHAR
    (2000),\n    WORKFLOW_ID VARCHAR (45),\n    IS_ENABLED CHAR (1) DEFAULT '1',\n
    \   TENANT_ID INTEGER DEFAULT -1,\n    PRIMARY KEY(ID),\n    FOREIGN KEY (WORKFLOW_ID)
    REFERENCES WF_WORKFLOW(ID)ON DELETE CASCADE\n)ENGINE INNODB;\n\nCREATE TABLE IF
    NOT EXISTS WF_WORKFLOW_CONFIG_PARAM(\n    WORKFLOW_ID VARCHAR (45),\n    PARAM_NAME
    VARCHAR (45),\n    PARAM_VALUE VARCHAR (1000),\n    PARAM_QNAME VARCHAR (45),\n
    \   PARAM_HOLDER VARCHAR (45),\n    TENANT_ID INTEGER DEFAULT -1,\n    PRIMARY
    KEY (WORKFLOW_ID, PARAM_NAME, PARAM_QNAME, PARAM_HOLDER),\n    FOREIGN KEY (WORKFLOW_ID)
    REFERENCES WF_WORKFLOW(ID)ON DELETE CASCADE\n)ENGINE INNODB;\n\nCREATE TABLE IF
    NOT EXISTS WF_REQUEST_ENTITY_RELATIONSHIP(\n  REQUEST_ID VARCHAR (45),\n  ENTITY_NAME
    VARCHAR (255),\n  ENTITY_TYPE VARCHAR (50),\n  TENANT_ID INTEGER DEFAULT -1,\n
    \ PRIMARY KEY(REQUEST_ID, ENTITY_NAME, ENTITY_TYPE, TENANT_ID),\n  FOREIGN KEY
    (REQUEST_ID) REFERENCES WF_REQUEST(UUID)ON DELETE CASCADE\n)ENGINE INNODB;\n\nCREATE
    TABLE IF NOT EXISTS WF_WORKFLOW_REQUEST_RELATION(\n  RELATIONSHIP_ID VARCHAR (45),\n
    \ WORKFLOW_ID VARCHAR (45),\n  REQUEST_ID VARCHAR (45),\n  UPDATED_AT TIMESTAMP,\n
    \ STATUS VARCHAR (30),\n  TENANT_ID INTEGER DEFAULT -1,\n  PRIMARY KEY (RELATIONSHIP_ID),\n
    \ FOREIGN KEY (WORKFLOW_ID) REFERENCES WF_WORKFLOW(ID)ON DELETE CASCADE,\n  FOREIGN
    KEY (REQUEST_ID) REFERENCES WF_REQUEST(UUID)ON DELETE CASCADE\n)ENGINE INNODB;\n\nCREATE
    TABLE IF NOT EXISTS IDN_RECOVERY_DATA (\n  USER_NAME VARCHAR(255) NOT NULL,\n
    \ USER_DOMAIN VARCHAR(127) NOT NULL,\n  TENANT_ID INTEGER DEFAULT -1,\n  CODE
    VARCHAR(255) NOT NULL,\n  SCENARIO VARCHAR(255) NOT NULL,\n  STEP VARCHAR(127)
    NOT NULL,\n  TIME_CREATED TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  REMAINING_SETS
    VARCHAR(2500) DEFAULT NULL,\n  PRIMARY KEY(USER_NAME, USER_DOMAIN, TENANT_ID,
    SCENARIO,STEP),\n  UNIQUE(CODE)\n)ENGINE INNODB;\n\nCREATE TABLE IF NOT EXISTS
    IDN_PASSWORD_HISTORY_DATA (\n  ID INTEGER NOT NULL AUTO_INCREMENT,\n  USER_NAME
    \  VARCHAR(255) NOT NULL,\n  USER_DOMAIN VARCHAR(127) NOT NULL,\n  TENANT_ID   INTEGER
    DEFAULT -1,\n  SALT_VALUE  VARCHAR(255),\n  HASH        VARCHAR(255) NOT NULL,\n
    \ TIME_CREATED TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  PRIMARY KEY(ID)\n)ENGINE
    INNODB;\n\nCREATE TABLE IF NOT EXISTS IDN_CLAIM_DIALECT (\n  ID INTEGER NOT NULL
    AUTO_INCREMENT,\n  DIALECT_URI VARCHAR (255) NOT NULL,\n  TENANT_ID INTEGER NOT
    NULL,\n  PRIMARY KEY (ID),\n  CONSTRAINT DIALECT_URI_CONSTRAINT UNIQUE (DIALECT_URI,
    TENANT_ID)\n)ENGINE INNODB;\n\nCREATE TABLE IF NOT EXISTS IDN_CLAIM (\n  ID INTEGER
    NOT NULL AUTO_INCREMENT,\n  DIALECT_ID INTEGER NOT NULL,\n  CLAIM_URI VARCHAR
    (255) NOT NULL,\n  TENANT_ID INTEGER NOT NULL,\n  PRIMARY KEY (ID),\n  FOREIGN
    KEY (DIALECT_ID) REFERENCES IDN_CLAIM_DIALECT(ID) ON DELETE CASCADE,\n  CONSTRAINT
    CLAIM_URI_CONSTRAINT UNIQUE (DIALECT_ID, CLAIM_URI, TENANT_ID)\n)ENGINE INNODB;\n\nCREATE
    TABLE IF NOT EXISTS IDN_CLAIM_MAPPED_ATTRIBUTE (\n  ID INTEGER NOT NULL AUTO_INCREMENT,\n
    \ LOCAL_CLAIM_ID INTEGER,\n  USER_STORE_DOMAIN_NAME VARCHAR (255) NOT NULL,\n
    \ ATTRIBUTE_NAME VARCHAR (255) NOT NULL,\n  TENANT_ID INTEGER NOT NULL,\n  PRIMARY
    KEY (ID),\n  FOREIGN KEY (LOCAL_CLAIM_ID) REFERENCES IDN_CLAIM(ID) ON DELETE CASCADE,\n
    \ CONSTRAINT USER_STORE_DOMAIN_CONSTRAINT UNIQUE (LOCAL_CLAIM_ID, USER_STORE_DOMAIN_NAME,
    TENANT_ID)\n)ENGINE INNODB;\n\nCREATE TABLE IF NOT EXISTS IDN_CLAIM_PROPERTY (\n
    \ ID INTEGER NOT NULL AUTO_INCREMENT,\n  LOCAL_CLAIM_ID INTEGER,\n  PROPERTY_NAME
    VARCHAR (255) NOT NULL,\n  PROPERTY_VALUE VARCHAR (255) NOT NULL,\n  TENANT_ID
    INTEGER NOT NULL,\n  PRIMARY KEY (ID),\n  FOREIGN KEY (LOCAL_CLAIM_ID) REFERENCES
    IDN_CLAIM(ID) ON DELETE CASCADE,\n  CONSTRAINT PROPERTY_NAME_CONSTRAINT UNIQUE
    (LOCAL_CLAIM_ID, PROPERTY_NAME, TENANT_ID)\n)ENGINE INNODB;\n\nCREATE TABLE IF
    NOT EXISTS IDN_CLAIM_MAPPING (\n  ID INTEGER NOT NULL AUTO_INCREMENT,\n  EXT_CLAIM_ID
    INTEGER NOT NULL,\n  MAPPED_LOCAL_CLAIM_ID INTEGER NOT NULL,\n  TENANT_ID INTEGER
    NOT NULL,\n  PRIMARY KEY (ID),\n  FOREIGN KEY (EXT_CLAIM_ID) REFERENCES IDN_CLAIM(ID)
    ON DELETE CASCADE,\n  FOREIGN KEY (MAPPED_LOCAL_CLAIM_ID) REFERENCES IDN_CLAIM(ID)
    ON DELETE CASCADE,\n  CONSTRAINT EXT_TO_LOC_MAPPING_CONSTRN UNIQUE (EXT_CLAIM_ID,
    TENANT_ID)\n)ENGINE INNODB;\n\nCREATE TABLE IF NOT EXISTS  IDN_SAML2_ASSERTION_STORE
    (\n  ID INTEGER NOT NULL AUTO_INCREMENT,\n  SAML2_ID  VARCHAR(255) ,\n  SAML2_ISSUER
    \ VARCHAR(255) ,\n  SAML2_SUBJECT  VARCHAR(255) ,\n  SAML2_SESSION_INDEX  VARCHAR(255)
    ,\n  SAML2_AUTHN_CONTEXT_CLASS_REF  VARCHAR(255) ,\n  SAML2_ASSERTION  VARCHAR(4096)
    ,\n  ASSERTION BLOB ,\n  PRIMARY KEY (ID)\n)ENGINE INNODB;\n\nCREATE TABLE IDN_SAML2_ARTIFACT_STORE
    (\n  ID INT(11) NOT NULL AUTO_INCREMENT,\n  SOURCE_ID VARCHAR(255) NOT NULL,\n
    \ MESSAGE_HANDLER VARCHAR(255) NOT NULL,\n  AUTHN_REQ_DTO BLOB NOT NULL,\n  SESSION_ID
    VARCHAR(255) NOT NULL,\n  EXP_TIMESTAMP TIMESTAMP NOT NULL,\n  INIT_TIMESTAMP
    TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  ASSERTION_ID VARCHAR(255),\n
    \ PRIMARY KEY (`ID`)\n)ENGINE INNODB;\n\nCREATE TABLE IF NOT EXISTS IDN_OIDC_JTI
    (\n  JWT_ID VARCHAR(255) NOT NULL,\n  EXP_TIME TIMESTAMP NOT NULL ,\n  TIME_CREATED
    TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ,\n  PRIMARY KEY (JWT_ID)\n)ENGINE
    INNODB;\n\nCREATE TABLE IF NOT EXISTS  IDN_OIDC_PROPERTY (\n  ID INTEGER NOT NULL
    AUTO_INCREMENT,\n  TENANT_ID  INTEGER,\n  CONSUMER_KEY  VARCHAR(255) ,\n  PROPERTY_KEY
    \ VARCHAR(255) NOT NULL,\n  PROPERTY_VALUE  VARCHAR(2047) ,\n  PRIMARY KEY (ID),\n
    \ FOREIGN KEY (CONSUMER_KEY) REFERENCES IDN_OAUTH_CONSUMER_APPS(CONSUMER_KEY)
    ON DELETE CASCADE\n)ENGINE INNODB;\n\nCREATE TABLE IF NOT EXISTS IDN_OIDC_REQ_OBJECT_REFERENCE
    (\n  ID INTEGER NOT NULL AUTO_INCREMENT,\n  CONSUMER_KEY_ID INTEGER ,\n  CODE_ID
    VARCHAR(255) ,\n  TOKEN_ID VARCHAR(255) ,\n  SESSION_DATA_KEY VARCHAR(255),\n
    \ PRIMARY KEY (ID),\n  FOREIGN KEY (CONSUMER_KEY_ID) REFERENCES IDN_OAUTH_CONSUMER_APPS(ID)
    ON DELETE CASCADE,\n  FOREIGN KEY (TOKEN_ID) REFERENCES IDN_OAUTH2_ACCESS_TOKEN(TOKEN_ID)
    ON DELETE CASCADE,\n  FOREIGN KEY (CODE_ID) REFERENCES IDN_OAUTH2_AUTHORIZATION_CODE(CODE_ID)
    ON DELETE CASCADE\n)ENGINE INNODB;\n\nCREATE TABLE IF NOT EXISTS IDN_OIDC_REQ_OBJECT_CLAIMS
    (\n  ID INTEGER NOT NULL AUTO_INCREMENT,\n  REQ_OBJECT_ID INTEGER,\n  CLAIM_ATTRIBUTE
    VARCHAR(255) ,\n  ESSENTIAL CHAR(1) NOT NULL DEFAULT '0' ,\n  VALUE VARCHAR(255)
    ,\n  IS_USERINFO CHAR(1) NOT NULL DEFAULT '0',\n  PRIMARY KEY (ID),\n  FOREIGN
    KEY (REQ_OBJECT_ID) REFERENCES IDN_OIDC_REQ_OBJECT_REFERENCE (ID) ON DELETE CASCADE\n)ENGINE
    INNODB;\n\nCREATE TABLE IF NOT EXISTS IDN_OIDC_REQ_OBJ_CLAIM_VALUES (\n  ID INTEGER
    NOT NULL AUTO_INCREMENT,\n  REQ_OBJECT_CLAIMS_ID INTEGER ,\n  CLAIM_VALUES VARCHAR(255)
    ,\n  PRIMARY KEY (ID),\n  FOREIGN KEY (REQ_OBJECT_CLAIMS_ID) REFERENCES  IDN_OIDC_REQ_OBJECT_CLAIMS(ID)
    ON DELETE CASCADE\n)ENGINE INNODB;\n\nCREATE TABLE IF NOT EXISTS IDN_CERTIFICATE
    (\n             ID INTEGER NOT NULL AUTO_INCREMENT,\n             NAME VARCHAR(100),\n
    \            CERTIFICATE_IN_PEM BLOB,\n             TENANT_ID INTEGER DEFAULT
    0,\n             PRIMARY KEY(ID),\n             CONSTRAINT CERTIFICATE_UNIQUE_KEY
    UNIQUE (NAME, TENANT_ID)\n)ENGINE INNODB;\n\nCREATE TABLE IF NOT EXISTS IDN_OIDC_SCOPE_CLAIM_MAPPING
    (\n            ID INTEGER NOT NULL AUTO_INCREMENT,\n            SCOPE_ID INTEGER
    NOT NULL,\n            EXTERNAL_CLAIM_ID INTEGER NOT NULL,\n            PRIMARY
    KEY (ID),\n            FOREIGN KEY (SCOPE_ID) REFERENCES IDN_OAUTH2_SCOPE(SCOPE_ID)
    ON DELETE CASCADE,\n            FOREIGN KEY (EXTERNAL_CLAIM_ID) REFERENCES IDN_CLAIM(ID)
    ON DELETE CASCADE,\n            UNIQUE (SCOPE_ID, EXTERNAL_CLAIM_ID)\n)ENGINE
    INNODB;\n\nCREATE TABLE IF NOT EXISTS IDN_FUNCTION_LIBRARY (\n\tNAME VARCHAR(255)
    NOT NULL,\n\tDESCRIPTION VARCHAR(1023),\n\tTYPE VARCHAR(255) NOT NULL,\n\tTENANT_ID
    INTEGER NOT NULL,\n\tDATA BLOB NOT NULL,\n\tPRIMARY KEY (TENANT_ID,NAME)\n)ENGINE
    INNODB;\n\nCREATE TABLE IF NOT EXISTS IDN_OAUTH2_CIBA_AUTH_CODE (\n    AUTH_CODE_KEY
    CHAR (36),\n    AUTH_REQ_ID CHAR (36),\n    ISSUED_TIME TIMESTAMP NOT NULL DEFAULT
    CURRENT_TIMESTAMP,\n    CONSUMER_KEY VARCHAR(255),\n    LAST_POLLED_TIME TIMESTAMP
    NOT NULL DEFAULT CURRENT_TIMESTAMP,\n    POLLING_INTERVAL INTEGER,\n    EXPIRES_IN
    \ INTEGER,\n    AUTHENTICATED_USER_NAME VARCHAR(255),\n    USER_STORE_DOMAIN VARCHAR(100),\n
    \   TENANT_ID INTEGER,\n    AUTH_REQ_STATUS VARCHAR (100) DEFAULT 'REQUESTED',\n
    \   IDP_ID INTEGER,\n    UNIQUE(AUTH_REQ_ID),\n    PRIMARY KEY (AUTH_CODE_KEY),\n
    \   FOREIGN KEY (CONSUMER_KEY) REFERENCES IDN_OAUTH_CONSUMER_APPS(CONSUMER_KEY)
    ON DELETE CASCADE\n)ENGINE INNODB;\n\nCREATE TABLE IF NOT EXISTS IDN_OAUTH2_CIBA_REQUEST_SCOPES
    (\n    ID            INTEGER NOT NULL AUTO_INCREMENT,\n    AUTH_CODE_KEY CHAR
    (36),\n    SCOPE VARCHAR (255),\n    FOREIGN KEY (AUTH_CODE_KEY) REFERENCES IDN_OAUTH2_CIBA_AUTH_CODE(AUTH_CODE_KEY)
    ON DELETE CASCADE,\n    PRIMARY KEY (ID)\n)ENGINE INNODB;\n\nCREATE TABLE IF NOT
    EXISTS IDN_FED_AUTH_SESSION_MAPPING (\n    ID INTEGER NOT NULL AUTO_INCREMENT,\n\tIDP_SESSION_ID
    VARCHAR(255) NOT NULL,\n\tSESSION_ID VARCHAR(255) NOT NULL,\n\tIDP_NAME VARCHAR(255)
    NOT NULL,\n\tAUTHENTICATOR_ID VARCHAR(255),\n\tPROTOCOL_TYPE VARCHAR(255),\n\tTIME_CREATED
    TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n\tTENANT_ID INTEGER NOT NULL DEFAULT
    0,\n\tPRIMARY KEY (ID),\n    UNIQUE (IDP_SESSION_ID, TENANT_ID)\n)ENGINE INNODB;\n\nCREATE
    TABLE IF NOT EXISTS IDN_CONFIG_TYPE (\n    ID VARCHAR(255) NOT NULL,\n    NAME
    VARCHAR(255) NOT NULL,\n    DESCRIPTION VARCHAR(1023) NULL,\n    PRIMARY KEY (ID),\n
    \   CONSTRAINT TYPE_NAME_CONSTRAINT UNIQUE (NAME)\n)ENGINE INNODB;\n\nINSERT INTO
    IDN_CONFIG_TYPE (ID, NAME, DESCRIPTION) VALUES\n('9ab0ef95-13e9-4ed5-afaf-d29bed62f7bd',
    'IDP_TEMPLATE', 'Template type to uniquely identify IDP templates'),\n('3c4ac3d0-5903-4e3d-aaca-38df65b33bfd',
    'APPLICATION_TEMPLATE', 'Template type to uniquely identify Application templates'),\n('8ec6dbf1-218a-49bf-bc34-0d2db52d151c',
    'CORS_CONFIGURATION', 'A resource type to keep the tenant CORS configurations'),\n('669b99ca-cdb0-44a6-8cae-babed3b585df',
    'Publisher', 'A resource type to keep the event publisher configurations'),\n('73f6d9ca-62f4-4566-bab9-2a930ae51ba8',
    'BRANDING_PREFERENCES', 'A resource type to keep the tenant branding preferences'),\n('899c69b2-8bf7-46b5-9666-f7f99f90d6cc',
    'fido-config', 'A resource type to store FIDO authenticator related preferences');\n\nCREATE
    TABLE IF NOT EXISTS IDN_CONFIG_RESOURCE (\n    ID VARCHAR(255) NOT NULL,\n    TENANT_ID
    INT NOT NULL,\n    NAME VARCHAR(255) NOT NULL,\n    CREATED_TIME TIMESTAMP DEFAULT
    CURRENT_TIMESTAMP,\n    LAST_MODIFIED TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    HAS_FILE
    tinyint(1) NOT NULL,\n    HAS_ATTRIBUTE tinyint(1) NOT NULL,\n    TYPE_ID VARCHAR(255)
    NOT NULL,\n    PRIMARY KEY (ID),\n    CONSTRAINT NAME_TENANT_TYPE_CONSTRAINT UNIQUE
    (NAME, TENANT_ID, TYPE_ID)\n)ENGINE INNODB;\nALTER TABLE IDN_CONFIG_RESOURCE ADD
    CONSTRAINT TYPE_ID_FOREIGN_CONSTRAINT FOREIGN KEY (TYPE_ID) REFERENCES\nIDN_CONFIG_TYPE
    (ID) ON DELETE CASCADE ON UPDATE CASCADE;\n\nCREATE TABLE IF NOT EXISTS IDN_CONFIG_ATTRIBUTE
    (\n    ID VARCHAR(255) NOT NULL,\n    RESOURCE_ID VARCHAR(255) NOT NULL,\n    ATTR_KEY
    VARCHAR(255) NOT NULL,\n    ATTR_VALUE VARCHAR(1023) NULL,\n    PRIMARY KEY (ID),\n
    \   CONSTRAINT RESOURCE_KEY_VAL_CONSTRAINT UNIQUE (RESOURCE_ID(64), ATTR_KEY(255))\n)ENGINE
    INNODB;\nALTER TABLE IDN_CONFIG_ATTRIBUTE ADD CONSTRAINT RESOURCE_ID_ATTRIBUTE_FOREIGN_CONSTRAINT
    FOREIGN KEY (RESOURCE_ID)\nREFERENCES IDN_CONFIG_RESOURCE (ID) ON DELETE CASCADE
    ON UPDATE CASCADE;\n\nCREATE TABLE IF NOT EXISTS IDN_CONFIG_FILE (\n    ID VARCHAR(255)
    NOT NULL,\n    VALUE BLOB NULL,\n    RESOURCE_ID VARCHAR(255) NOT NULL,\n    NAME
    VARCHAR(255) NULL,\n    PRIMARY KEY (ID)\n)ENGINE INNODB;\nALTER TABLE IDN_CONFIG_FILE
    ADD CONSTRAINT RESOURCE_ID_FILE_FOREIGN_CONSTRAINT FOREIGN KEY (RESOURCE_ID) REFERENCES\nIDN_CONFIG_RESOURCE
    (ID) ON DELETE CASCADE ON UPDATE CASCADE;\n\nCREATE TABLE IDN_REMOTE_FETCH_CONFIG
    (\n\tID VARCHAR(255) NOT NULL,\n\tTENANT_ID INT NOT NULL,\n\tIS_ENABLED CHAR(1)
    NOT NULL,\n\tREPO_MANAGER_TYPE VARCHAR(255) NOT NULL,\n\tACTION_LISTENER_TYPE
    VARCHAR(255) NOT NULL,\n\tCONFIG_DEPLOYER_TYPE VARCHAR(255) NOT NULL,\n\tREMOTE_FETCH_NAME
    VARCHAR(255),\n\tREMOTE_RESOURCE_URI VARCHAR(255) NOT NULL,\n\tATTRIBUTES_JSON
    MEDIUMTEXT NOT NULL,\n\tPRIMARY KEY (ID),\n\tCONSTRAINT UC_REMOTE_RESOURCE_TYPE
    UNIQUE (TENANT_ID, CONFIG_DEPLOYER_TYPE)\n)ENGINE INNODB;\n\nCREATE TABLE IDN_REMOTE_FETCH_REVISIONS
    (\n    ID VARCHAR(255) NOT NULL,\n    CONFIG_ID VARCHAR(255) NOT NULL,\n\tFILE_PATH
    VARCHAR(255) NOT NULL,\n\tFILE_HASH VARCHAR(255),\n\tDEPLOYED_DATE TIMESTAMP NOT
    NULL DEFAULT CURRENT_TIMESTAMP,\n\tLAST_SYNC_TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n\tDEPLOYMENT_STATUS
    VARCHAR(255),\n\tITEM_NAME VARCHAR(255),\n\tDEPLOY_ERR_LOG MEDIUMTEXT,\n\tPRIMARY
    KEY (ID),\n\tFOREIGN KEY (CONFIG_ID) REFERENCES IDN_REMOTE_FETCH_CONFIG(ID) ON
    DELETE CASCADE,\n\tCONSTRAINT UC_REVISIONS UNIQUE (CONFIG_ID, ITEM_NAME)\n)ENGINE
    INNODB;\n\nCREATE TABLE IF NOT EXISTS IDN_USER_FUNCTIONALITY_MAPPING (\n\tID VARCHAR(255)
    NOT NULL,\n\tUSER_ID VARCHAR(255) NOT NULL,\n\tTENANT_ID INTEGER NOT NULL,\n\tFUNCTIONALITY_ID
    VARCHAR(255) NOT NULL,\n\tIS_FUNCTIONALITY_LOCKED BOOLEAN NOT NULL,\n\tFUNCTIONALITY_UNLOCK_TIME
    BIGINT NOT NULL,\n\tFUNCTIONALITY_LOCK_REASON VARCHAR(1023),\n\tFUNCTIONALITY_LOCK_REASON_CODE
    VARCHAR(255),\n\tPRIMARY KEY (ID),\n\tCONSTRAINT IDN_USER_FUNCTIONALITY_MAPPING_CONSTRAINT
    UNIQUE (USER_ID, TENANT_ID, FUNCTIONALITY_ID)\n)ENGINE INNODB;\n\nCREATE TABLE
    IF NOT EXISTS IDN_USER_FUNCTIONALITY_PROPERTY (\n\tID VARCHAR(255) NOT NULL,\n\tUSER_ID
    VARCHAR(255) NOT NULL,\n\tTENANT_ID INTEGER NOT NULL,\n\tFUNCTIONALITY_ID VARCHAR(255)
    NOT NULL,\n\tPROPERTY_NAME VARCHAR(255),\n\tPROPERTY_VALUE VARCHAR(255),\n\tPRIMARY
    KEY (ID),\n\tCONSTRAINT IDN_USER_FUNCTIONALITY_PROPERTY_CONSTRAINT UNIQUE (USER_ID,
    TENANT_ID, FUNCTIONALITY_ID, PROPERTY_NAME)\n)ENGINE INNODB;\n\nCREATE TABLE IF
    NOT EXISTS IDN_CORS_ORIGIN (\n    ID                INT           NOT NULL AUTO_INCREMENT,\n
    \   TENANT_ID         INT           NOT NULL,\n    ORIGIN            VARCHAR(2048)
    NOT NULL,\n    UUID              CHAR(36)      NOT NULL,\n    PRIMARY KEY (ID),\n
    \   UNIQUE (UUID)\n) ENGINE INNODB;\n\nCREATE TABLE IF NOT EXISTS IDN_CORS_ASSOCIATION
    (\n    IDN_CORS_ORIGIN_ID  INT NOT NULL,\n    SP_APP_ID           INT NOT NULL,\n\n
    \   PRIMARY KEY (IDN_CORS_ORIGIN_ID, SP_APP_ID),\n    FOREIGN KEY (IDN_CORS_ORIGIN_ID)
    REFERENCES IDN_CORS_ORIGIN (ID) ON DELETE CASCADE,\n    FOREIGN KEY (SP_APP_ID)
    REFERENCES SP_APP (ID) ON DELETE CASCADE\n) ENGINE INNODB;\n\nCREATE TABLE IF
    NOT EXISTS IDN_OAUTH2_USER_CONSENT (\n    ID INTEGER NOT NULL AUTO_INCREMENT,\n
    \   USER_ID VARCHAR(255) NOT NULL,\n    APP_ID CHAR(36) NOT NULL,\n    TENANT_ID
    INTEGER NOT NULL DEFAULT -1,\n    CONSENT_ID VARCHAR(255) NOT NULL,\n\n    PRIMARY
    KEY (ID),\n    FOREIGN KEY (APP_ID) REFERENCES SP_APP(UUID) ON DELETE CASCADE,\n
    \   UNIQUE (USER_ID, APP_ID, TENANT_ID),\n    UNIQUE (CONSENT_ID)\n) ENGINE INNODB;\n\nCREATE
    TABLE IF NOT EXISTS IDN_OAUTH2_USER_CONSENTED_SCOPES (\n    ID INTEGER NOT NULL
    AUTO_INCREMENT,\n    CONSENT_ID VARCHAR(255) NOT NULL,\n    TENANT_ID INTEGER
    NOT NULL DEFAULT -1,\n    SCOPE VARCHAR(255) NOT NULL,\n    CONSENT BOOLEAN NOT
    NULL DEFAULT 1,\n\n    PRIMARY KEY (ID),\n    FOREIGN KEY (CONSENT_ID) REFERENCES
    IDN_OAUTH2_USER_CONSENT(CONSENT_ID) ON DELETE CASCADE,\n    UNIQUE (CONSENT_ID,
    SCOPE)\n) ENGINE INNODB;\n\nCREATE TABLE IF NOT EXISTS IDN_SECRET_TYPE (\n    ID
    VARCHAR(255) NOT NULL,\n    NAME VARCHAR(255) NOT NULL,\n    DESCRIPTION VARCHAR(1023)
    NULL,\n    PRIMARY KEY (ID),\n    CONSTRAINT SECRET_TYPE_NAME_CONSTRAINT UNIQUE
    (NAME)\n)ENGINE INNODB;\n\nINSERT INTO IDN_SECRET_TYPE (ID, NAME, DESCRIPTION)
    VALUES\n('1358bdbf-e0cc-4268-a42c-c3e0960e13f0', 'ADAPTIVE_AUTH_CALL_CHOREO',
    'Secret type to uniquely identify secrets relevant to callChoreo adaptive auth
    function');\n\nCREATE TABLE IF NOT EXISTS IDN_SECRET (\n    ID VARCHAR(255) NOT
    NULL,\n    TENANT_ID INT NOT NULL,\n    SECRET_NAME VARCHAR(255) NOT NULL,\n    SECRET_VALUE
    VARCHAR(8000) NOT NULL,\n    CREATED_TIME TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n
    \   LAST_MODIFIED TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    TYPE_ID       VARCHAR(255)
    NOT NULL,\n    DESCRIPTION VARCHAR(1023) NULL,\n    PRIMARY KEY (ID),\n    FOREIGN
    KEY (TYPE_ID) REFERENCES IDN_SECRET_TYPE(ID) ON DELETE CASCADE,\n    UNIQUE (SECRET_NAME,
    TENANT_ID, TYPE_ID)\n)ENGINE INNODB;\n\nCREATE TABLE IF NOT EXISTS SP_SHARED_APP
    (\n    ID INTEGER NOT NULL AUTO_INCREMENT,\n    MAIN_APP_ID CHAR(36) NOT NULL,\n
    \   OWNER_ORG_ID CHAR(36) NOT NULL,\n    SHARED_APP_ID CHAR(36) NOT NULL,\n    SHARED_ORG_ID
    CHAR(36) NOT NULL,\n    PRIMARY KEY (ID),\n    FOREIGN KEY (MAIN_APP_ID) REFERENCES
    SP_APP(UUID) ON DELETE CASCADE,\n    FOREIGN KEY (SHARED_APP_ID) REFERENCES SP_APP(UUID)
    ON DELETE CASCADE,\n    UNIQUE (MAIN_APP_ID, OWNER_ORG_ID, SHARED_ORG_ID),\n    UNIQUE
    (SHARED_APP_ID)\n)ENGINE INNODB;\n\nCREATE TABLE IF NOT EXISTS IDN_INVALID_TOKENS
    (\n    UUID VARCHAR(255) NOT NULL,\n    TOKEN_IDENTIFIER VARCHAR(2048) NOT NULL,\n
    \   CONSUMER_KEY VARCHAR(255) NOT NULL,\n    TIME_CREATED TIMESTAMP NOT NULL DEFAULT
    CURRENT_TIMESTAMP,\n    EXPIRY_TIMESTAMP TIMESTAMP NOT NULL,\n    PRIMARY KEY
    (UUID)\n)ENGINE=InnoDB;\n\nCREATE TABLE IF NOT EXISTS IDN_APP_REVOKED_EVENT (\n\tEVENT_ID
    VARCHAR(255) NOT NULL,\n\tCONSUMER_KEY VARCHAR(255) NOT NULL,\n\tTIME_REVOKED
    TIMESTAMP NOT NULL,\n\tORGANIZATION VARCHAR(100),\n\tPRIMARY KEY (EVENT_ID),\n\tCONSTRAINT
    CON_APP_EVT_KEY UNIQUE (CONSUMER_KEY, ORGANIZATION)\n)ENGINE=InnoDB;\n\nCREATE
    TABLE IF NOT EXISTS IDN_SUBJECT_ENTITY_REVOKED_EVENT (\n\tEVENT_ID VARCHAR(255)
    NOT NULL,\n\tENTITY_ID VARCHAR(255) NOT NULL,\n\tENTITY_TYPE VARCHAR(100) NOT
    NULL,\n\tTIME_REVOKED TIMESTAMP NOT NULL,\n\tORGANIZATION VARCHAR(100),\n\tPRIMARY
    KEY (EVENT_ID),\n\tCONSTRAINT CON_SUB_EVT_KEY UNIQUE (ENTITY_ID, ENTITY_TYPE,
    ORGANIZATION)\n)ENGINE=InnoDB;\n\n-- --------------------------- INDEX CREATION
    -----------------------------\n-- IDN_OAUTH2_ACCESS_TOKEN --\nCREATE INDEX IDX_TC
    ON IDN_OAUTH2_ACCESS_TOKEN(TIME_CREATED);\nCREATE INDEX IDX_ATH ON IDN_OAUTH2_ACCESS_TOKEN(ACCESS_TOKEN_HASH);\nCREATE
    INDEX IDX_AT_TI_UD ON IDN_OAUTH2_ACCESS_TOKEN(AUTHZ_USER, TENANT_ID, TOKEN_STATE,
    USER_DOMAIN);\nCREATE INDEX IDX_AT_RTH ON IDN_OAUTH2_ACCESS_TOKEN(REFRESH_TOKEN_HASH);\nCREATE
    INDEX IDX_AT_CKID_AU_TID_UD_TSH_TS ON IDN_OAUTH2_ACCESS_TOKEN(CONSUMER_KEY_ID,
    AUTHZ_USER, TENANT_ID, USER_DOMAIN, TOKEN_SCOPE_HASH, TOKEN_STATE);\n\n-- IDN_OAUTH2_AUTHORIZATION_CODE
    --\nCREATE INDEX IDX_AUTHORIZATION_CODE_HASH ON IDN_OAUTH2_AUTHORIZATION_CODE
    (AUTHORIZATION_CODE_HASH, CONSUMER_KEY_ID);\nCREATE INDEX IDX_AUTHORIZATION_CODE_AU_TI
    ON IDN_OAUTH2_AUTHORIZATION_CODE (AUTHZ_USER, TENANT_ID, USER_DOMAIN, STATE);\nCREATE
    INDEX IDX_AC_CKID ON IDN_OAUTH2_AUTHORIZATION_CODE(CONSUMER_KEY_ID);\nCREATE INDEX
    IDX_AC_TID ON IDN_OAUTH2_AUTHORIZATION_CODE(TOKEN_ID);\n\n-- IDN_SCIM_GROUP --\nCREATE
    INDEX IDX_IDN_SCIM_GROUP_TI_RN ON IDN_SCIM_GROUP (TENANT_ID, ROLE_NAME);\nCREATE
    INDEX IDX_IDN_SCIM_GROUP_TI_RN_AN ON IDN_SCIM_GROUP (TENANT_ID, ROLE_NAME, ATTR_NAME(500));\n\n--
    IDN_AUTH_SESSION_STORE --\nCREATE INDEX IDX_IDN_AUTH_SESSION_TIME ON IDN_AUTH_SESSION_STORE
    (TIME_CREATED);\nCREATE INDEX IDX_IDN_AUTH_SSTR_ST_OP_ID_TM ON IDN_AUTH_SESSION_STORE
    (OPERATION, SESSION_TYPE, SESSION_ID, TIME_CREATED);\nCREATE INDEX IDX_IDN_AUTH_SSTR_ET_ID
    ON IDN_AUTH_SESSION_STORE (EXPIRY_TIME, SESSION_ID);\n\n-- IDN_AUTH_TEMP_SESSION_STORE
    --\nCREATE INDEX IDX_IDN_AUTH_TMP_SESSION_TIME ON IDN_AUTH_TEMP_SESSION_STORE
    (TIME_CREATED);\n\n-- IDN_OIDC_SCOPE_CLAIM_MAPPING --\nCREATE INDEX IDX_AT_SI_ECI
    ON IDN_OIDC_SCOPE_CLAIM_MAPPING(SCOPE_ID, EXTERNAL_CLAIM_ID);\n\n-- IDN_OAUTH2_SCOPE
    --\nCREATE INDEX IDX_SC_TID ON IDN_OAUTH2_SCOPE(TENANT_ID);\n\n-- IDN_OAUTH2_SCOPE_BINDING
    --\nCREATE INDEX IDX_SB_SCPID ON IDN_OAUTH2_SCOPE_BINDING(SCOPE_ID);\n\n-- IDN_OIDC_REQ_OBJECT_REFERENCE
    --\nCREATE INDEX IDX_OROR_TID ON IDN_OIDC_REQ_OBJECT_REFERENCE(TOKEN_ID);\n\n--
    IDN_OAUTH2_ACCESS_TOKEN_SCOPE --\nCREATE INDEX IDX_ATS_TID ON IDN_OAUTH2_ACCESS_TOKEN_SCOPE(TOKEN_ID);\n\n--
    SP_TEMPLATE --\nCREATE INDEX IDX_SP_TEMPLATE ON SP_TEMPLATE (TENANT_ID, NAME);\n\n--
    IDN_AUTH_USER --\nCREATE INDEX IDX_AUTH_USER_UN_TID_DN ON IDN_AUTH_USER (USER_NAME,
    TENANT_ID, DOMAIN_NAME);\nCREATE INDEX IDX_AUTH_USER_DN_TOD ON IDN_AUTH_USER (DOMAIN_NAME,
    TENANT_ID);\n\n-- IDN_AUTH_USER_SESSION_MAPPING --\nCREATE INDEX IDX_USER_ID ON
    IDN_AUTH_USER_SESSION_MAPPING (USER_ID);\nCREATE INDEX IDX_SESSION_ID ON IDN_AUTH_USER_SESSION_MAPPING
    (SESSION_ID);\n\n-- IDN_AUTH_SESSION_APP_INFO --\nCREATE INDEX IDX_AUTH_SAI_UN_AID_SID
    ON IDN_AUTH_SESSION_APP_INFO (APP_ID, SUBJECT, SESSION_ID);\n\n-- IDN_OAUTH_CONSUMER_APPS
    --\nCREATE INDEX IDX_OCA_UM_TID_UD_APN ON IDN_OAUTH_CONSUMER_APPS(USERNAME,TENANT_ID,USER_DOMAIN,
    APP_NAME);\n\n-- IDX_SPI_APP --\nCREATE INDEX IDX_SPI_APP ON SP_INBOUND_AUTH(APP_ID);\n\n--
    IDN_OIDC_PROPERTY --\nCREATE INDEX IDX_IOP_CK ON IDN_OIDC_PROPERTY(CONSUMER_KEY);\n\n--
    IDN_FIDO2_PROPERTY --\nCREATE INDEX IDX_FIDO2_STR ON FIDO2_DEVICE_STORE(USER_NAME,
    TENANT_ID, DOMAIN_NAME, CREDENTIAL_ID, USER_HANDLE);\n\n-- IDN_ASSOCIATED_ID --\nCREATE
    INDEX IDX_AI_DN_UN_AI ON IDN_ASSOCIATED_ID(DOMAIN_NAME, USER_NAME, ASSOCIATION_ID);\n\n--
    IDN_OAUTH2_TOKEN_BINDING --\nCREATE INDEX IDX_IDN_AUTH_BIND ON IDN_OAUTH2_TOKEN_BINDING
    (TOKEN_BINDING_REF);\nCREATE INDEX IDX_TK_VALUE_TYPE ON IDN_OAUTH2_TOKEN_BINDING
    (TOKEN_BINDING_VALUE, TOKEN_BINDING_TYPE);\n\n-- IDN_FED_AUTH_SESSION_MAPPING
    --\nCREATE INDEX IDX_FEDERATED_AUTH_SESSION_ID ON IDN_FED_AUTH_SESSION_MAPPING
    (SESSION_ID);\n\n-- IDN_REMOTE_FETCH_REVISIONS --\nCREATE INDEX IDX_REMOTE_FETCH_REVISION_CONFIG_ID
    ON IDN_REMOTE_FETCH_REVISIONS (CONFIG_ID);\n\n-- IDN_CORS_ASSOCIATION --\nCREATE
    INDEX IDX_CORS_SP_APP_ID ON IDN_CORS_ASSOCIATION (SP_APP_ID);\n\n-- IDN_CORS_ASSOCIATION
    --\nCREATE INDEX IDX_CORS_ORIGIN_ID ON IDN_CORS_ASSOCIATION (IDN_CORS_ORIGIN_ID);\n\n\n--
    End of IDENTITY Tables--\n\n-- Start of CONSENT-MGT Tables --\n\nCREATE TABLE
    CM_PII_CATEGORY (\n  ID           INTEGER AUTO_INCREMENT,\n  NAME         VARCHAR(255)
    NOT NULL,\n  DESCRIPTION  VARCHAR(1023),\n  DISPLAY_NAME VARCHAR(255),\n  IS_SENSITIVE
    INTEGER      NOT NULL,\n  TENANT_ID    INTEGER DEFAULT '-1234',\n  UNIQUE KEY
    (NAME, TENANT_ID),\n  PRIMARY KEY (ID)\n);\n\nCREATE TABLE CM_RECEIPT (\n  CONSENT_RECEIPT_ID
    \ VARCHAR(255) NOT NULL,\n  VERSION             VARCHAR(255) NOT NULL,\n  JURISDICTION
    \       VARCHAR(255) NOT NULL,\n  CONSENT_TIMESTAMP   TIMESTAMP    NOT NULL,\n
    \ COLLECTION_METHOD   VARCHAR(255) NOT NULL,\n  LANGUAGE            VARCHAR(255)
    NOT NULL,\n  PII_PRINCIPAL_ID    VARCHAR(255) NOT NULL,\n  PRINCIPAL_TENANT_ID
    INTEGER DEFAULT '-1234',\n  POLICY_URL          VARCHAR(255) NOT NULL,\n  STATE
    \              VARCHAR(255) NOT NULL,\n  PII_CONTROLLER      VARCHAR(2048) NOT
    NULL,\n  PRIMARY KEY (CONSENT_RECEIPT_ID)\n);\n\nCREATE TABLE CM_PURPOSE (\n  ID
    \           INTEGER AUTO_INCREMENT,\n  NAME          VARCHAR(255) NOT NULL,\n
    \ DESCRIPTION   VARCHAR(1023),\n  PURPOSE_GROUP VARCHAR(255) NOT NULL,\n  GROUP_TYPE
    \   VARCHAR(255) NOT NULL,\n  TENANT_ID     INTEGER DEFAULT '-1234',\n  UNIQUE
    KEY (NAME, TENANT_ID, PURPOSE_GROUP, GROUP_TYPE),\n  PRIMARY KEY (ID)\n);\n\nCREATE
    TABLE CM_PURPOSE_CATEGORY (\n  ID          INTEGER AUTO_INCREMENT,\n  NAME        VARCHAR(255)
    NOT NULL,\n  DESCRIPTION VARCHAR(1023),\n  TENANT_ID   INTEGER DEFAULT '-1234',\n
    \ UNIQUE KEY (NAME, TENANT_ID),\n  PRIMARY KEY (ID)\n);\n\nCREATE TABLE CM_RECEIPT_SP_ASSOC
    (\n  ID                 INTEGER AUTO_INCREMENT,\n  CONSENT_RECEIPT_ID VARCHAR(255)
    NOT NULL,\n  SP_NAME            VARCHAR(255) NOT NULL,\n  SP_DISPLAY_NAME    VARCHAR(255),\n
    \ SP_DESCRIPTION     VARCHAR(1024),\n  SP_TENANT_ID       INTEGER DEFAULT '-1234',\n
    \ UNIQUE KEY (CONSENT_RECEIPT_ID, SP_NAME, SP_TENANT_ID),\n  PRIMARY KEY (ID)\n);\n\nCREATE
    TABLE CM_SP_PURPOSE_ASSOC (\n  ID                     INTEGER AUTO_INCREMENT,\n
    \ RECEIPT_SP_ASSOC       INTEGER      NOT NULL,\n  PURPOSE_ID             INTEGER
    \     NOT NULL,\n  CONSENT_TYPE           VARCHAR(255) NOT NULL,\n  IS_PRIMARY_PURPOSE
    \    INTEGER      NOT NULL,\n  TERMINATION            VARCHAR(255) NOT NULL,\n
    \ THIRD_PARTY_DISCLOSURE INTEGER      NOT NULL,\n  THIRD_PARTY_NAME       VARCHAR(255),\n
    \ UNIQUE KEY (RECEIPT_SP_ASSOC, PURPOSE_ID),\n  PRIMARY KEY (ID)\n);\n\nCREATE
    TABLE CM_SP_PURPOSE_PURPOSE_CAT_ASSC (\n  ID                  INTEGER NOT NULL
    AUTO_INCREMENT,\n  SP_PURPOSE_ASSOC_ID INTEGER NOT NULL,\n  PURPOSE_CATEGORY_ID
    INTEGER NOT NULL,\n  UNIQUE KEY (SP_PURPOSE_ASSOC_ID, PURPOSE_CATEGORY_ID),\n
    \ PRIMARY KEY (ID)\n);\n\nCREATE TABLE CM_PURPOSE_PII_CAT_ASSOC (\n  ID                 INTEGER
    NOT NULL AUTO_INCREMENT,\n  PURPOSE_ID         INTEGER NOT NULL,\n  CM_PII_CATEGORY_ID
    INTEGER NOT NULL,\n  IS_MANDATORY       INTEGER NOT NULL,\n  UNIQUE KEY (PURPOSE_ID,
    CM_PII_CATEGORY_ID),\n  PRIMARY KEY (ID)\n);\n\nCREATE TABLE CM_SP_PURPOSE_PII_CAT_ASSOC
    (\n  ID                  INTEGER NOT NULL AUTO_INCREMENT,\n  SP_PURPOSE_ASSOC_ID
    INTEGER NOT NULL,\n  PII_CATEGORY_ID     INTEGER NOT NULL,\n  VALIDITY            VARCHAR(1023),\n
    \ IS_CONSENTED BOOLEAN DEFAULT TRUE,\n  UNIQUE KEY (SP_PURPOSE_ASSOC_ID, PII_CATEGORY_ID),\n
    \ PRIMARY KEY (ID)\n);\n\nCREATE TABLE CM_CONSENT_RECEIPT_PROPERTY (\n  ID                 INTEGER
    NOT NULL AUTO_INCREMENT,\n  CONSENT_RECEIPT_ID VARCHAR(255)  NOT NULL,\n  NAME
    \              VARCHAR(255)  NOT NULL,\n  VALUE              VARCHAR(1023) NOT
    NULL,\n  UNIQUE KEY (CONSENT_RECEIPT_ID, NAME),\n  PRIMARY KEY (ID)\n);\n\nALTER
    TABLE CM_RECEIPT_SP_ASSOC\n  ADD CONSTRAINT CM_RECEIPT_SP_ASSOC_fk0 FOREIGN KEY
    (CONSENT_RECEIPT_ID) REFERENCES CM_RECEIPT (CONSENT_RECEIPT_ID);\n\nALTER TABLE
    CM_SP_PURPOSE_ASSOC\n  ADD CONSTRAINT CM_SP_PURPOSE_ASSOC_fk0 FOREIGN KEY (RECEIPT_SP_ASSOC)
    REFERENCES CM_RECEIPT_SP_ASSOC (ID);\n\nALTER TABLE CM_SP_PURPOSE_ASSOC\n  ADD
    CONSTRAINT CM_SP_PURPOSE_ASSOC_fk1 FOREIGN KEY (PURPOSE_ID) REFERENCES CM_PURPOSE
    (ID);\n\nALTER TABLE CM_SP_PURPOSE_PURPOSE_CAT_ASSC\n  ADD CONSTRAINT CM_SP_P_P_CAT_ASSOC_fk0
    FOREIGN KEY (SP_PURPOSE_ASSOC_ID) REFERENCES CM_SP_PURPOSE_ASSOC (ID);\n\nALTER
    TABLE CM_SP_PURPOSE_PURPOSE_CAT_ASSC\n  ADD CONSTRAINT CM_SP_P_P_CAT_ASSOC_fk1
    FOREIGN KEY (PURPOSE_CATEGORY_ID) REFERENCES CM_PURPOSE_CATEGORY (ID);\n\nALTER
    TABLE CM_SP_PURPOSE_PII_CAT_ASSOC\n  ADD CONSTRAINT CM_SP_P_PII_CAT_ASSOC_fk0
    FOREIGN KEY (SP_PURPOSE_ASSOC_ID) REFERENCES CM_SP_PURPOSE_ASSOC (ID);\n\nALTER
    TABLE CM_SP_PURPOSE_PII_CAT_ASSOC\n  ADD CONSTRAINT CM_SP_P_PII_CAT_ASSOC_fk1
    FOREIGN KEY (PII_CATEGORY_ID) REFERENCES CM_PII_CATEGORY (ID);\n\nALTER TABLE
    CM_CONSENT_RECEIPT_PROPERTY\n  ADD CONSTRAINT CM_CONSENT_RECEIPT_PRT_fk0 FOREIGN
    KEY (CONSENT_RECEIPT_ID) REFERENCES CM_RECEIPT (CONSENT_RECEIPT_ID);\n\nINSERT
    INTO CM_PURPOSE (NAME, DESCRIPTION, PURPOSE_GROUP, GROUP_TYPE, TENANT_ID) VALUES
    ('DEFAULT', 'For core functionalities of the product', 'DEFAULT', 'SP', '-1234');\n\nINSERT
    INTO CM_PURPOSE_CATEGORY (NAME, DESCRIPTION, TENANT_ID) VALUES ('DEFAULT','For
    core functionalities of the product', '-1234');\n-- End of CONSENT-MGT Tables
    --\n\n-- Start of API-MGT Tables --\nCREATE TABLE IF NOT EXISTS AM_SUBSCRIBER
    (\n    SUBSCRIBER_ID INTEGER AUTO_INCREMENT,\n    USER_ID VARCHAR(255) NOT NULL,\n
    \   TENANT_ID INTEGER NOT NULL,\n    EMAIL_ADDRESS VARCHAR(256) NULL,\n    DATE_SUBSCRIBED
    TIMESTAMP NOT NULL,\n    PRIMARY KEY (SUBSCRIBER_ID),\n    CREATED_BY VARCHAR(100),\n
    \   CREATED_TIME TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    UPDATED_BY VARCHAR(100),\n
    \   UPDATED_TIME TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    UNIQUE (TENANT_ID,USER_ID)\n)ENGINE
    INNODB;\n\nCREATE TABLE IF NOT EXISTS AM_APPLICATION (\n    APPLICATION_ID INTEGER
    AUTO_INCREMENT,\n    NAME VARCHAR(100),\n    SUBSCRIBER_ID INTEGER,\n    APPLICATION_TIER
    VARCHAR(50) DEFAULT 'Unlimited',\n    CALLBACK_URL VARCHAR(512),\n    DESCRIPTION
    VARCHAR(512),\n    APPLICATION_STATUS VARCHAR(50) DEFAULT 'APPROVED',\n    GROUP_ID
    VARCHAR(100),\n    CREATED_BY VARCHAR(100),\n    CREATED_TIME TIMESTAMP,\n    UPDATED_BY
    VARCHAR(100),\n    UPDATED_TIME TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    UUID
    VARCHAR(256),\n    TOKEN_TYPE VARCHAR(10),\n    ORGANIZATION VARCHAR(100),\n    SHARED_ORGANIZATION
    VARCHAR(100),\n    FOREIGN KEY(SUBSCRIBER_ID) REFERENCES AM_SUBSCRIBER(SUBSCRIBER_ID)
    ON UPDATE CASCADE ON DELETE RESTRICT,\n    PRIMARY KEY(APPLICATION_ID),\n    UNIQUE
    (NAME,SUBSCRIBER_ID,ORGANIZATION),\n    UNIQUE (UUID)\n)ENGINE INNODB;\n\nCREATE
    TABLE IF NOT EXISTS AM_API (\n    API_ID INTEGER AUTO_INCREMENT,\n    API_UUID
    VARCHAR(256),\n    API_PROVIDER VARCHAR(200),\n    API_NAME VARCHAR(200),\n    API_VERSION
    VARCHAR(30),\n    CONTEXT VARCHAR(256),\n    CONTEXT_TEMPLATE VARCHAR(256),\n
    \   API_TIER VARCHAR(256),\n    API_TYPE VARCHAR(10),\n    API_SUBTYPE VARCHAR(100),\n
    \   ORGANIZATION VARCHAR(100),\n    GATEWAY_VENDOR VARCHAR(100) DEFAULT 'wso2',\n
    \   CREATED_BY VARCHAR(100),\n    CREATED_TIME TIMESTAMP,\n    UPDATED_BY VARCHAR(100),\n
    \   UPDATED_TIME TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    STATUS VARCHAR(30),\n
    \   LOG_LEVEL VARCHAR(255) DEFAULT 'OFF',\n    IS_EGRESS INTEGER DEFAULT 0,\n
    \   REVISIONS_CREATED INTEGER DEFAULT 0,\n    VERSION_COMPARABLE VARCHAR(15),\n
    \   SUB_VALIDATION VARCHAR(10) DEFAULT 'ENABLED',\n    API_DISPLAY_NAME VARCHAR(256),\n
    \   INITIATED_FROM_GW INTEGER DEFAULT 0,\n    PRIMARY KEY(API_ID),\n    UNIQUE
    (API_PROVIDER,API_NAME,API_VERSION,ORGANIZATION),\n    UNIQUE (API_UUID)\n)ENGINE
    INNODB;\n\nCREATE TABLE IF NOT EXISTS AM_API_METADATA (\n    API_UUID        VARCHAR(256)
    NOT NULL,\n    REVISION_UUID   VARCHAR(255) NOT NULL DEFAULT 'Current API',\n
    \   METADATA_KEY    VARCHAR(256) NOT NULL,\n    METADATA_VALUE  VARCHAR(1024)
    NOT NULL,\n    FOREIGN KEY (API_UUID) REFERENCES AM_API(API_UUID),\n    PRIMARY
    KEY (API_UUID, REVISION_UUID, METADATA_KEY)\n)ENGINE INNODB;\n\nCREATE TABLE IF
    NOT EXISTS AM_API_ENDPOINTS (\n    API_UUID VARCHAR(256) NOT NULL,\n    ENDPOINT_UUID
    VARCHAR(100) NOT NULL,\n    REVISION_UUID VARCHAR(100) NOT NULL DEFAULT 'Current
    API',\n    ENDPOINT_NAME VARCHAR(255) NOT NULL,\n    KEY_TYPE VARCHAR(100),\n
    \   ENDPOINT_CONFIG LONGBLOB NOT NULL,\n    ORGANIZATION VARCHAR(100) NOT NULL,\n
    \   FOREIGN KEY (API_UUID) REFERENCES AM_API(API_UUID) ON DELETE CASCADE,\n    PRIMARY
    KEY (API_UUID, ENDPOINT_UUID, REVISION_UUID, ORGANIZATION)\n)ENGINE INNODB;\n\nCREATE
    TABLE IF NOT EXISTS AM_BACKEND (\n    BACKEND_ID                  VARCHAR(40)
    NOT NULL,\n    BACKEND_NAME                VARCHAR(256) NOT NULL,\n    ENDPOINT_CONFIG
    \            BLOB,\n    DEFINITION                  LONGBLOB,\n    REFERENCE_API_UUID
    \         VARCHAR(256) NOT NULL,\n    REFERENCE_API_REVISION_UUID VARCHAR(256)
    NOT NULL DEFAULT 'Current API',\n    ORGANIZATION                VARCHAR(100)
    NOT NULL,\n    FOREIGN KEY (REFERENCE_API_UUID) REFERENCES AM_API(API_UUID),\n
    \   UNIQUE (REFERENCE_API_UUID, REFERENCE_API_REVISION_UUID, BACKEND_NAME),\n
    \   PRIMARY KEY (BACKEND_ID)\n)ENGINE INNODB;\n\nCREATE TABLE IF NOT EXISTS AM_API_PRIMARY_EP_MAPPING
    (\n    MAPPING_ID INTEGER NOT NULL AUTO_INCREMENT,\n    API_UUID VARCHAR(256)
    NOT NULL,\n    ENDPOINT_UUID VARCHAR(256) NOT NULL,\n    REVISION_UUID VARCHAR(100)
    NOT NULL DEFAULT 'Current API',\n    FOREIGN KEY (API_UUID) REFERENCES AM_API(API_UUID)
    ON DELETE CASCADE,\n    PRIMARY KEY (MAPPING_ID)\n)ENGINE INNODB;\n\nCREATE TABLE
    IF NOT EXISTS AM_API_SEQUENCE_BACKEND (\n  ID VARCHAR(60) NOT NULL,\n  API_UUID
    VARCHAR(256) NOT NULL,\n  REVISION_UUID VARCHAR(256) DEFAULT '0',\n  SEQUENCE
    LONGBLOB NOT NULL,\n  NAME VARCHAR(256) NOT NULL,\n  TYPE VARCHAR(120) NOT NULL,\n
    \ PRIMARY KEY (ID,API_UUID,REVISION_UUID,TYPE),\n  FOREIGN KEY (API_UUID) REFERENCES
    AM_API(API_UUID) ON DELETE CASCADE\n)ENGINE INNODB;\n\nCREATE TABLE IF NOT EXISTS
    AM_GRAPHQL_COMPLEXITY (\n    UUID VARCHAR(256),\n    API_ID INTEGER NOT NULL,\n
    \   TYPE VARCHAR(256),\n    FIELD VARCHAR(256),\n    COMPLEXITY_VALUE INTEGER,\n
    \   REVISION_UUID VARCHAR(255),\n    FOREIGN KEY (API_ID) REFERENCES AM_API(API_ID)
    ON UPDATE CASCADE ON DELETE CASCADE,\n    PRIMARY KEY(UUID)\n)ENGINE INNODB;\n\nCREATE
    TABLE IF NOT EXISTS AM_API_URL_MAPPING (\n    URL_MAPPING_ID INTEGER AUTO_INCREMENT,\n
    \   API_ID INTEGER NOT NULL,\n    HTTP_METHOD VARCHAR(20) NULL,\n    AUTH_SCHEME
    VARCHAR(50) NULL,\n    URL_PATTERN VARCHAR(512) NULL,\n    THROTTLING_TIER varchar(512)
    DEFAULT NULL,\n    MEDIATION_SCRIPT BLOB,\n    REVISION_UUID VARCHAR(255),\n    LOG_LEVEL
    VARCHAR(255) DEFAULT 'OFF',\n    DESCRIPTION BLOB,\n    SCHEMA_DEFINITION BLOB,\n
    \   PRIMARY KEY (URL_MAPPING_ID)\n)ENGINE INNODB;\n\nCREATE TABLE IF NOT EXISTS
    AM_BACKEND_OPERATION_MAPPING (\n    MAPPING_ID       INTEGER AUTO_INCREMENT,\n
    \   URL_MAPPING_ID   INTEGER NOT NULL,\n    BACKEND_ID       VARCHAR(40) NOT NULL,\n
    \   TARGET           VARCHAR(256) NOT NULL,\n    VERB             VARCHAR(10)
    NOT NULL,\n    FOREIGN KEY (URL_MAPPING_ID)\n        REFERENCES AM_API_URL_MAPPING
    (URL_MAPPING_ID),\n    FOREIGN KEY (BACKEND_ID)\n        REFERENCES AM_BACKEND
    (BACKEND_ID),\n    PRIMARY KEY (MAPPING_ID)\n)ENGINE INNODB;\n\nCREATE TABLE IF
    NOT EXISTS AM_API_OPERATION_MAPPING (\n    MAPPING_ID          INTEGER AUTO_INCREMENT,\n
    \   URL_MAPPING_ID      INTEGER NOT NULL,\n    REF_URL_MAPPING_ID  INTEGER NOT
    NULL,\n    FOREIGN KEY (URL_MAPPING_ID)\n        REFERENCES AM_API_URL_MAPPING
    (URL_MAPPING_ID),\n    FOREIGN KEY (REF_URL_MAPPING_ID)\n        REFERENCES AM_API_URL_MAPPING
    (URL_MAPPING_ID),\n    PRIMARY KEY (MAPPING_ID)\n)ENGINE INNODB;\n\nCREATE TABLE
    IF NOT EXISTS AM_API_RESOURCE_SCOPE_MAPPING (\n    SCOPE_NAME VARCHAR(255) NOT
    NULL,\n    URL_MAPPING_ID INTEGER NOT NULL,\n    TENANT_ID INTEGER NOT NULL,\n
    \   FOREIGN KEY (URL_MAPPING_ID) REFERENCES AM_API_URL_MAPPING(URL_MAPPING_ID)
    ON DELETE CASCADE,\n    PRIMARY KEY(SCOPE_NAME, URL_MAPPING_ID)\n)ENGINE INNODB;\n\nCREATE
    TABLE IF NOT EXISTS AM_SECURITY_AUDIT_UUID_MAPPING (\n    API_ID INTEGER NOT NULL,\n
    \   AUDIT_UUID VARCHAR(255) NOT NULL,\n    FOREIGN KEY (API_ID) REFERENCES AM_API(API_ID)
    ON UPDATE CASCADE ON DELETE CASCADE,\n    PRIMARY KEY (API_ID)\n)ENGINE INNODB;\n\nCREATE
    TABLE IF NOT EXISTS AM_API_PRODUCT_MAPPING (\n\tAPI_PRODUCT_MAPPING_ID INTEGER
    AUTO_INCREMENT,\n\tAPI_ID INTEGER,\n\tURL_MAPPING_ID INTEGER,\n    REVISION_UUID
    VARCHAR(255),\n\tFOREIGN KEY (API_ID) REFERENCES AM_API(API_ID) ON DELETE CASCADE,\n\tFOREIGN
    KEY (URL_MAPPING_ID) REFERENCES AM_API_URL_MAPPING(URL_MAPPING_ID) ON DELETE CASCADE,\n\tPRIMARY
    KEY(API_PRODUCT_MAPPING_ID)\n)ENGINE INNODB;\n\nCREATE TABLE IF NOT EXISTS AM_SUBSCRIPTION
    (\n    SUBSCRIPTION_ID INTEGER AUTO_INCREMENT,\n    TIER_ID VARCHAR(50),\n    TIER_ID_PENDING
    VARCHAR(50),\n    API_ID INTEGER,\n    LAST_ACCESSED TIMESTAMP NULL,\n    APPLICATION_ID
    INTEGER,\n    SUB_STATUS VARCHAR(50),\n    SUBS_CREATE_STATE VARCHAR(50) DEFAULT
    'SUBSCRIBE',\n    CREATED_BY VARCHAR(100),\n    CREATED_TIME TIMESTAMP DEFAULT
    CURRENT_TIMESTAMP,\n    UPDATED_BY VARCHAR(100),\n    UPDATED_TIME TIMESTAMP DEFAULT
    CURRENT_TIMESTAMP,\n    UUID VARCHAR(256),\n    FOREIGN KEY(APPLICATION_ID) REFERENCES
    AM_APPLICATION(APPLICATION_ID) ON UPDATE CASCADE ON DELETE CASCADE,\n    FOREIGN
    KEY(API_ID) REFERENCES AM_API(API_ID) ON UPDATE CASCADE ON DELETE CASCADE,\n    PRIMARY
    KEY (SUBSCRIPTION_ID),\n    UNIQUE (UUID)\n)ENGINE INNODB;\n\n\n\nCREATE TABLE
    IF NOT EXISTS AM_APPLICATION_KEY_MAPPING (\n    UUID VARCHAR(100),\n    APPLICATION_ID
    INTEGER,\n    CONSUMER_KEY VARCHAR(255),\n    KEY_TYPE VARCHAR(512) NOT NULL,\n
    \   STATE VARCHAR(30) NOT NULL,\n    CREATE_MODE VARCHAR(30) DEFAULT 'CREATED',\n
    \   KEY_MANAGER VARCHAR(100),\n    APP_INFO BLOB ,\n    FOREIGN KEY(APPLICATION_ID)
    REFERENCES AM_APPLICATION(APPLICATION_ID) ON UPDATE CASCADE ON DELETE CASCADE,\n
    \   PRIMARY KEY(APPLICATION_ID,KEY_TYPE,KEY_MANAGER)\n)ENGINE INNODB;\n\nCREATE
    TABLE IF NOT EXISTS AM_API_LC_EVENT (\n    EVENT_ID INTEGER AUTO_INCREMENT,\n
    \   API_ID INTEGER NOT NULL,\n    PREVIOUS_STATE VARCHAR(50),\n    NEW_STATE VARCHAR(50)
    NOT NULL,\n    USER_ID VARCHAR(255) NOT NULL,\n    TENANT_ID INTEGER NOT NULL,\n
    \   EVENT_DATE TIMESTAMP NOT NULL,\n    FOREIGN KEY(API_ID) REFERENCES AM_API(API_ID)
    ON UPDATE CASCADE ON DELETE CASCADE,\n    PRIMARY KEY (EVENT_ID)\n)ENGINE INNODB;\n\nCREATE
    TABLE AM_APP_KEY_DOMAIN_MAPPING (\n    CONSUMER_KEY VARCHAR(255),\n    AUTHZ_DOMAIN
    VARCHAR(255) DEFAULT 'ALL',\n    PRIMARY KEY (CONSUMER_KEY,AUTHZ_DOMAIN)\n)ENGINE
    INNODB;\n\nCREATE TABLE IF NOT EXISTS AM_API_COMMENTS (\n    COMMENT_ID VARCHAR(64)
    NOT NULL,\n    COMMENT_TEXT VARCHAR(512),\n    CREATED_BY VARCHAR(512),\n    CREATED_TIME
    TIMESTAMP NOT NULL,\n    UPDATED_TIME TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    API_ID
    INTEGER,\n    PARENT_COMMENT_ID VARCHAR(64) DEFAULT NULL,\n    ENTRY_POINT VARCHAR(20),\n
    \   CATEGORY VARCHAR(20) DEFAULT 'general',\n    FOREIGN KEY(API_ID) REFERENCES
    AM_API(API_ID) ON DELETE CASCADE,\n    FOREIGN KEY(PARENT_COMMENT_ID) REFERENCES
    AM_API_COMMENTS(COMMENT_ID),\n    PRIMARY KEY (COMMENT_ID)\n)ENGINE INNODB;\n\nCREATE
    TABLE IF NOT EXISTS AM_API_RATINGS (\n    RATING_ID VARCHAR(255) NOT NULL,\n    API_ID
    INTEGER,\n    RATING INTEGER,\n    SUBSCRIBER_ID INTEGER,\n    FOREIGN KEY(API_ID)
    REFERENCES AM_API(API_ID) ON UPDATE CASCADE ON DELETE CASCADE,\n    FOREIGN KEY(SUBSCRIBER_ID)
    REFERENCES AM_SUBSCRIBER(SUBSCRIBER_ID) ON UPDATE CASCADE ON DELETE RESTRICT,\nPRIMARY
    KEY (RATING_ID)\n)ENGINE INNODB;\n\nCREATE TABLE IF NOT EXISTS AM_TIER_PERMISSIONS
    (\n    TIER_PERMISSIONS_ID INTEGER AUTO_INCREMENT,\n    TIER VARCHAR(50) NOT NULL,\n
    \   PERMISSIONS_TYPE VARCHAR(50) NOT NULL,\n    ROLES VARCHAR(512) NOT NULL,\n
    \   TENANT_ID INTEGER NOT NULL,\n    PRIMARY KEY(TIER_PERMISSIONS_ID)\n)ENGINE
    INNODB;\n\nCREATE TABLE IF NOT EXISTS AM_EXTERNAL_STORES (\n    APISTORE_ID INTEGER
    AUTO_INCREMENT,\n    API_ID INTEGER,\n    STORE_ID VARCHAR(255) NOT NULL,\n    STORE_DISPLAY_NAME
    VARCHAR(255) NOT NULL,\n    STORE_ENDPOINT VARCHAR(255) NOT NULL,\n    STORE_TYPE
    VARCHAR(255) NOT NULL,\n    LAST_UPDATED_TIME TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\nFOREIGN
    KEY(API_ID) REFERENCES AM_API(API_ID) ON UPDATE CASCADE ON DELETE RESTRICT,\nPRIMARY
    KEY (APISTORE_ID)\n)ENGINE INNODB;\n\nCREATE TABLE IF NOT EXISTS AM_WORKFLOWS(\n
    \   WF_ID INTEGER AUTO_INCREMENT,\n    WF_REFERENCE VARCHAR(255) NOT NULL,\n    WF_TYPE
    VARCHAR(255) NOT NULL,\n    WF_STATUS VARCHAR(255) NOT NULL,\n    WF_CREATED_TIME
    TIMESTAMP,\n    WF_UPDATED_TIME TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE
    CURRENT_TIMESTAMP ,\n    WF_STATUS_DESC VARCHAR(1000),\n    TENANT_ID INTEGER,\n
    \   TENANT_DOMAIN VARCHAR(255),\n    WF_EXTERNAL_REFERENCE VARCHAR(255) NOT NULL,\n
    \   WF_METADATA BLOB DEFAULT NULL,\n    WF_PROPERTIES BLOB DEFAULT NULL,\n    PRIMARY
    KEY (WF_ID),\n    UNIQUE (WF_EXTERNAL_REFERENCE)\n)ENGINE INNODB;\n\nCREATE TABLE
    IF NOT EXISTS AM_APPLICATION_REGISTRATION (\n    REG_ID INT AUTO_INCREMENT,\n
    \   SUBSCRIBER_ID INT,\n    WF_REF VARCHAR(255) NOT NULL,\n    APP_ID INT,\n    TOKEN_TYPE
    VARCHAR(30),\n    TOKEN_SCOPE VARCHAR(1500) DEFAULT 'default',\n    INPUTS VARCHAR(1000),\n
    \   ALLOWED_DOMAINS VARCHAR(256),\n    VALIDITY_PERIOD BIGINT,\n    KEY_MANAGER
    VARCHAR(255) NOT NULL,\n    UNIQUE (SUBSCRIBER_ID,APP_ID,TOKEN_TYPE,KEY_MANAGER),\n
    \   FOREIGN KEY(SUBSCRIBER_ID) REFERENCES AM_SUBSCRIBER(SUBSCRIBER_ID) ON UPDATE
    CASCADE ON DELETE RESTRICT,\n    FOREIGN KEY(APP_ID) REFERENCES AM_APPLICATION(APPLICATION_ID)
    ON UPDATE CASCADE ON DELETE CASCADE,\n    PRIMARY KEY (REG_ID)\n)ENGINE INNODB;\n\nCREATE
    TABLE IF NOT EXISTS AM_SHARED_SCOPE (\n    NAME VARCHAR(255) NOT NULL,\n    UUID
    VARCHAR (256),\n    TENANT_ID INTEGER,\n    PRIMARY KEY (UUID)\n)ENGINE INNODB;\n\nCREATE
    TABLE IF NOT EXISTS AM_API_DEFAULT_VERSION (\n    DEFAULT_VERSION_ID INT AUTO_INCREMENT,\n
    \   API_NAME VARCHAR(256) NOT NULL ,\n    API_PROVIDER VARCHAR(256) NOT NULL ,\n
    \   DEFAULT_API_VERSION VARCHAR(30) ,\n    PUBLISHED_DEFAULT_API_VERSION VARCHAR(30)
    ,\n    ORGANIZATION VARCHAR(100),\n    PRIMARY KEY (DEFAULT_VERSION_ID)\n)ENGINE
    = INNODB;\n\nCREATE INDEX IDX_SUB_APP_ID ON AM_SUBSCRIPTION (APPLICATION_ID, SUBSCRIPTION_ID);\n\nCREATE
    TABLE IF NOT EXISTS AM_MONETIZATION_USAGE (\n\tID VARCHAR(100) NOT NULL,\n\tSTATE
    VARCHAR(50) NOT NULL,\n\tSTATUS VARCHAR(50) NOT NULL,\n\tSTARTED_TIME VARCHAR(50)
    NOT NULL,\n\tPUBLISHED_TIME VARCHAR(50) NOT NULL,\n\tPRIMARY KEY(ID)\n)ENGINE
    INNODB;\n\nCREATE TABLE IF NOT EXISTS AM_ALERT_TYPES (\n            ALERT_TYPE_ID
    INTEGER AUTO_INCREMENT,\n            ALERT_TYPE_NAME VARCHAR(255) NOT NULL ,\n\t
    \   STAKE_HOLDER VARCHAR(100) NOT NULL,\n            PRIMARY KEY (ALERT_TYPE_ID)\n)ENGINE
    = INNODB;\n\nCREATE TABLE IF NOT EXISTS AM_ALERT_TYPES_VALUES (\n            ALERT_TYPE_ID
    INTEGER,\n            USER_NAME VARCHAR(255) NOT NULL ,\n\t    STAKE_HOLDER VARCHAR(100)
    NOT NULL ,\n            PRIMARY KEY (ALERT_TYPE_ID,USER_NAME,STAKE_HOLDER)\n)ENGINE
    = INNODB;\n\nCREATE TABLE IF NOT EXISTS AM_ALERT_EMAILLIST (\n\t    EMAIL_LIST_ID
    INTEGER AUTO_INCREMENT,\n            USER_NAME VARCHAR(255) NOT NULL ,\n\t    STAKE_HOLDER
    VARCHAR(100) NOT NULL ,\n            PRIMARY KEY (EMAIL_LIST_ID,USER_NAME,STAKE_HOLDER)\n)ENGINE
    = INNODB;\n\nCREATE TABLE IF NOT EXISTS  AM_ALERT_EMAILLIST_DETAILS (\n            EMAIL_LIST_ID
    INTEGER,\n\t    EMAIL VARCHAR(255),\n            PRIMARY KEY (EMAIL_LIST_ID,EMAIL)\n)ENGINE
    = INNODB;\n\nINSERT INTO AM_ALERT_TYPES (ALERT_TYPE_NAME, STAKE_HOLDER) VALUES
    ('AbnormalResponseTime', 'publisher');\nINSERT INTO AM_ALERT_TYPES (ALERT_TYPE_NAME,
    STAKE_HOLDER) VALUES ('AbnormalBackendTime', 'publisher');\nINSERT INTO AM_ALERT_TYPES
    (ALERT_TYPE_NAME, STAKE_HOLDER) VALUES ('AbnormalRequestsPerMin', 'subscriber');\nINSERT
    INTO AM_ALERT_TYPES (ALERT_TYPE_NAME, STAKE_HOLDER) VALUES ('AbnormalRequestPattern',
    'subscriber');\nINSERT INTO AM_ALERT_TYPES (ALERT_TYPE_NAME, STAKE_HOLDER) VALUES
    ('UnusualIPAccess', 'subscriber');\nINSERT INTO AM_ALERT_TYPES (ALERT_TYPE_NAME,
    STAKE_HOLDER) VALUES ('FrequentTierLimitHitting', 'subscriber');\nINSERT INTO
    AM_ALERT_TYPES (ALERT_TYPE_NAME, STAKE_HOLDER) VALUES ('ApiHealthMonitor', 'publisher');\n\n\n\n--
    AM Throttling tables --\n\nCREATE TABLE IF NOT EXISTS AM_POLICY_SUBSCRIPTION (\n
    \           POLICY_ID INT(11) NOT NULL AUTO_INCREMENT,\n            NAME VARCHAR(512)
    NOT NULL,\n            DISPLAY_NAME VARCHAR(512) NULL DEFAULT NULL,\n            TENANT_ID
    INT(11) NOT NULL,\n            DESCRIPTION VARCHAR(1024) NULL DEFAULT NULL,\n
    \           QUOTA_TYPE VARCHAR(25) NOT NULL,\n            QUOTA INT(11) NOT NULL,\n
    \           QUOTA_UNIT VARCHAR(10) NULL,\n            UNIT_TIME INT(11) NOT NULL,\n
    \           TIME_UNIT VARCHAR(25) NOT NULL,\n            RATE_LIMIT_COUNT INT(11)
    NULL DEFAULT NULL,\n            RATE_LIMIT_TIME_UNIT VARCHAR(25) NULL DEFAULT
    NULL,\n            IS_DEPLOYED TINYINT(1) NOT NULL DEFAULT 0,\n\t    CUSTOM_ATTRIBUTES
    BLOB DEFAULT NULL,\n            STOP_ON_QUOTA_REACH BOOLEAN NOT NULL DEFAULT 0,\n
    \           BILLING_PLAN VARCHAR(20) NOT NULL,\n            UUID VARCHAR(256),\n
    \           MONETIZATION_PLAN VARCHAR(25) NULL DEFAULT NULL,\n            FIXED_RATE
    VARCHAR(15) NULL DEFAULT NULL,\n            BILLING_CYCLE VARCHAR(15) NULL DEFAULT
    NULL,\n            PRICE_PER_REQUEST VARCHAR(15) NULL DEFAULT NULL,\n            CURRENCY
    VARCHAR(15) NULL DEFAULT NULL,\n            MAX_COMPLEXITY INT(11) NOT NULL DEFAULT
    0,\n            MAX_DEPTH INT(11) NOT NULL DEFAULT 0,\n            CONNECTIONS_COUNT
    INT(11) NOT NULL DEFAULT 0,\n            TOTAL_TOKEN_COUNT BIGINT,\n            PROMPT_TOKEN_COUNT
    BIGINT,\n            COMPLETION_TOKEN_COUNT BIGINT,\n            PRIMARY KEY (POLICY_ID),\n
    \           UNIQUE INDEX AM_POLICY_SUBSCRIPTION_NAME_TENANT (NAME, TENANT_ID),\n
    \           UNIQUE (UUID)\n)ENGINE = InnoDB;\n\nCREATE TABLE IF NOT EXISTS AM_POLICY_APPLICATION
    (\n            POLICY_ID INT(11) NOT NULL AUTO_INCREMENT,\n            NAME VARCHAR(512)
    NOT NULL,\n            DISPLAY_NAME VARCHAR(512) NULL DEFAULT NULL,\n            TENANT_ID
    INT(11) NOT NULL,\n            DESCRIPTION VARCHAR(1024) NULL DEFAULT NULL,\n
    \           QUOTA_TYPE VARCHAR(25) NOT NULL,\n            QUOTA INT(11) NOT NULL,\n
    \           QUOTA_UNIT VARCHAR(10) NULL DEFAULT NULL,\n            UNIT_TIME INT(11)
    NOT NULL,\n            TIME_UNIT VARCHAR(25) NOT NULL,\n            IS_DEPLOYED
    TINYINT(1) NOT NULL DEFAULT 0,\n\t        CUSTOM_ATTRIBUTES BLOB DEFAULT NULL,\n
    \           RATE_LIMIT_COUNT INT(11) NULL DEFAULT 0,\n            RATE_LIMIT_TIME_UNIT
    VARCHAR(25) NULL DEFAULT NULL,\n\t        UUID VARCHAR(256),\n            PRIMARY
    KEY (POLICY_ID),\n            UNIQUE INDEX APP_NAME_TENANT (NAME, TENANT_ID),\n
    \           UNIQUE (UUID)\n)ENGINE = InnoDB;\n\nCREATE TABLE IF NOT EXISTS AM_POLICY_HARD_THROTTLING
    (\n            POLICY_ID INT(11) NOT NULL AUTO_INCREMENT,\n            NAME VARCHAR(512)
    NOT NULL,\n            TENANT_ID INT(11) NOT NULL,\n            DESCRIPTION VARCHAR(1024)
    NULL DEFAULT NULL,\n            QUOTA_TYPE VARCHAR(25) NOT NULL,\n            QUOTA
    INT(11) NOT NULL,\n            QUOTA_UNIT VARCHAR(10) NULL DEFAULT NULL,\n            UNIT_TIME
    INT(11) NOT NULL,\n            TIME_UNIT VARCHAR(25) NOT NULL,\n            IS_DEPLOYED
    TINYINT(1) NOT NULL DEFAULT 0,\n            PRIMARY KEY (POLICY_ID),\n            UNIQUE
    INDEX POLICY_HARD_NAME_TENANT (NAME, TENANT_ID)\n)ENGINE = InnoDB;\n\n\nCREATE
    TABLE IF NOT EXISTS AM_API_THROTTLE_POLICY (\n            POLICY_ID INT(11) NOT
    NULL AUTO_INCREMENT,\n            NAME VARCHAR(512) NOT NULL,\n            DISPLAY_NAME
    VARCHAR(512) NULL DEFAULT NULL,\n            TENANT_ID INT(11) NOT NULL,\n            DESCRIPTION
    VARCHAR (1024),\n            DEFAULT_QUOTA_TYPE VARCHAR(25) NOT NULL,\n            DEFAULT_QUOTA
    INTEGER NOT NULL,\n            DEFAULT_QUOTA_UNIT VARCHAR(10) NULL,\n            DEFAULT_UNIT_TIME
    INTEGER NOT NULL,\n            DEFAULT_TIME_UNIT VARCHAR(25) NOT NULL,\n            APPLICABLE_LEVEL
    VARCHAR(25) NOT NULL,\n            IS_DEPLOYED TINYINT(1) NOT NULL DEFAULT 0,\n
    \           UUID VARCHAR(256),\n            PRIMARY KEY (POLICY_ID),\n            UNIQUE
    INDEX API_NAME_TENANT (NAME, TENANT_ID),\n            UNIQUE (UUID)\n)ENGINE INNODB;\n\nCREATE
    TABLE IF NOT EXISTS AM_CONDITION_GROUP (\n            CONDITION_GROUP_ID INTEGER
    NOT NULL AUTO_INCREMENT,\n            POLICY_ID INTEGER NOT NULL,\n            QUOTA_TYPE
    VARCHAR(25),\n            QUOTA INTEGER NOT NULL,\n            QUOTA_UNIT VARCHAR(10)
    NULL DEFAULT NULL,\n            UNIT_TIME INTEGER NOT NULL,\n            TIME_UNIT
    VARCHAR(25) NOT NULL,\n            DESCRIPTION VARCHAR (1024) NULL DEFAULT NULL,\n
    \           PRIMARY KEY (CONDITION_GROUP_ID),\n            FOREIGN KEY (POLICY_ID)
    REFERENCES AM_API_THROTTLE_POLICY(POLICY_ID) ON DELETE CASCADE ON UPDATE CASCADE\n)ENGINE
    INNODB;\n\nCREATE TABLE IF NOT EXISTS AM_QUERY_PARAMETER_CONDITION (\n            QUERY_PARAMETER_ID
    INTEGER NOT NULL AUTO_INCREMENT,\n            CONDITION_GROUP_ID INTEGER NOT NULL,\n
    \           PARAMETER_NAME VARCHAR(255) DEFAULT NULL,\n            PARAMETER_VALUE
    VARCHAR(255) DEFAULT NULL,\n\t    \tIS_PARAM_MAPPING BOOLEAN DEFAULT 1,\n            PRIMARY
    KEY (QUERY_PARAMETER_ID),\n            FOREIGN KEY (CONDITION_GROUP_ID) REFERENCES
    AM_CONDITION_GROUP(CONDITION_GROUP_ID) ON DELETE CASCADE ON UPDATE CASCADE\n)ENGINE
    INNODB;\n\nCREATE TABLE IF NOT EXISTS AM_HEADER_FIELD_CONDITION (\n            HEADER_FIELD_ID
    INTEGER NOT NULL AUTO_INCREMENT,\n            CONDITION_GROUP_ID INTEGER NOT NULL,\n
    \           HEADER_FIELD_NAME VARCHAR(255) DEFAULT NULL,\n            HEADER_FIELD_VALUE
    VARCHAR(255) DEFAULT NULL,\n\t    \tIS_HEADER_FIELD_MAPPING BOOLEAN DEFAULT 1,\n
    \           PRIMARY KEY (HEADER_FIELD_ID),\n            FOREIGN KEY (CONDITION_GROUP_ID)
    REFERENCES AM_CONDITION_GROUP(CONDITION_GROUP_ID) ON DELETE CASCADE ON UPDATE
    CASCADE\n)ENGINE INNODB;\n\nCREATE TABLE IF NOT EXISTS AM_JWT_CLAIM_CONDITION
    (\n            JWT_CLAIM_ID INTEGER NOT NULL AUTO_INCREMENT,\n            CONDITION_GROUP_ID
    INTEGER NOT NULL,\n            CLAIM_URI VARCHAR(512) DEFAULT NULL,\n            CLAIM_ATTRIB
    VARCHAR(1024) DEFAULT NULL,\n\t    IS_CLAIM_MAPPING BOOLEAN DEFAULT 1,\n            PRIMARY
    KEY (JWT_CLAIM_ID),\n            FOREIGN KEY (CONDITION_GROUP_ID) REFERENCES AM_CONDITION_GROUP(CONDITION_GROUP_ID)
    ON DELETE CASCADE ON UPDATE CASCADE\n)ENGINE INNODB;\n\nCREATE TABLE IF NOT EXISTS
    AM_IP_CONDITION (\n  AM_IP_CONDITION_ID INT NOT NULL AUTO_INCREMENT,\n  STARTING_IP
    VARCHAR(45) NULL,\n  ENDING_IP VARCHAR(45) NULL,\n  SPECIFIC_IP VARCHAR(45) NULL,\n
    \ WITHIN_IP_RANGE BOOLEAN DEFAULT 1,\n  CONDITION_GROUP_ID INT NULL,\n  PRIMARY
    KEY (AM_IP_CONDITION_ID),\n  INDEX fk_AM_IP_CONDITION_1_idx (CONDITION_GROUP_ID
    ASC),  CONSTRAINT fk_AM_IP_CONDITION_1    FOREIGN KEY (CONDITION_GROUP_ID)\n    REFERENCES
    AM_CONDITION_GROUP (CONDITION_GROUP_ID)   ON DELETE CASCADE ON UPDATE CASCADE)\nENGINE
    = InnoDB;\n\n\nCREATE TABLE IF NOT EXISTS AM_POLICY_GLOBAL (\n            POLICY_ID
    INT(11) NOT NULL AUTO_INCREMENT,\n            NAME VARCHAR(512) NOT NULL,\n            KEY_TEMPLATE
    VARCHAR(512) NOT NULL,\n            TENANT_ID INT(11) NOT NULL,\n            DESCRIPTION
    VARCHAR(1024) NULL DEFAULT NULL,\n            SIDDHI_QUERY BLOB DEFAULT NULL,\n
    \           IS_DEPLOYED TINYINT(1) NOT NULL DEFAULT 0,\n            UUID VARCHAR(256),\n
    \           PRIMARY KEY (POLICY_ID),\n            UNIQUE (UUID)\n)ENGINE INNODB;\n\nCREATE
    TABLE IF NOT EXISTS AM_ORGANIZATION_MAPPING (\n            ORG_UUID VARCHAR(50)
    NOT NULL,\n            EXT_ORG_ID VARCHAR(100) NOT NULL,\n            DISPLAY_NAME
    VARCHAR(100) NULL,\n            PARENT_ORG_UUID VARCHAR(50),\n            ORG_HANDLE
    VARCHAR(100),\n            DESCRIPTION VARCHAR(256) NULL,\n            ROOT_ORGANIZATION
    VARCHAR(255),\n            PRIMARY KEY (ORG_UUID)\n)ENGINE INNODB;\n \nCREATE
    TABLE IF NOT EXISTS AM_THROTTLE_TIER_PERMISSIONS (\n  THROTTLE_TIER_PERMISSIONS_ID
    INT NOT NULL AUTO_INCREMENT,\n  TIER VARCHAR(50) NULL,\n  PERMISSIONS_TYPE VARCHAR(50)
    NULL,\n  ROLES VARCHAR(512) NULL,\n  TENANT_ID INT(11) NULL,\n  PRIMARY KEY (THROTTLE_TIER_PERMISSIONS_ID))\nENGINE
    = InnoDB;\n\nCREATE TABLE `AM_BLOCK_CONDITIONS` (\n  `CONDITION_ID` int(11) NOT
    NULL AUTO_INCREMENT,\n  `TYPE` varchar(45) DEFAULT NULL,\n  `BLOCK_CONDITION`
    varchar(512) DEFAULT NULL,\n  `ENABLED` varchar(45) DEFAULT NULL,\n  `DOMAIN`
    varchar(45) DEFAULT NULL,\n  `UUID` VARCHAR(256),\n  PRIMARY KEY (`CONDITION_ID`),\n
    \ UNIQUE (`UUID`)\n) ENGINE=InnoDB;\n\nCREATE TABLE IF NOT EXISTS `AM_CERTIFICATE_METADATA`
    (\n  `TENANT_ID` INT(11) NOT NULL,\n  `ALIAS` VARCHAR(255) NOT NULL,\n  `END_POINT`
    VARCHAR(255) NOT NULL,\n  `CERTIFICATE` BLOB DEFAULT NULL,\n  CONSTRAINT PK_ALIAS
    PRIMARY KEY (`ALIAS`)\n) ENGINE=InnoDB;\n\nCREATE TABLE IF NOT EXISTS `AM_API_CLIENT_CERTIFICATE`
    (\n  `TENANT_ID` INT(11) NOT NULL,\n  `ALIAS` VARCHAR(45) NOT NULL,\n  `API_ID`
    INTEGER NOT NULL,\n  `CERTIFICATE` BLOB NOT NULL,\n  `REMOVED` BOOLEAN NOT NULL
    DEFAULT 0,\n  `TIER_NAME` VARCHAR (512),\n  `KEY_TYPE` VARCHAR(20) NOT NULL DEFAULT
    'PRODUCTION',\n  `REVISION_UUID` VARCHAR(255) NOT NULL DEFAULT 'Current API',\n
    \ FOREIGN KEY (API_ID) REFERENCES AM_API (API_ID) ON DELETE CASCADE ON UPDATE
    CASCADE,\n  PRIMARY KEY (`ALIAS`, `TENANT_ID`, `KEY_TYPE`, `REMOVED`, `REVISION_UUID`)\n)
    ENGINE=InnoDB;\n\nCREATE TABLE IF NOT EXISTS AM_APPLICATION_GROUP_MAPPING (\n
    \   APPLICATION_ID INTEGER NOT NULL,\n    GROUP_ID VARCHAR(512) NOT NULL,\n    TENANT
    VARCHAR(255),\n    PRIMARY KEY (APPLICATION_ID,GROUP_ID,TENANT),\n    FOREIGN
    KEY (APPLICATION_ID) REFERENCES AM_APPLICATION(APPLICATION_ID) ON DELETE CASCADE
    ON UPDATE CASCADE\n) ENGINE=InnoDB;\n\nCREATE TABLE IF NOT EXISTS AM_USAGE_UPLOADED_FILES
    (\n  TENANT_DOMAIN varchar(255) NOT NULL,\n  FILE_NAME varchar(255) NOT NULL,\n
    \ FILE_TIMESTAMP TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  FILE_PROCESSED tinyint(1)
    DEFAULT FALSE,\n  FILE_CONTENT MEDIUMBLOB DEFAULT NULL,\n  PRIMARY KEY (TENANT_DOMAIN,
    FILE_NAME, FILE_TIMESTAMP)\n) ENGINE=InnoDB;\n\nCREATE TABLE IF NOT EXISTS AM_API_LC_PUBLISH_EVENTS
    (\n    ID INTEGER(11) NOT NULL AUTO_INCREMENT,\n    TENANT_DOMAIN VARCHAR(500)
    NOT NULL,\n    API_ID VARCHAR(500) NOT NULL,\n    EVENT_TIME TIMESTAMP NOT NULL,\n
    \   PRIMARY KEY (ID)\n) ENGINE=InnoDB;\n\nCREATE TABLE IF NOT EXISTS AM_APPLICATION_ATTRIBUTES
    (\n  APPLICATION_ID int(11) NOT NULL,\n  NAME varchar(255) NOT NULL,\n  APP_ATTRIBUTE
    varchar(1024) NOT NULL,\n  TENANT_ID int(11) NOT NULL,\n  PRIMARY KEY (APPLICATION_ID,NAME),\n
    \ FOREIGN KEY (APPLICATION_ID) REFERENCES AM_APPLICATION (APPLICATION_ID) ON DELETE
    CASCADE ON UPDATE CASCADE\n) ENGINE=InnoDB;\n\nCREATE TABLE IF NOT EXISTS AM_SYSTEM_APPS
    (\n    ID INTEGER AUTO_INCREMENT,\n    NAME VARCHAR(50) NOT NULL,\n    CONSUMER_KEY
    VARCHAR(512) NOT NULL,\n    CONSUMER_SECRET VARCHAR(512) NOT NULL,\n    CREATED_TIME
    TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    TENANT_DOMAIN VARCHAR(255) DEFAULT 'carbon.super',\n
    \   UNIQUE (CONSUMER_KEY),\n    PRIMARY KEY (ID)\n ) ENGINE=InnoDB;\n\n-- BotDATA
    Email table --\nCREATE TABLE IF NOT EXISTS AM_NOTIFICATION_SUBSCRIBER (\n    UUID
    VARCHAR(255),\n    CATEGORY VARCHAR(255),\n    NOTIFICATION_METHOD VARCHAR(255),\n
    \   SUBSCRIBER_ADDRESS VARCHAR(255) NOT NULL,\n    PRIMARY KEY(UUID, SUBSCRIBER_ADDRESS)\n)
    ENGINE INNODB;\n\nCREATE TABLE IF NOT EXISTS AM_REVOKED_JWT (\n    UUID VARCHAR(255)
    NOT NULL,\n    SIGNATURE VARCHAR(2048) NOT NULL,\n    EXPIRY_TIMESTAMP BIGINT
    NOT NULL,\n    TENANT_ID INTEGER DEFAULT -1,\n    TOKEN_TYPE VARCHAR(15) DEFAULT
    'DEFAULT',\n    TIME_CREATED TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    PRIMARY
    KEY (UUID)\n) ENGINE=InnoDB;\n\nCREATE TABLE IF NOT EXISTS AM_API_CATEGORIES (\n
    \ UUID VARCHAR(50),\n  NAME VARCHAR(255),\n  DESCRIPTION VARCHAR(1024),\n  ORGANIZATION
    VARCHAR(100),\n  UNIQUE (NAME,ORGANIZATION),\n  PRIMARY KEY (UUID)\n) ENGINE=InnoDB;\n\nCREATE
    TABLE IF NOT EXISTS AM_USER (\n    USER_ID VARCHAR(255) NOT NULL,\n    USER_NAME
    VARCHAR(255) NOT NULL,\n    PRIMARY KEY(USER_ID)\n) ENGINE=InnoDB;\n\n-- Tenant
    Themes Table --\nCREATE TABLE IF NOT EXISTS AM_TENANT_THEMES (\n  TENANT_ID INTEGER
    NOT NULL,\n  THEME MEDIUMBLOB NOT NULL,\n  PRIMARY KEY (TENANT_ID)\n) ENGINE=InnoDB;\n\nCREATE
    TABLE IF NOT EXISTS AM_TRANSACTION_RECORDS (\n    ID VARCHAR(255) NOT NULL,\n
    \   HOST VARCHAR(255),\n    SERVER_ID VARCHAR(255),\n    SERVER_TYPE VARCHAR(20),\n
    \   COUNT INT NOT NULL,\n    RECORDED_TIME TIMESTAMP NOT NULL,\n    PRIMARY KEY
    (ID)\n) ENGINE=INNODB;\n-- End of API-MGT Tables --\n\n-- UMA tables --\nCREATE
    TABLE IF NOT EXISTS IDN_UMA_RESOURCE (\n  ID INTEGER AUTO_INCREMENT NOT NULL,\n
    \ RESOURCE_ID VARCHAR(255),\n  RESOURCE_NAME VARCHAR(255),\n  TIME_CREATED TIMESTAMP
    NOT NULL,\n  RESOURCE_OWNER_NAME VARCHAR(255),\n  CLIENT_ID VARCHAR(255),\n  TENANT_ID
    INTEGER DEFAULT -1234,\n  USER_DOMAIN VARCHAR(50),\n  PRIMARY KEY (ID)\n);\n\nCREATE
    INDEX IDX_RID ON IDN_UMA_RESOURCE (RESOURCE_ID);\n\nCREATE INDEX IDX_USER ON IDN_UMA_RESOURCE
    (RESOURCE_OWNER_NAME, USER_DOMAIN);\n\nCREATE INDEX IDX_USER_RID ON IDN_UMA_RESOURCE
    (RESOURCE_ID, RESOURCE_OWNER_NAME(32), USER_DOMAIN, CLIENT_ID);\n\nCREATE TABLE
    IF NOT EXISTS IDN_UMA_RESOURCE_META_DATA (\n  ID INTEGER AUTO_INCREMENT NOT NULL,\n
    \ RESOURCE_IDENTITY INTEGER NOT NULL,\n  PROPERTY_KEY VARCHAR(40),\n  PROPERTY_VALUE
    VARCHAR(255),\n  PRIMARY KEY (ID),\n  FOREIGN KEY (RESOURCE_IDENTITY) REFERENCES
    IDN_UMA_RESOURCE (ID) ON DELETE CASCADE\n);\n\nCREATE TABLE IF NOT EXISTS IDN_UMA_RESOURCE_SCOPE
    (\n  ID INTEGER AUTO_INCREMENT NOT NULL,\n  RESOURCE_IDENTITY INTEGER NOT NULL,\n
    \ SCOPE_NAME VARCHAR(255),\n  PRIMARY KEY (ID),\n  FOREIGN KEY (RESOURCE_IDENTITY)
    REFERENCES IDN_UMA_RESOURCE (ID) ON DELETE CASCADE\n);\n\nCREATE INDEX IDX_RS
    ON IDN_UMA_RESOURCE_SCOPE (SCOPE_NAME);\n\nCREATE TABLE IF NOT EXISTS IDN_UMA_PERMISSION_TICKET
    (\n  ID INTEGER AUTO_INCREMENT NOT NULL,\n  PT VARCHAR(255) NOT NULL,\n  TIME_CREATED
    TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  EXPIRY_TIME TIMESTAMP NOT NULL
    DEFAULT CURRENT_TIMESTAMP,\n  TICKET_STATE VARCHAR(25) DEFAULT 'ACTIVE',\n  TENANT_ID
    INTEGER DEFAULT -1234,\n  TOKEN_ID VARCHAR(255),\n  PRIMARY KEY (ID)\n);\n\nCREATE
    INDEX IDX_PT ON IDN_UMA_PERMISSION_TICKET (PT);\n\nCREATE TABLE IF NOT EXISTS
    IDN_UMA_PT_RESOURCE (\n  ID INTEGER AUTO_INCREMENT NOT NULL,\n  PT_RESOURCE_ID
    INTEGER NOT NULL,\n  PT_ID INTEGER NOT NULL,\n  PRIMARY KEY (ID),\n  FOREIGN KEY
    (PT_ID) REFERENCES IDN_UMA_PERMISSION_TICKET (ID) ON DELETE CASCADE,\n  FOREIGN
    KEY (PT_RESOURCE_ID) REFERENCES IDN_UMA_RESOURCE (ID) ON DELETE CASCADE\n);\n\nCREATE
    TABLE IF NOT EXISTS IDN_UMA_PT_RESOURCE_SCOPE (\n  ID INTEGER AUTO_INCREMENT NOT
    NULL,\n  PT_RESOURCE_ID INTEGER NOT NULL,\n  PT_SCOPE_ID INTEGER NOT NULL,\n  PRIMARY
    KEY (ID),\n  FOREIGN KEY (PT_RESOURCE_ID) REFERENCES IDN_UMA_PT_RESOURCE (ID)
    ON DELETE CASCADE,\n  FOREIGN KEY (PT_SCOPE_ID) REFERENCES IDN_UMA_RESOURCE_SCOPE
    (ID) ON DELETE CASCADE\n);\n\nCREATE TABLE IF NOT EXISTS AM_USER (\n  USER_ID
    VARCHAR(255) NOT NULL,\n  USER_NAME VARCHAR(255) NOT NULL,\n  PRIMARY KEY(USER_ID)\n);\n\nCREATE
    TABLE IF NOT EXISTS AM_KEY_MANAGER (\n  UUID VARCHAR(50) NOT NULL,\n  NAME VARCHAR(100)
    NULL,\n  DISPLAY_NAME VARCHAR(100) NULL,\n  DESCRIPTION VARCHAR(256) NULL,\n  TYPE
    VARCHAR(45) NULL,\n  CONFIGURATION BLOB NULL,\n  ENABLED BOOLEAN DEFAULT 1,\n
    \ ORGANIZATION VARCHAR(100) NULL,\n  TOKEN_TYPE VARCHAR(45) NULL,\n  EXTERNAL_REFERENCE_ID
    VARCHAR(100) NULL,\n  PRIMARY KEY (UUID),\n  UNIQUE (NAME,ORGANIZATION)\n  );\n\nCREATE
    TABLE IF NOT EXISTS AM_KEY_MANAGER_PERMISSIONS (\n  KEY_MANAGER_UUID VARCHAR(50)
    NOT NULL,\n  PERMISSIONS_TYPE VARCHAR(50) NOT NULL,\n  ROLE VARCHAR(255),\n  PRIMARY
    KEY (KEY_MANAGER_UUID, ROLE),\n  FOREIGN KEY (KEY_MANAGER_UUID) REFERENCES AM_KEY_MANAGER(UUID)
    ON DELETE CASCADE\n);\n\n\nCREATE TABLE IF NOT EXISTS AM_KEY_MANAGER_ALLOWED_ORGS
    (\n  KEY_MANAGER_UUID VARCHAR(50) NOT NULL,\n  ALLOWED_ORGANIZATIONS VARCHAR(50)
    NOT NULL,\n  PRIMARY KEY (KEY_MANAGER_UUID, ALLOWED_ORGANIZATIONS),\n  FOREIGN
    KEY (KEY_MANAGER_UUID) REFERENCES AM_KEY_MANAGER(UUID) ON DELETE CASCADE\n);\n\n--
    AM_GW_PUBLISHED_API_DETAILS & AM_GW_API_ARTIFACTS are independent tables for Artifact
    synchronizer feature which --\n-- should not have any referential integrity constraints
    with other tables in AM database--\nCREATE TABLE IF NOT EXISTS AM_GW_PUBLISHED_API_DETAILS
    (\n  API_ID varchar(255) NOT NULL,\n  TENANT_DOMAIN varchar(255),\n  API_PROVIDER
    varchar(255),\n  API_NAME varchar(255),\n  API_VERSION varchar(255),\n  API_TYPE
    varchar(50),\n  PRIMARY KEY (API_ID)\n)ENGINE=InnoDB;\n\nCREATE TABLE IF NOT EXISTS
    AM_GW_API_ARTIFACTS (\n  API_ID VARCHAR(255) NOT NULL,\n  REVISION_ID VARCHAR(255)
    NOT NULL,\n  ARTIFACT MEDIUMBLOB,\n  TIME_STAMP TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP
    ON UPDATE CURRENT_TIMESTAMP,\n  PRIMARY KEY (REVISION_ID, API_ID),\n  FOREIGN
    KEY (API_ID) REFERENCES AM_GW_PUBLISHED_API_DETAILS(API_ID) ON UPDATE CASCADE
    ON DELETE CASCADE\n)ENGINE=InnoDB;\n\nCREATE TABLE IF NOT EXISTS AM_GW_API_DEPLOYMENTS
    (\n  API_ID VARCHAR(255) NOT NULL,\n  REVISION_ID VARCHAR(255) NOT NULL,\n  LABEL
    VARCHAR(255) NOT NULL,\n  VHOST VARCHAR(255) NULL,\n  PRIMARY KEY (REVISION_ID,
    API_ID,LABEL),\n  FOREIGN KEY (API_ID) REFERENCES AM_GW_PUBLISHED_API_DETAILS(API_ID)
    ON UPDATE CASCADE ON DELETE CASCADE\n) ENGINE=InnoDB;\n\nCREATE TABLE IF NOT EXISTS
    AM_SCOPE (\n            SCOPE_ID INTEGER NOT NULL AUTO_INCREMENT,\n            NAME
    VARCHAR(255) NOT NULL,\n            DISPLAY_NAME VARCHAR(255) NOT NULL,\n            DESCRIPTION
    VARCHAR(512),\n            TENANT_ID INTEGER NOT NULL DEFAULT -1,\n            SCOPE_TYPE
    VARCHAR(255) NOT NULL,\n            PRIMARY KEY (SCOPE_ID)\n)ENGINE INNODB;\n\nCREATE
    TABLE IF NOT EXISTS AM_SCOPE_BINDING (\n            SCOPE_ID INTEGER NOT NULL,\n
    \           SCOPE_BINDING VARCHAR(255) NOT NULL,\n            BINDING_TYPE VARCHAR(255)
    NOT NULL,\n            FOREIGN KEY (SCOPE_ID) REFERENCES AM_SCOPE (SCOPE_ID) ON
    DELETE CASCADE\n)ENGINE INNODB;\n\nCREATE TABLE IF NOT EXISTS AM_REVISION (\n
    \ ID INTEGER NOT NULL,\n  API_UUID VARCHAR(256) NOT NULL,\n  REVISION_UUID VARCHAR(255)
    NOT NULL,\n  DESCRIPTION VARCHAR(255),\n  CREATED_TIME TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n
    \ CREATED_BY VARCHAR(255),\n  PRIMARY KEY (ID, API_UUID),\n  UNIQUE(REVISION_UUID),\n
    \ FOREIGN KEY (API_UUID) REFERENCES AM_API(API_UUID) ON DELETE CASCADE\n)ENGINE
    INNODB;\n\nCREATE TABLE IF NOT EXISTS AM_API_REVISION_METADATA (\n    API_UUID
    VARCHAR(64),\n    REVISION_UUID VARCHAR(255),\n    API_TIER VARCHAR(128),\n    UNIQUE
    (API_UUID,REVISION_UUID),\n    FOREIGN KEY(REVISION_UUID) REFERENCES AM_REVISION(REVISION_UUID)
    ON DELETE CASCADE\n)ENGINE INNODB;\n\nCREATE TABLE IF NOT EXISTS AM_DEPLOYMENT_REVISION_MAPPING
    (\n  NAME VARCHAR(255) NOT NULL,\n  VHOST VARCHAR(255) NULL,\n  REVISION_UUID
    VARCHAR(255) NOT NULL,\n  REVISION_STATUS VARCHAR(255) NULL,\n  DISPLAY_ON_DEVPORTAL
    BOOLEAN DEFAULT 0,\n  DEPLOYED_TIME TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  PRIMARY
    KEY (NAME, REVISION_UUID),\n  FOREIGN KEY (REVISION_UUID) REFERENCES AM_REVISION(REVISION_UUID)
    ON UPDATE CASCADE ON DELETE CASCADE\n)ENGINE INNODB;\n\nCREATE TABLE IF NOT EXISTS
    AM_DEPLOYED_REVISION (\n  NAME VARCHAR(255) NOT NULL,\n  VHOST VARCHAR(255) NULL,\n
    \ REVISION_UUID VARCHAR(255) NOT NULL,\n  DEPLOYED_TIME TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n
    \ PRIMARY KEY (NAME, REVISION_UUID),\n  FOREIGN KEY (REVISION_UUID) REFERENCES
    AM_REVISION(REVISION_UUID) ON UPDATE CASCADE ON DELETE CASCADE\n)ENGINE INNODB;\n\n--
    Gateway Environments Table --\nCREATE TABLE IF NOT EXISTS AM_GATEWAY_ENVIRONMENT
    (\n  ID INTEGER NOT NULL AUTO_INCREMENT,\n  UUID VARCHAR(45) NOT NULL,\n  NAME
    VARCHAR(255) NOT NULL,\n  TYPE VARCHAR(255) NULL,\n  DISPLAY_NAME VARCHAR(255)
    NULL,\n  DESCRIPTION VARCHAR(1023) NULL,\n  PROVIDER VARCHAR(255) NOT NULL,\n
    \ GATEWAY_TYPE VARCHAR(255) NOT NULL,\n  ENV_MODE VARCHAR(45) NOT NULL DEFAULT
    'WRITE_ONLY',\n  SCHEDULED_TIME INTEGER,\n  CONFIGURATION BLOB NULL,\n  ORGANIZATION
    \ VARCHAR(255) NOT NULL,\n  UNIQUE (NAME, ORGANIZATION),\n  UNIQUE (UUID),\n  PRIMARY
    KEY (ID)\n);\n\nCREATE TABLE AM_GATEWAY_PERMISSIONS (\n  GATEWAY_UUID VARCHAR(45)
    NOT NULL,\n  PERMISSIONS_TYPE VARCHAR(50) NOT NULL,\n  ROLE VARCHAR(255),\n  PRIMARY
    KEY (GATEWAY_UUID, ROLE),\n  FOREIGN KEY (GATEWAY_UUID) REFERENCES AM_GATEWAY_ENVIRONMENT(UUID)
    ON DELETE CASCADE\n);\n\n-- Virtual Hosts Table --\nCREATE TABLE IF NOT EXISTS
    AM_GW_VHOST (\n  GATEWAY_ENV_ID INTEGER NOT NULL,\n  HOST VARCHAR(255) NOT NULL,\n
    \ HTTP_CONTEXT VARCHAR(255) NULL,\n  HTTP_PORT VARCHAR(5) NOT NULL,\n  HTTPS_PORT
    VARCHAR(5) NOT NULL,\n  WS_PORT VARCHAR(5) NOT NULL,\n  WSS_PORT VARCHAR(5) NOT
    NULL,\n  FOREIGN KEY (GATEWAY_ENV_ID) REFERENCES AM_GATEWAY_ENVIRONMENT(ID) ON
    UPDATE CASCADE ON DELETE CASCADE,\n  PRIMARY KEY (GATEWAY_ENV_ID, HOST)\n);\n\n--
    Service Catalog --\nCREATE TABLE IF NOT EXISTS AM_SERVICE_CATALOG (\n            UUID
    VARCHAR(36) NOT NULL,\n            SERVICE_KEY VARCHAR(512) NOT NULL,\n            MD5
    VARCHAR(512) NOT NULL,\n            SERVICE_NAME VARCHAR(255) NOT NULL,\n            SERVICE_VERSION
    VARCHAR(30) NOT NULL,\n            TENANT_ID INTEGER NOT NULL,\n            SERVICE_URL
    VARCHAR(2048) NOT NULL,\n            DEFINITION_TYPE VARCHAR(20),\n            DEFINITION_URL
    VARCHAR(2048),\n            DESCRIPTION VARCHAR(1024),\n            SECURITY_TYPE
    VARCHAR(50),\n            MUTUAL_SSL_ENABLED BOOLEAN DEFAULT 0,\n            CREATED_TIME
    TIMESTAMP NULL,\n            LAST_UPDATED_TIME TIMESTAMP NULL,\n            CREATED_BY
    VARCHAR(255),\n            UPDATED_BY VARCHAR(255),\n            SERVICE_DEFINITION
    BLOB NOT NULL,\n            PRIMARY KEY (UUID),\n            UNIQUE (SERVICE_NAME,
    SERVICE_VERSION, TENANT_ID),\n            UNIQUE (SERVICE_KEY, TENANT_ID)\n)ENGINE=InnoDB;\n\nCREATE
    TABLE IF NOT EXISTS AM_API_EXTERNAL_API_MAPPING (\n    API_ID VARCHAR(255) NOT
    NULL,\n    GATEWAY_ENV_ID VARCHAR(255) NOT NULL,\n    REFERENCE_ARTIFACT LONGBLOB
    NOT NULL,\n    FOREIGN KEY (API_ID) REFERENCES AM_API(API_UUID) ON DELETE CASCADE,\n
    \   FOREIGN KEY (GATEWAY_ENV_ID) REFERENCES AM_GATEWAY_ENVIRONMENT(UUID),\n    PRIMARY
    KEY (API_ID, GATEWAY_ENV_ID)\n)ENGINE=InnoDB;\n\nCREATE TABLE IF NOT EXISTS AM_API_SERVICE_MAPPING
    (\n    API_ID INTEGER NOT NULL,\n    SERVICE_KEY VARCHAR(256) NOT NULL,\n    MD5
    VARCHAR(512),\n    TENANT_ID INTEGER NOT NULL,\n    PRIMARY KEY (API_ID, SERVICE_KEY),\n
    \   FOREIGN KEY (API_ID) REFERENCES AM_API(API_ID) ON DELETE CASCADE\n)ENGINE=InnoDB;\n\n--
    Webhooks --\nCREATE TABLE IF NOT EXISTS AM_WEBHOOKS_SUBSCRIPTION (\n            WH_SUBSCRIPTION_ID
    INTEGER NOT NULL AUTO_INCREMENT,\n            API_UUID VARCHAR(255) NOT NULL,\n
    \           APPLICATION_ID VARCHAR(20) NOT NULL,\n            TENANT_DOMAIN VARCHAR(255)
    NOT NULL,\n            HUB_CALLBACK_URL VARCHAR(1024) NOT NULL,\n            HUB_TOPIC
    VARCHAR(255) NOT NULL,\n            HUB_SECRET VARCHAR(2048),\n            HUB_LEASE_SECONDS
    INTEGER,\n            UPDATED_AT TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n
    \           EXPIRY_AT BIGINT,\n            DELIVERED_AT TIMESTAMP NULL,\n            DELIVERY_STATE
    INTEGER NOT NULL DEFAULT 0,\n            PRIMARY KEY (WH_SUBSCRIPTION_ID)\n)ENGINE
    INNODB;\n\nCREATE TABLE IF NOT EXISTS AM_WEBHOOKS_UNSUBSCRIPTION (\n            API_UUID
    VARCHAR(255) NOT NULL,\n            APPLICATION_ID VARCHAR(20) NOT NULL,\n            TENANT_DOMAIN
    VARCHAR(255) NOT NULL,\n            HUB_CALLBACK_URL VARCHAR(1024) NOT NULL,\n
    \           HUB_TOPIC VARCHAR(255) NOT NULL,\n            HUB_SECRET VARCHAR(2048),\n
    \           HUB_LEASE_SECONDS INTEGER,\n            ADDED_AT TIMESTAMP NOT NULL
    DEFAULT CURRENT_TIMESTAMP\n)ENGINE INNODB;\n\nCREATE TABLE IF NOT EXISTS AM_API_ENVIRONMENT_KEYS\n(\n
    \   UUID            VARCHAR(45)  NOT NULL,\n    ENVIRONMENT_ID  VARCHAR(45)  NOT
    NULL,\n    API_UUID          VARCHAR(256) NOT NULL,\n    PROPERTY_CONFIG BLOB
    DEFAULT NULL,\n    UNIQUE (ENVIRONMENT_ID, API_UUID),\n    FOREIGN KEY (API_UUID)
    REFERENCES AM_API(API_UUID) ON DELETE CASCADE,\n    PRIMARY KEY (UUID)\n)ENGINE
    INNODB;\n\nCREATE TABLE IF NOT EXISTS AM_OPERATION_POLICY (\n    POLICY_UUID VARCHAR(45)
    NOT NULL,\n    POLICY_NAME VARCHAR(300) NOT NULL,\n    POLICY_VERSION VARCHAR(45)
    DEFAULT 'v1',\n    DISPLAY_NAME VARCHAR(300) NOT NULL,\n    POLICY_DESCRIPTION
    VARCHAR(1024),\n    APPLICABLE_FLOWS VARCHAR(45) NOT NULL,\n    GATEWAY_TYPES
    VARCHAR(45) NOT NULL,\n    API_TYPES VARCHAR(45) NOT NULL,\n    POLICY_PARAMETERS
    blob,\n    ORGANIZATION VARCHAR(100),\n    POLICY_CATEGORY VARCHAR(45) NOT NULL,\n
    \   POLICY_MD5 VARCHAR(512) NOT NULL,\n    PRIMARY KEY(POLICY_UUID)\n)ENGINE INNODB;\n\nCREATE
    TABLE IF NOT EXISTS AM_OPERATION_POLICY_DEFINITION (\n   DEFINITION_ID INTEGER
    AUTO_INCREMENT,\n   POLICY_UUID VARCHAR(45) NOT NULL,\n   POLICY_DEFINITION mediumblob
    NOT NULL,\n   GATEWAY_TYPE VARCHAR(20) NOT NULL,\n   DEFINITION_MD5 VARCHAR(512)
    NOT NULL,\n   UNIQUE (POLICY_UUID, GATEWAY_TYPE),\n   FOREIGN KEY (POLICY_UUID)
    REFERENCES AM_OPERATION_POLICY(POLICY_UUID) ON DELETE CASCADE,\n   PRIMARY KEY(DEFINITION_ID)\n)ENGINE
    INNODB;\n\nCREATE TABLE IF NOT EXISTS AM_COMMON_OPERATION_POLICY (\n   COMMON_POLICY_ID
    INTEGER AUTO_INCREMENT,\n   POLICY_UUID VARCHAR(45) NOT NULL,\n   FOREIGN KEY
    (POLICY_UUID) REFERENCES AM_OPERATION_POLICY(POLICY_UUID) ON DELETE CASCADE,\n
    \  PRIMARY KEY(COMMON_POLICY_ID)\n)ENGINE INNODB;\n\nCREATE TABLE IF NOT EXISTS
    AM_API_OPERATION_POLICY (\n   API_SPECIFIC_POLICY_ID INTEGER AUTO_INCREMENT,\n
    \  POLICY_UUID VARCHAR(45) NOT NULL,\n   API_UUID VARCHAR(45) NOT NULL,\n   REVISION_UUID
    VARCHAR(45),\n   CLONED_POLICY_UUID VARCHAR(45),\n   FOREIGN KEY (POLICY_UUID)
    REFERENCES AM_OPERATION_POLICY(POLICY_UUID) ON DELETE CASCADE,\n   PRIMARY KEY(API_SPECIFIC_POLICY_ID)\n)ENGINE
    INNODB;\n\nCREATE TABLE IF NOT EXISTS AM_API_OPERATION_POLICY_MAPPING (\n   OPERATION_POLICY_MAPPING_ID
    INTEGER AUTO_INCREMENT,\n   URL_MAPPING_ID INTEGER NOT NULL,\n   POLICY_UUID VARCHAR(45)
    NOT NULL,\n   POLICY_ORDER INTEGER NOT NULL,\n   DIRECTION VARCHAR(10) NOT NULL,\n
    \  PARAMETERS VARCHAR(2048) NOT NULL,\n   FOREIGN KEY (URL_MAPPING_ID) REFERENCES
    AM_API_URL_MAPPING(URL_MAPPING_ID) ON DELETE CASCADE,\n   FOREIGN KEY (POLICY_UUID)
    REFERENCES AM_OPERATION_POLICY(POLICY_UUID) ON DELETE CASCADE,\n   PRIMARY KEY(OPERATION_POLICY_MAPPING_ID)\n)ENGINE
    INNODB;\n\nCREATE TABLE IF NOT EXISTS AM_API_POLICY_MAPPING (\n   API_POLICY_MAPPING_ID
    INTEGER AUTO_INCREMENT,\n   API_UUID VARCHAR(256) NOT NULL,\n   REVISION_UUID
    VARCHAR(45),\n   POLICY_UUID VARCHAR(45) NOT NULL,\n   POLICY_ORDER INTEGER NOT
    NULL,\n   DIRECTION VARCHAR(10) NOT NULL,\n   PARAMETERS VARCHAR(2048) NOT NULL,\n
    \  FOREIGN KEY (API_UUID) REFERENCES AM_API(API_UUID) ON DELETE CASCADE,\n   FOREIGN
    KEY (POLICY_UUID) REFERENCES AM_OPERATION_POLICY(POLICY_UUID) ON DELETE CASCADE,\n
    \  PRIMARY KEY(API_POLICY_MAPPING_ID)\n)ENGINE INNODB;\n\nCREATE TABLE IF NOT
    EXISTS AM_GATEWAY_POLICY_METADATA (\n    GLOBAL_POLICY_MAPPING_UUID VARCHAR(45)
    \  NOT NULL,\n    DISPLAY_NAME               VARCHAR(255)  NULL,\n    DESCRIPTION
    \               VARCHAR(1023) NULL,\n    ORGANIZATION               VARCHAR(100)
    \ NOT NULL,\n    PRIMARY KEY (GLOBAL_POLICY_MAPPING_UUID)\n)ENGINE INNODB;\n\nCREATE
    TABLE IF NOT EXISTS AM_GATEWAY_POLICY_MAPPING (\n    POLICY_TO_FLOW_INFO_MAPPING_ID
    INTEGER AUTO_INCREMENT,\n    GLOBAL_POLICY_MAPPING_UUID     VARCHAR(45)   NOT
    NULL,\n    POLICY_UUID                    VARCHAR(45)   NOT NULL,\n    POLICY_ORDER
    \                  INTEGER       NOT NULL,\n    DIRECTION                      VARCHAR(10)
    \  NOT NULL,\n    PARAMETERS                     VARCHAR(2048) NOT NULL,\n    FOREIGN
    KEY (POLICY_UUID) REFERENCES AM_OPERATION_POLICY (POLICY_UUID) ON UPDATE CASCADE
    ON DELETE RESTRICT,\n    FOREIGN KEY (GLOBAL_POLICY_MAPPING_UUID) REFERENCES AM_GATEWAY_POLICY_METADATA
    (GLOBAL_POLICY_MAPPING_UUID) ON UPDATE CASCADE ON DELETE CASCADE,\n    PRIMARY
    KEY (POLICY_TO_FLOW_INFO_MAPPING_ID)\n)ENGINE INNODB;\n\nCREATE TABLE IF NOT EXISTS
    AM_GATEWAY_POLICY_DEPLOYMENT (\n    GATEWAY_LABEL              VARCHAR(255) NOT
    NULL,\n    GLOBAL_POLICY_MAPPING_UUID VARCHAR(45)  NOT NULL,\n    ORGANIZATION
    \              VARCHAR(100) NOT NULL,\n    FOREIGN KEY (GLOBAL_POLICY_MAPPING_UUID)
    REFERENCES AM_GATEWAY_POLICY_METADATA (GLOBAL_POLICY_MAPPING_UUID) ON UPDATE CASCADE
    ON DELETE RESTRICT,\n    PRIMARY KEY (ORGANIZATION,GATEWAY_LABEL)\n)ENGINE INNODB;\n\nCREATE
    TABLE IF NOT EXISTS AM_SYSTEM_CONFIGS\n(\n  ORGANIZATION     VARCHAR(100)            NOT
    NULL,\n  CONFIG_TYPE      VARCHAR(100)            NOT NULL,\n  CONFIGURATION    BLOB
    \                   NOT NULL,\n  PRIMARY KEY (ORGANIZATION,CONFIG_TYPE)\n)ENGINE
    INNODB;\n\nCREATE TABLE IF NOT EXISTS AM_CORRELATION_CONFIGS (\n    COMPONENT_NAME
    \ VARCHAR(45)     NOT NULL,\n    ENABLED         VARCHAR(45)     NOT NULL,\n    PRIMARY
    KEY (COMPONENT_NAME)\n)ENGINE INNODB;\n\nCREATE TABLE IF NOT EXISTS AM_CORRELATION_PROPERTIES(\n
    \   PROPERTY_NAME   VARCHAR(45)     NOT NULL,\n    COMPONENT_NAME  VARCHAR(45)
    \    NOT NULL,\n    PROPERTY_VALUE  VARCHAR(1023)   NOT NULL,\n    PRIMARY KEY
    (PROPERTY_NAME, COMPONENT_NAME),\n    FOREIGN KEY (COMPONENT_NAME) REFERENCES
    AM_CORRELATION_CONFIGS(COMPONENT_NAME) ON DELETE CASCADE\n)ENGINE INNODB;\n\nCREATE
    TABLE IF NOT EXISTS AM_APP_REVOKED_EVENT (\n    CONSUMER_KEY    VARCHAR(255)    NOT
    NULL,\n    TIME_REVOKED    TIMESTAMP       NOT NULL,\n    ORGANIZATION    VARCHAR(100),\n
    \   PRIMARY KEY (CONSUMER_KEY, ORGANIZATION)\n)ENGINE INNODB;\n\nCREATE TABLE
    IF NOT EXISTS AM_SUBJECT_ENTITY_REVOKED_EVENT (\n    ENTITY_ID       VARCHAR(255)
    \   NOT NULL,\n    ENTITY_TYPE     VARCHAR(100)    NOT NULL,\n    TIME_REVOKED
    \   TIMESTAMP       NOT NULL,\n    ORGANIZATION    VARCHAR(100),\n    PRIMARY
    KEY (ENTITY_ID, ENTITY_TYPE, ORGANIZATION)\n)ENGINE INNODB;\n\nCREATE TABLE IF
    NOT EXISTS AM_LLM_PROVIDER (\n    UUID                VARCHAR(255)    NOT NULL,\n
    \   NAME                VARCHAR(255)    NOT NULL,\n    API_VERSION         VARCHAR(50)
    \    NOT NULL,\n    ORGANIZATION        VARCHAR(255)    NOT NULL,\n    BUILT_IN_SUPPORT
    \   VARCHAR(5)      NOT NULL,\n    DESCRIPTION         VARCHAR(1023),\n    CONFIGURATIONS
    \     BLOB            NOT NULL,\n    API_DEFINITION      LONGBLOB        NOT NULL,\n
    \   MODEL_FAMILY_SUPPORTED VARCHAR(5) NOT NULL DEFAULT 'false',\n    UNIQUE (NAME,
    API_VERSION, ORGANIZATION),\n    PRIMARY KEY (UUID)\n) ENGINE INNODB;\n\nCREATE
    TABLE IF NOT EXISTS AM_LLM_PROVIDER_MODEL (\n    MODEL_ID            INTEGER AUTO_INCREMENT,\n
    \   MODEL_NAME          VARCHAR(255)    NOT NULL,\n    MODEL_FAMILY_NAME      VARCHAR(255)
    \    NULL,\n    LLM_PROVIDER_UUID   VARCHAR(255)    NOT NULL,\n    PRIMARY KEY
    (MODEL_ID),\n    FOREIGN KEY (LLM_PROVIDER_UUID) REFERENCES AM_LLM_PROVIDER(UUID)\n)
    ENGINE INNODB;\n\nCREATE TABLE IF NOT EXISTS AM_API_AI_CONFIGURATION (\n    AI_CONFIGURATION_UUID
    \     VARCHAR(255)    NOT NULL,\n    API_UUID                   VARCHAR(256)    NOT
    NULL,\n    API_REVISION_UUID          VARCHAR(255),\n    LLM_PROVIDER_UUID          VARCHAR(255)
    \   NOT NULL,\n    PRIMARY KEY (AI_CONFIGURATION_UUID),\n    FOREIGN KEY (API_UUID)
    REFERENCES AM_API(API_UUID),\n    FOREIGN KEY (LLM_PROVIDER_UUID) REFERENCES AM_LLM_PROVIDER(UUID)\n)
    ENGINE INNODB;\n\nCREATE TABLE IF NOT EXISTS AM_LABEL (\n    UUID            VARCHAR(50)
    \    NOT NULL,\n    NAME            VARCHAR(255)    NOT NULL,\n    DESCRIPTION
    \    VARCHAR(1024),\n    TENANT_DOMAIN   VARCHAR(255)    DEFAULT 'carbon.super',\n
    \   UNIQUE (NAME, TENANT_DOMAIN),\n    PRIMARY KEY (UUID)\n) ENGINE InnoDB;\n\nCREATE
    TABLE IF NOT EXISTS AM_API_LABEL_MAPPING (\n    API_UUID       VARCHAR(256)     NOT
    NULL,\n    LABEL_UUID     VARCHAR(50)      NOT NULL,\n    PRIMARY KEY (API_UUID,
    LABEL_UUID),\n    FOREIGN KEY (API_UUID) REFERENCES AM_API(API_UUID) ON DELETE
    CASCADE\n) ENGINE InnoDB;\n\nCREATE TABLE IF NOT EXISTS AM_ARTIFACT (\n    UUID
    \    VARCHAR(45),\n    ARTIFACT LONGBLOB    NOT NULL,\n    TYPE     VARCHAR(25)
    NOT NULL,\n    PRIMARY KEY (UUID)\n) ENGINE INNODB;\n\nCREATE TABLE IF NOT EXISTS
    AM_DEVPORTAL_ORG_CONTENT (\n    ORGANIZATION       VARCHAR(100),\n    DRAFTED_ARTIFACT
    \  VARCHAR(45),\n    PUBLISHED_ARTIFACT VARCHAR(45),\n    PRIMARY KEY (ORGANIZATION)\n)
    ENGINE INNODB;\n\nCREATE TABLE IF NOT EXISTS AM_DEVPORTAL_API_CONTENT (\n    API_UUID
    \          VARCHAR(256),\n    ORGANIZATION       VARCHAR(100),\n    DRAFTED_ARTIFACT
    \  VARCHAR(45),\n    PUBLISHED_ARTIFACT VARCHAR(45),\n    PRIMARY KEY (API_UUID,
    ORGANIZATION)\n) ENGINE INNODB;\n\nCREATE TABLE IF NOT EXISTS AM_DEVPORTAL_API_REFERENCE
    (\n    API_UUID        VARCHAR(256),\n    ORGANIZATION    VARCHAR(100) NOT NULL,\n
    \   REFERENCE_APIID VARCHAR(256) NOT NULL,\n    PRIMARY KEY (API_UUID, ORGANIZATION)\n)
    ENGINE=INNODB;\n\n-- APIM Governance Tables --\n\nCREATE TABLE IF NOT EXISTS GOV_RULESET
    (\n    RULESET_ID VARCHAR(36) NOT NULL,\n    NAME VARCHAR(256) NOT NULL,\n    DESCRIPTION
    VARCHAR(1024),\n    ARTIFACT_TYPE VARCHAR(128) NOT NULL,\n    RULE_CATEGORY VARCHAR(128)
    NOT NULL,\n    RULE_TYPE VARCHAR(128) NOT NULL,\n    DOCUMENTATION_LINK VARCHAR(1024),\n
    \   PROVIDER VARCHAR(256),\n    ORGANIZATION VARCHAR(128) NOT NULL,\n    CREATED_BY
    VARCHAR(256),\n    CREATED_TIME DATETIME DEFAULT CURRENT_TIMESTAMP,\n    UPDATED_BY
    VARCHAR(256),\n    LAST_UPDATED_TIME DATETIME,\n    CONSTRAINT RULESET_CONSTRAINT
    UNIQUE (NAME, ORGANIZATION),\n    PRIMARY KEY (RULESET_ID)\n) ENGINE=INNODB;\n\nCREATE
    TABLE IF NOT EXISTS GOV_RULESET_CONTENT (\n    RULESET_ID VARCHAR(36) NOT NULL,\n
    \   CONTENT LONGBLOB NOT NULL,\n    CONTENT_TYPE VARCHAR(128),\n    FILE_NAME
    VARCHAR(256),\n    FOREIGN KEY (RULESET_ID) REFERENCES GOV_RULESET(RULESET_ID),\n
    \   PRIMARY KEY (RULESET_ID)\n) ENGINE=INNODB;\n\nCREATE TABLE IF NOT EXISTS GOV_RULESET_RULE
    (\n    RULESET_RULE_ID VARCHAR(36) NOT NULL,\n    RULESET_ID VARCHAR(36) NOT NULL,\n
    \   RULE_NAME VARCHAR(256) NOT NULL,\n    RULE_DESCRIPTION VARCHAR(1024),\n    SEVERITY
    VARCHAR(32) NOT NULL,\n    RULE_CONTENT BLOB NOT NULL,\n    FOREIGN KEY (RULESET_ID)
    REFERENCES GOV_RULESET(RULESET_ID),\n    CONSTRAINT RULESET_RULE_CONSTRAINT UNIQUE
    (RULESET_ID, RULE_NAME),\n    PRIMARY KEY (RULESET_RULE_ID)\n) ENGINE=INNODB;\n\nCREATE
    TABLE IF NOT EXISTS GOV_POLICY (\n    POLICY_ID VARCHAR(36) NOT NULL,\n    NAME
    VARCHAR(256) NOT NULL,\n    DESCRIPTION VARCHAR(1024),\n    ORGANIZATION VARCHAR(128)
    NOT NULL,\n    CREATED_BY VARCHAR(256),\n    CREATED_TIME DATETIME DEFAULT CURRENT_TIMESTAMP,\n
    \   UPDATED_BY VARCHAR(256),\n    LAST_UPDATED_TIME DATETIME,\n    IS_GLOBAL INT
    DEFAULT 0,\n    CONSTRAINT POLICY_CONSTRAINT UNIQUE (NAME, ORGANIZATION),\n    PRIMARY
    KEY (POLICY_ID)\n) ENGINE=INNODB;\n\nCREATE TABLE IF NOT EXISTS GOV_POLICY_LABEL
    (\n    POLICY_ID VARCHAR(36) NOT NULL,\n    LABEL VARCHAR(128) NOT NULL,\n    FOREIGN
    KEY (POLICY_ID) REFERENCES GOV_POLICY(POLICY_ID),\n    PRIMARY KEY (POLICY_ID,
    LABEL)\n) ENGINE=INNODB;\n\nCREATE TABLE IF NOT EXISTS GOV_POLICY_GOVERNABLE_STATE
    (\n    POLICY_ID VARCHAR(36) NOT NULL,\n    STATE VARCHAR(128) NOT NULL,\n    FOREIGN
    KEY (POLICY_ID) REFERENCES GOV_POLICY(POLICY_ID),\n    PRIMARY KEY (POLICY_ID,
    STATE)\n) ENGINE=INNODB;\n\nCREATE TABLE IF NOT EXISTS GOV_POLICY_ACTION (\n    POLICY_ID
    VARCHAR(36) NOT NULL,\n    STATE VARCHAR(128) NOT NULL,\n    SEVERITY VARCHAR(32)
    NOT NULL,\n    TYPE VARCHAR(32) NOT NULL,\n    FOREIGN KEY (POLICY_ID, STATE)
    REFERENCES GOV_POLICY_GOVERNABLE_STATE(POLICY_ID, STATE),\n    PRIMARY KEY (POLICY_ID,
    STATE, SEVERITY, TYPE)\n) ENGINE=INNODB;\n\nCREATE TABLE IF NOT EXISTS GOV_POLICY_RULESET
    (\n    POLICY_ID VARCHAR(36) NOT NULL,\n    RULESET_ID VARCHAR(36) NOT NULL,\n
    \   FOREIGN KEY (POLICY_ID) REFERENCES GOV_POLICY(POLICY_ID),\n    FOREIGN KEY
    (RULESET_ID) REFERENCES GOV_RULESET(RULESET_ID),\n    PRIMARY KEY (POLICY_ID,
    RULESET_ID)\n) ENGINE=INNODB;\n\nCREATE TABLE IF NOT EXISTS GOV_ARTIFACT (\n    ARTIFACT_KEY
    VARCHAR(36) NOT NULL,\n    ARTIFACT_REF_ID VARCHAR(36) NOT NULL,\n    ARTIFACT_TYPE
    VARCHAR(32) NOT NULL,\n    ORGANIZATION VARCHAR(128) NOT NULL,\n    CONSTRAINT
    GOV_ARTIFACT_CONSTRAINT UNIQUE (ARTIFACT_REF_ID, ARTIFACT_TYPE, ORGANIZATION),\n
    \   PRIMARY KEY (ARTIFACT_KEY)\n) ENGINE=INNODB;\n\nCREATE TABLE IF NOT EXISTS
    GOV_REQUEST (\n    REQ_ID VARCHAR(36) NOT NULL,\n    ARTIFACT_KEY VARCHAR(36)
    NOT NULL,\n    STATUS VARCHAR(32) NOT NULL DEFAULT 'PENDING',\n    REQ_TIMESTAMP
    DATETIME DEFAULT CURRENT_TIMESTAMP,\n    PROCESSING_TIMESTAMP DATETIME,\n    CONSTRAINT
    EVAL_CONSTRAINT UNIQUE (STATUS, ARTIFACT_KEY),\n    PRIMARY KEY (REQ_ID)\n) ENGINE=INNODB;\n\nCREATE
    TABLE IF NOT EXISTS GOV_REQUEST_POLICY (\n    REQ_ID VARCHAR(36) NOT NULL,\n    POLICY_ID
    VARCHAR(36) NOT NULL,\n    FOREIGN KEY (REQ_ID) REFERENCES GOV_REQUEST(REQ_ID),\n
    \   FOREIGN KEY (POLICY_ID) REFERENCES GOV_POLICY(POLICY_ID),\n    PRIMARY KEY
    (REQ_ID, POLICY_ID)\n) ENGINE=INNODB;\n\nCREATE TABLE IF NOT EXISTS GOV_POLICY_RUN
    (\n    ARTIFACT_KEY VARCHAR(36) NOT NULL,\n    POLICY_ID VARCHAR(36) NOT NULL,\n
    \   RUN_TIMESTAMP DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,\n    FOREIGN KEY
    (ARTIFACT_KEY) REFERENCES GOV_ARTIFACT(ARTIFACT_KEY),\n    FOREIGN KEY (POLICY_ID)
    REFERENCES GOV_POLICY(POLICY_ID),\n    PRIMARY KEY (ARTIFACT_KEY, POLICY_ID)\n)
    ENGINE=INNODB;\n\nCREATE TABLE IF NOT EXISTS GOV_RULESET_RUN (\n    RULESET_RUN_ID
    VARCHAR(36) NOT NULL,\n    ARTIFACT_KEY VARCHAR(36) NOT NULL,\n    RULESET_ID
    VARCHAR(36) NOT NULL,\n    RESULT INT NOT NULL, -- 1 - Pass, 0 - Fail\n    RUN_TIMESTAMP
    DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,\n    CONSTRAINT RULESET_RESULT UNIQUE
    (ARTIFACT_KEY, RULESET_ID),\n    FOREIGN KEY (ARTIFACT_KEY) REFERENCES GOV_ARTIFACT(ARTIFACT_KEY),\n
    \   FOREIGN KEY (RULESET_ID) REFERENCES GOV_RULESET(RULESET_ID),\n    PRIMARY
    KEY (RULESET_RUN_ID)\n) ENGINE=INNODB;\n\nCREATE TABLE IF NOT EXISTS GOV_RULE_VIOLATION
    (\n    ID VARCHAR(36) NOT NULL,\n    RULESET_RUN_ID VARCHAR(36) NOT NULL,\n    RULESET_ID
    VARCHAR(36) NOT NULL,\n    RULE_NAME VARCHAR(256) NOT NULL,\n    MESSAGE VARCHAR(1024),\n
    \   VIOLATED_PATH VARCHAR(1024) NOT NULL,\n    PRIMARY KEY (ID),\n    FOREIGN
    KEY (RULESET_RUN_ID) REFERENCES GOV_RULESET_RUN(RULESET_RUN_ID),\n    FOREIGN
    KEY (RULESET_ID, RULE_NAME) REFERENCES GOV_RULESET_RULE(RULESET_ID, RULE_NAME)\n)
    ENGINE=INNODB;\n\nCREATE TABLE IF NOT EXISTS AM_GW_INSTANCES (\n    GATEWAY_ID
    INT NOT NULL AUTO_INCREMENT,\n    GATEWAY_UUID VARCHAR(255) NOT NULL,\n    ORGANIZATION
    VARCHAR(128) NOT NULL,\n    LAST_UPDATED TIMESTAMP NOT NULL,\n    GW_PROPERTIES
    BLOB NOT NULL,\n    PRIMARY KEY (GATEWAY_ID),\n    UNIQUE KEY (GATEWAY_UUID, ORGANIZATION)\n)
    ENGINE=InnoDB;\n\nCREATE TABLE IF NOT EXISTS AM_GW_INSTANCE_ENV_MAPPING (\n    GATEWAY_ID
    INT NOT NULL,\n    ENV_LABEL VARCHAR(255) NOT NULL,\n    PRIMARY KEY (GATEWAY_ID,
    ENV_LABEL),\n    FOREIGN KEY (GATEWAY_ID) REFERENCES AM_GW_INSTANCES(GATEWAY_ID)
    ON DELETE CASCADE\n) ENGINE=InnoDB;\n\nCREATE TABLE IF NOT EXISTS AM_GW_REVISION_DEPLOYMENT
    (\n    GATEWAY_ID INT NOT NULL,\n    API_ID VARCHAR(256) NOT NULL,\n    ORGANIZATION
    VARCHAR(128) NOT NULL,\n    STATUS VARCHAR(255) NOT NULL,\n    ACTION VARCHAR(255)
    NOT NULL,\n    REVISION_UUID VARCHAR(255),\n    LAST_UPDATED BIGINT NOT NULL,\n
    \   PRIMARY KEY (GATEWAY_ID, API_ID),\n    FOREIGN KEY (GATEWAY_ID) REFERENCES
    AM_GW_INSTANCES(GATEWAY_ID) ON DELETE CASCADE,\n    FOREIGN KEY (API_ID) REFERENCES
    AM_API(API_UUID) ON DELETE CASCADE\n) ENGINE=InnoDB;\n\nCREATE TABLE IF NOT EXISTS
    AM_TASK_LOCK (\n    LOCK_TIME BIGINT NOT NULL,\n    TASK_ID VARCHAR(255)   NOT
    NULL,\n    NODE_ID VARCHAR(255)   NOT NULL,\n    PRIMARY KEY (TASK_ID)\n) ENGINE=InnoDB;\n\n--
    Performance indexes start--\n\ncreate index IDX_ITS_LMT on IDN_THRIFT_SESSION
    (LAST_MODIFIED_TIME);\ncreate index IDX_IOAT_UT on IDN_OAUTH2_ACCESS_TOKEN (USER_TYPE);\ncreate
    index IDX_AAI_CTX on AM_API (CONTEXT);\ncreate index IDX_AAI_ORG on AM_API (ORGANIZATION);\ncreate
    index IDX_AAKM_CK on AM_APPLICATION_KEY_MAPPING (CONSUMER_KEY);\ncreate index
    IDX_AAUM_AI on AM_API_URL_MAPPING (API_ID);\ncreate index IDX_AAPM_AI on AM_API_PRODUCT_MAPPING
    (API_ID);\ncreate index IDX_AAUM_TT on AM_API_URL_MAPPING (THROTTLING_TIER);\ncreate
    index IDX_AATP_DQT on AM_API_THROTTLE_POLICY (DEFAULT_QUOTA_TYPE);\ncreate index
    IDX_ACG_QT on AM_CONDITION_GROUP (QUOTA_TYPE);\ncreate index IDX_APS_QT on AM_POLICY_SUBSCRIPTION
    (QUOTA_TYPE);\ncreate index IDX_AS_AITIAI on AM_SUBSCRIPTION (API_ID,TIER_ID,APPLICATION_ID);\ncreate
    index IDX_APA_QT on AM_POLICY_APPLICATION (QUOTA_TYPE);\ncreate index IDX_AA_AT_CB
    on AM_APPLICATION (APPLICATION_TIER,CREATED_BY);\nCREATE INDEX IDX_IOAT_TSH_TS
    on IDN_OAUTH2_ACCESS_TOKEN(TOKEN_SCOPE_HASH, TOKEN_STATE);\nCREATE INDEX IDX_IAT_TI_CK
    ON IDN_INVALID_TOKENS (TOKEN_IDENTIFIER, CONSUMER_KEY);\nCREATE INDEX IDX_GW_REV_DEPLOY_STATUS
    ON AM_GW_REVISION_DEPLOYMENT (STATUS, ACTION);\n\n-- Performance indexes end--"
  11_apim_shared_db.sql: "DROP DATABASE IF EXISTS WSO2AM_SHARED_DB;\nCREATE DATABASE
    WSO2AM_SHARED_DB CHARACTER SET latin1;\n\nCREATE USER IF NOT EXISTS 'wso2carbon'@'%'
    IDENTIFIED BY 'wso2carbon';\nGRANT ALL PRIVILEGES ON WSO2AM_SHARED_DB.* TO 'wso2carbon'@'%';\nFLUSH
    PRIVILEGES;\nUSE WSO2AM_SHARED_DB;\n\nCREATE TABLE IF NOT EXISTS REG_CLUSTER_LOCK
    (\n             REG_LOCK_NAME VARCHAR (20),\n             REG_LOCK_STATUS VARCHAR
    (20),\n             REG_LOCKED_TIME TIMESTAMP,\n             REG_TENANT_ID INTEGER
    DEFAULT 0,\n             PRIMARY KEY (REG_LOCK_NAME)\n)ENGINE INNODB;\n\nCREATE
    TABLE IF NOT EXISTS REG_LOG (\n             REG_LOG_ID INTEGER AUTO_INCREMENT,\n
    \            REG_PATH VARCHAR (750),\n             REG_USER_ID VARCHAR (255) NOT
    NULL,\n             REG_LOGGED_TIME TIMESTAMP NOT NULL,\n             REG_ACTION
    INTEGER NOT NULL,\n             REG_ACTION_DATA VARCHAR (500),\n             REG_TENANT_ID
    INTEGER DEFAULT 0,\n             PRIMARY KEY (REG_LOG_ID, REG_TENANT_ID)\n)ENGINE
    INNODB;\n\nCREATE INDEX REG_LOG_IND_BY_REGLOG USING HASH ON REG_LOG(REG_LOGGED_TIME,
    REG_TENANT_ID);\n\n-- The REG_PATH_VALUE should be less than 767 bytes, and hence
    was fixed at 750.\n-- See CARBON-5917.\n\nCREATE TABLE IF NOT EXISTS REG_PATH(\n
    \            REG_PATH_ID INTEGER NOT NULL AUTO_INCREMENT,\n             REG_PATH_VALUE
    VARCHAR(750) CHARACTER SET latin1 COLLATE latin1_general_cs NOT NULL,\n             REG_PATH_PARENT_ID
    INTEGER,\n             REG_TENANT_ID INTEGER DEFAULT 0,\n             CONSTRAINT
    PK_REG_PATH PRIMARY KEY(REG_PATH_ID, REG_TENANT_ID),\n             CONSTRAINT
    UNIQUE_REG_PATH_TENANT_ID UNIQUE (REG_PATH_VALUE,REG_TENANT_ID)\n)ENGINE INNODB;\n\nCREATE
    INDEX REG_PATH_IND_BY_PATH_PARENT_ID USING HASH ON REG_PATH(REG_PATH_PARENT_ID,
    REG_TENANT_ID);\n\nCREATE TABLE IF NOT EXISTS REG_CONTENT (\n             REG_CONTENT_ID
    INTEGER NOT NULL AUTO_INCREMENT,\n             REG_CONTENT_DATA LONGBLOB,\n             REG_TENANT_ID
    INTEGER DEFAULT 0,\n             CONSTRAINT PK_REG_CONTENT PRIMARY KEY(REG_CONTENT_ID,
    REG_TENANT_ID)\n)ENGINE INNODB;\n\nCREATE TABLE IF NOT EXISTS REG_CONTENT_HISTORY
    (\n             REG_CONTENT_ID INTEGER NOT NULL,\n             REG_CONTENT_DATA
    LONGBLOB,\n             REG_DELETED   SMALLINT,\n             REG_TENANT_ID INTEGER
    DEFAULT 0,\n             CONSTRAINT PK_REG_CONTENT_HISTORY PRIMARY KEY(REG_CONTENT_ID,
    REG_TENANT_ID)\n)ENGINE INNODB;\n\nCREATE TABLE IF NOT EXISTS REG_RESOURCE (\n
    \           REG_PATH_ID         INTEGER NOT NULL,\n            REG_NAME            VARCHAR(256),\n
    \           REG_VERSION         INTEGER NOT NULL AUTO_INCREMENT,\n            REG_MEDIA_TYPE
    \     VARCHAR(500),\n            REG_CREATOR         VARCHAR(255) NOT NULL,\n
    \           REG_CREATED_TIME    TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n
    \           REG_LAST_UPDATOR    VARCHAR(255),\n            REG_LAST_UPDATED_TIME
    \   TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n            REG_DESCRIPTION
    \    VARCHAR(1000),\n            REG_CONTENT_ID      INTEGER,\n            REG_TENANT_ID
    INTEGER DEFAULT 0,\n            REG_UUID VARCHAR(100) NOT NULL,\n            CONSTRAINT
    PK_REG_RESOURCE PRIMARY KEY(REG_VERSION, REG_TENANT_ID)\n)ENGINE INNODB;\n\nALTER
    TABLE REG_RESOURCE ADD CONSTRAINT REG_RESOURCE_FK_BY_PATH_ID FOREIGN KEY (REG_PATH_ID,
    REG_TENANT_ID) REFERENCES REG_PATH (REG_PATH_ID, REG_TENANT_ID);\nALTER TABLE
    REG_RESOURCE ADD CONSTRAINT REG_RESOURCE_FK_BY_CONTENT_ID FOREIGN KEY (REG_CONTENT_ID,
    REG_TENANT_ID) REFERENCES REG_CONTENT (REG_CONTENT_ID, REG_TENANT_ID);\nCREATE
    INDEX REG_RESOURCE_IND_BY_NAME USING HASH ON REG_RESOURCE(REG_NAME, REG_TENANT_ID);\nCREATE
    INDEX REG_RESOURCE_IND_BY_PATH_ID_NAME USING HASH ON REG_RESOURCE(REG_PATH_ID,
    REG_NAME, REG_TENANT_ID);\nCREATE INDEX REG_RESOURCE_IND_BY_UUID USING HASH ON
    REG_RESOURCE(REG_UUID);\nCREATE INDEX REG_RESOURCE_IND_BY_TENAN USING HASH ON
    REG_RESOURCE(REG_TENANT_ID, REG_UUID);\nCREATE INDEX REG_RESOURCE_IND_BY_TYPE
    USING HASH ON REG_RESOURCE(REG_TENANT_ID, REG_MEDIA_TYPE);\n\nCREATE TABLE IF
    NOT EXISTS REG_RESOURCE_HISTORY (\n            REG_PATH_ID         INTEGER NOT
    NULL,\n            REG_NAME            VARCHAR(256),\n            REG_VERSION
    \        INTEGER NOT NULL,\n            REG_MEDIA_TYPE      VARCHAR(500),\n            REG_CREATOR
    \        VARCHAR(255) NOT NULL,\n            REG_CREATED_TIME    TIMESTAMP NOT
    NULL DEFAULT CURRENT_TIMESTAMP,\n            REG_LAST_UPDATOR    VARCHAR(255),\n
    \           REG_LAST_UPDATED_TIME    TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n
    \           REG_DESCRIPTION     VARCHAR(1000),\n            REG_CONTENT_ID      INTEGER,\n
    \           REG_DELETED         SMALLINT,\n            REG_TENANT_ID INTEGER DEFAULT
    0,\n            REG_UUID VARCHAR(100) NOT NULL,\n            CONSTRAINT PK_REG_RESOURCE_HISTORY
    PRIMARY KEY(REG_VERSION, REG_TENANT_ID)\n)ENGINE INNODB;\n\nALTER TABLE REG_RESOURCE_HISTORY
    ADD CONSTRAINT REG_RESOURCE_HIST_FK_BY_PATHID FOREIGN KEY (REG_PATH_ID, REG_TENANT_ID)
    REFERENCES REG_PATH (REG_PATH_ID, REG_TENANT_ID);\nALTER TABLE REG_RESOURCE_HISTORY
    ADD CONSTRAINT REG_RESOURCE_HIST_FK_BY_CONTENT_ID FOREIGN KEY (REG_CONTENT_ID,
    REG_TENANT_ID) REFERENCES REG_CONTENT_HISTORY (REG_CONTENT_ID, REG_TENANT_ID);\nCREATE
    INDEX REG_RESOURCE_HISTORY_IND_BY_NAME USING HASH ON REG_RESOURCE_HISTORY(REG_NAME,
    REG_TENANT_ID);\nCREATE INDEX REG_RESOURCE_HISTORY_IND_BY_PATH_ID_NAME USING HASH
    ON REG_RESOURCE(REG_PATH_ID, REG_NAME, REG_TENANT_ID);\n\nCREATE TABLE IF NOT
    EXISTS REG_COMMENT (\n            REG_ID        INTEGER NOT NULL AUTO_INCREMENT,\n
    \           REG_COMMENT_TEXT      VARCHAR(500) NOT NULL,\n            REG_USER_ID
    \          VARCHAR(255) NOT NULL,\n            REG_COMMENTED_TIME    TIMESTAMP
    NOT NULL,\n            REG_TENANT_ID INTEGER DEFAULT 0,\n            CONSTRAINT
    PK_REG_COMMENT PRIMARY KEY(REG_ID, REG_TENANT_ID)\n)ENGINE INNODB;\n\nCREATE TABLE
    IF NOT EXISTS REG_RESOURCE_COMMENT (\n            ID                      INTEGER
    NOT NULL AUTO_INCREMENT,\n            REG_COMMENT_ID          INTEGER NOT NULL,\n
    \           REG_VERSION             INTEGER,\n            REG_PATH_ID             INTEGER,\n
    \           REG_RESOURCE_NAME       VARCHAR(256),\n            REG_TENANT_ID INTEGER
    DEFAULT 0,\n            PRIMARY KEY(ID)\n)ENGINE INNODB;\n\nALTER TABLE REG_RESOURCE_COMMENT
    ADD CONSTRAINT REG_RESOURCE_COMMENT_FK_BY_PATH_ID FOREIGN KEY (REG_PATH_ID, REG_TENANT_ID)
    REFERENCES REG_PATH (REG_PATH_ID, REG_TENANT_ID);\nALTER TABLE REG_RESOURCE_COMMENT
    ADD CONSTRAINT REG_RESOURCE_COMMENT_FK_BY_COMMENT_ID FOREIGN KEY (REG_COMMENT_ID,
    REG_TENANT_ID) REFERENCES REG_COMMENT (REG_ID, REG_TENANT_ID);\nCREATE INDEX REG_RESOURCE_COMMENT_IND_BY_PATH_ID_AND_RESOURCE_NAME
    USING HASH ON REG_RESOURCE_COMMENT(REG_PATH_ID, REG_RESOURCE_NAME, REG_TENANT_ID);\nCREATE
    INDEX REG_RESOURCE_COMMENT_IND_BY_VERSION USING HASH ON REG_RESOURCE_COMMENT(REG_VERSION,
    REG_TENANT_ID);\n\nCREATE TABLE IF NOT EXISTS REG_RATING (\n            REG_ID
    \    INTEGER NOT NULL AUTO_INCREMENT,\n            REG_RATING        INTEGER NOT
    NULL,\n            REG_USER_ID       VARCHAR(255) NOT NULL,\n            REG_RATED_TIME
    \   TIMESTAMP NOT NULL,\n            REG_TENANT_ID INTEGER DEFAULT 0,\n            CONSTRAINT
    PK_REG_RATING PRIMARY KEY(REG_ID, REG_TENANT_ID)\n)ENGINE INNODB;\n\nCREATE TABLE
    IF NOT EXISTS REG_RESOURCE_RATING (\n            ID                      INTEGER
    NOT NULL AUTO_INCREMENT,\n            REG_RATING_ID           INTEGER NOT NULL,\n
    \           REG_VERSION             INTEGER,\n            REG_PATH_ID             INTEGER,\n
    \           REG_RESOURCE_NAME       VARCHAR(256),\n            REG_TENANT_ID INTEGER
    DEFAULT 0,\n            PRIMARY KEY(ID)\n)ENGINE INNODB;\n\nALTER TABLE REG_RESOURCE_RATING
    ADD CONSTRAINT REG_RESOURCE_RATING_FK_BY_PATH_ID FOREIGN KEY (REG_PATH_ID, REG_TENANT_ID)
    REFERENCES REG_PATH (REG_PATH_ID, REG_TENANT_ID);\nALTER TABLE REG_RESOURCE_RATING
    ADD CONSTRAINT REG_RESOURCE_RATING_FK_BY_RATING_ID FOREIGN KEY (REG_RATING_ID,
    REG_TENANT_ID) REFERENCES REG_RATING (REG_ID, REG_TENANT_ID);\nCREATE INDEX REG_RESOURCE_RATING_IND_BY_PATH_ID_AND_RESOURCE_NAME
    USING HASH ON REG_RESOURCE_RATING(REG_PATH_ID, REG_RESOURCE_NAME, REG_TENANT_ID);\nCREATE
    INDEX REG_RESOURCE_RATING_IND_BY_VERSION USING HASH ON REG_RESOURCE_RATING(REG_VERSION,
    REG_TENANT_ID);\n\n\nCREATE TABLE IF NOT EXISTS REG_TAG (\n            REG_ID
    \        INTEGER NOT NULL AUTO_INCREMENT,\n            REG_TAG_NAME       VARCHAR(500)
    NOT NULL,\n            REG_USER_ID        VARCHAR(255) NOT NULL,\n            REG_TAGGED_TIME
    \   TIMESTAMP NOT NULL,\n            REG_TENANT_ID INTEGER DEFAULT 0,\n            CONSTRAINT
    PK_REG_TAG PRIMARY KEY(REG_ID, REG_TENANT_ID)\n)ENGINE INNODB;\n\nCREATE TABLE
    IF NOT EXISTS REG_RESOURCE_TAG (\n            ID                      INTEGER
    NOT NULL AUTO_INCREMENT,\n            REG_TAG_ID              INTEGER NOT NULL,\n
    \           REG_VERSION             INTEGER,\n            REG_PATH_ID             INTEGER,\n
    \           REG_RESOURCE_NAME       VARCHAR(256),\n            REG_TENANT_ID INTEGER
    DEFAULT 0,\n            PRIMARY KEY(ID)\n)ENGINE INNODB;\n\nALTER TABLE REG_RESOURCE_TAG
    ADD CONSTRAINT REG_RESOURCE_TAG_FK_BY_PATH_ID FOREIGN KEY (REG_PATH_ID, REG_TENANT_ID)
    REFERENCES REG_PATH (REG_PATH_ID, REG_TENANT_ID);\nALTER TABLE REG_RESOURCE_TAG
    ADD CONSTRAINT REG_RESOURCE_TAG_FK_BY_TAG_ID FOREIGN KEY (REG_TAG_ID, REG_TENANT_ID)
    REFERENCES REG_TAG (REG_ID, REG_TENANT_ID);\nCREATE INDEX REG_RESOURCE_TAG_IND_BY_PATH_ID_AND_RESOURCE_NAME
    USING HASH ON REG_RESOURCE_TAG(REG_PATH_ID, REG_RESOURCE_NAME, REG_TENANT_ID);\nCREATE
    INDEX REG_RESOURCE_TAG_IND_BY_VERSION USING HASH ON REG_RESOURCE_TAG(REG_VERSION,
    REG_TENANT_ID);\n\nCREATE TABLE IF NOT EXISTS REG_PROPERTY (\n            REG_ID
    \        INTEGER NOT NULL AUTO_INCREMENT,\n            REG_NAME       VARCHAR(100)
    NOT NULL,\n            REG_VALUE        VARCHAR(1000),\n            REG_TENANT_ID
    INTEGER DEFAULT 0,\n            CONSTRAINT PK_REG_PROPERTY PRIMARY KEY(REG_ID,
    REG_TENANT_ID)\n)ENGINE INNODB;\n\nCREATE TABLE IF NOT EXISTS REG_RESOURCE_PROPERTY
    (\n            ID                      INTEGER NOT NULL AUTO_INCREMENT,\n            REG_PROPERTY_ID
    \        INTEGER NOT NULL,\n            REG_VERSION             INTEGER,\n            REG_PATH_ID
    \            INTEGER,\n            REG_RESOURCE_NAME       VARCHAR(256),\n            REG_TENANT_ID
    INTEGER DEFAULT 0,\n            PRIMARY KEY(ID)\n)ENGINE INNODB;\n\nALTER TABLE
    REG_RESOURCE_PROPERTY ADD CONSTRAINT REG_RESOURCE_PROPERTY_FK_BY_PATH_ID FOREIGN
    KEY (REG_PATH_ID, REG_TENANT_ID) REFERENCES REG_PATH (REG_PATH_ID, REG_TENANT_ID);\nALTER
    TABLE REG_RESOURCE_PROPERTY ADD CONSTRAINT REG_RESOURCE_PROPERTY_FK_BY_TAG_ID
    FOREIGN KEY (REG_PROPERTY_ID, REG_TENANT_ID) REFERENCES REG_PROPERTY (REG_ID,
    REG_TENANT_ID);\nCREATE INDEX REG_RESOURCE_PROPERTY_IND_BY_PATH_ID_AND_RESOURCE_NAME
    USING HASH ON REG_RESOURCE_PROPERTY(REG_PATH_ID, REG_RESOURCE_NAME, REG_TENANT_ID);\nCREATE
    INDEX REG_RESOURCE_PROPERTY_IND_BY_VERSION USING HASH ON REG_RESOURCE_PROPERTY(REG_VERSION,
    REG_TENANT_ID);\nCREATE INDEX REG_RESOURCE_TAG_IND_BY_REG_TAG_ID USING HASH ON
    REG_RESOURCE_TAG(REG_TAG_ID, REG_TENANT_ID);\nCREATE INDEX REG_RESOURCE_PROPERTY_IND_BY_REG_PROP_ID
    ON REG_RESOURCE_PROPERTY(REG_TENANT_ID, REG_PROPERTY_ID);\n\n-- CREATE TABLE IF
    NOT EXISTS REG_ASSOCIATIONS (\n-- SRC_PATH_ID     INTEGER,\n-- SRC_RESOURCE_NAME
    \   VARCHAR(256),\n-- SRC_VERSION     INTEGER,\n-- TGT_PATH_ID     INTEGER,\n--
    TGT_RESOURCE_NAME    VARCHAR(256),\n-- TGT_VERSION     INTEGER\n-- )ENGINE INNODB;\n--\n--
    ALTER TABLE REG_ASSOCIATIONS ADD CONSTRAINT REG_ASSOCIATIONS_FK_BY_SRC_PATH_ID
    FOREIGN KEY (SRC_PATH_ID) REFERENCES REG_PATH (PATH_ID);\n-- ALTER TABLE REG_ASSOCIATIONS
    ADD CONSTRAINT REG_ASSOCIATIONS_FK_BY_TGT_PATH_ID FOREIGN KEY (TGT_PATH_ID) REFERENCES
    REG_PATH (PATH_ID);\n-- CREATE INDEX REG_ASSOCIATIONS_IND_BY_SRC_VERSION ON REG_ASSOCIATIONS(SRC_VERSION);\n--
    CREATE INDEX REG_ASSOCIATIONS_IND_BY_TGT_VERSION ON REG_ASSOCIATIONS(TGT_VERSION);\n--
    CREATE INDEX REG_ASSOCIATIONS_IND_BY_SRC_RESOURCE_NAME ON REG_ASSOCIATIONS(SRC_RESOURCE_NAME);\n--
    CREATE INDEX REG_ASSOCIATIONS_IND_BY_TGT_RESOURCE_NAME ON REG_ASSOCIATIONS(TGT_RESOURCE_NAME);\n\n\n\nCREATE
    TABLE IF NOT EXISTS REG_ASSOCIATION (\n            REG_ASSOCIATION_ID INTEGER
    AUTO_INCREMENT,\n            REG_SOURCEPATH VARCHAR (750) NOT NULL,\n            REG_TARGETPATH
    VARCHAR (750) NOT NULL,\n            REG_ASSOCIATION_TYPE VARCHAR (2000) NOT NULL,\n
    \           REG_TENANT_ID INTEGER DEFAULT 0,\n            PRIMARY KEY (REG_ASSOCIATION_ID,
    REG_TENANT_ID)\n)ENGINE INNODB;\n\nCREATE TABLE IF NOT EXISTS REG_SNAPSHOT (\n
    \           REG_SNAPSHOT_ID     INTEGER NOT NULL AUTO_INCREMENT,\n            REG_PATH_ID
    \           INTEGER NOT NULL,\n            REG_RESOURCE_NAME      VARCHAR(255),\n
    \           REG_RESOURCE_VIDS     LONGBLOB NOT NULL,\n            REG_TENANT_ID
    INTEGER DEFAULT 0,\n            CONSTRAINT PK_REG_SNAPSHOT PRIMARY KEY(REG_SNAPSHOT_ID,
    REG_TENANT_ID)\n)ENGINE INNODB;\n\nCREATE INDEX REG_SNAPSHOT_IND_BY_PATH_ID_AND_RESOURCE_NAME
    USING HASH ON REG_SNAPSHOT(REG_PATH_ID, REG_RESOURCE_NAME, REG_TENANT_ID);\n\nALTER
    TABLE REG_SNAPSHOT ADD CONSTRAINT REG_SNAPSHOT_FK_BY_PATH_ID FOREIGN KEY (REG_PATH_ID,
    REG_TENANT_ID) REFERENCES REG_PATH (REG_PATH_ID, REG_TENANT_ID);\n\n\n-- ################################\n--
    USER MANAGER TABLES\n-- ################################\n\nCREATE TABLE UM_TENANT
    (\n\t\t\tUM_ID INTEGER NOT NULL AUTO_INCREMENT,\n\t\t\tUM_TENANT_UUID VARCHAR(36)
    NOT NULL,\n\t        UM_DOMAIN_NAME VARCHAR(255) NOT NULL,\n            UM_EMAIL
    VARCHAR(255),\n            UM_ACTIVE BOOLEAN DEFAULT FALSE,\n\t        UM_CREATED_DATE
    TIMESTAMP NOT NULL,\n\t        UM_USER_CONFIG LONGBLOB,\n\t        UM_ORG_UUID
    VARCHAR(36) DEFAULT NULL,\n\t\t\tPRIMARY KEY (UM_ID),\n\t\t\tUNIQUE(UM_DOMAIN_NAME),\n\t\t\tUNIQUE(UM_TENANT_UUID)\n)ENGINE
    INNODB;\n\nCREATE TABLE UM_DOMAIN(\n            UM_DOMAIN_ID INTEGER NOT NULL
    AUTO_INCREMENT,\n            UM_DOMAIN_NAME VARCHAR(255) NOT NULL,\n            UM_TENANT_ID
    INTEGER DEFAULT 0,\n            PRIMARY KEY (UM_DOMAIN_ID, UM_TENANT_ID),\n            UNIQUE(UM_DOMAIN_NAME,UM_TENANT_ID)\n)ENGINE
    INNODB;\n\nCREATE UNIQUE INDEX INDEX_UM_TENANT_UM_DOMAIN_NAME\n                    ON
    UM_TENANT (UM_DOMAIN_NAME);\n\nCREATE TABLE UM_USER (\n             UM_ID INTEGER
    NOT NULL AUTO_INCREMENT,\n             UM_USER_ID VARCHAR(255) NOT NULL,\n             UM_USER_NAME
    VARCHAR(255) NOT NULL,\n             UM_USER_PASSWORD VARCHAR(255) NOT NULL,\n
    \            UM_SALT_VALUE VARCHAR(31),\n             UM_REQUIRE_CHANGE BOOLEAN
    DEFAULT FALSE,\n             UM_CHANGED_TIME TIMESTAMP NOT NULL,\n             UM_TENANT_ID
    INTEGER DEFAULT 0,\n             PRIMARY KEY (UM_ID, UM_TENANT_ID),\n             UNIQUE(UM_USER_ID),\n
    \            UNIQUE(UM_USER_NAME, UM_TENANT_ID)\n)ENGINE INNODB;\n\nCREATE UNIQUE
    INDEX INDEX_UM_USERNAME_UM_TENANT_ID ON UM_USER(UM_USER_NAME, UM_TENANT_ID);\n\nCREATE
    TABLE UM_SYSTEM_USER (\n             UM_ID INTEGER NOT NULL AUTO_INCREMENT,\n
    \            UM_USER_NAME VARCHAR(255) NOT NULL,\n             UM_USER_PASSWORD
    VARCHAR(255) NOT NULL,\n             UM_SALT_VALUE VARCHAR(31),\n             UM_REQUIRE_CHANGE
    BOOLEAN DEFAULT FALSE,\n             UM_CHANGED_TIME TIMESTAMP NOT NULL,\n             UM_TENANT_ID
    INTEGER DEFAULT 0,\n             PRIMARY KEY (UM_ID, UM_TENANT_ID),\n             UNIQUE(UM_USER_NAME,
    UM_TENANT_ID)\n)ENGINE INNODB;\n\nCREATE TABLE UM_ROLE (\n             UM_ID INTEGER
    NOT NULL AUTO_INCREMENT,\n             UM_ROLE_NAME VARCHAR(255) NOT NULL,\n             UM_TENANT_ID
    INTEGER DEFAULT 0,\n\t\tUM_SHARED_ROLE BOOLEAN DEFAULT FALSE,\n             PRIMARY
    KEY (UM_ID, UM_TENANT_ID),\n             UNIQUE(UM_ROLE_NAME, UM_TENANT_ID)\n)ENGINE
    INNODB;\n\n\nCREATE TABLE UM_MODULE(\n\tUM_ID INTEGER  NOT NULL AUTO_INCREMENT,\n\tUM_MODULE_NAME
    VARCHAR(100),\n\tUNIQUE(UM_MODULE_NAME),\n\tPRIMARY KEY(UM_ID)\n)ENGINE INNODB;\n\nCREATE
    TABLE UM_MODULE_ACTIONS(\n\tUM_ACTION VARCHAR(255) NOT NULL,\n\tUM_MODULE_ID INTEGER
    NOT NULL,\n\tPRIMARY KEY(UM_ACTION, UM_MODULE_ID),\n\tFOREIGN KEY (UM_MODULE_ID)
    REFERENCES UM_MODULE(UM_ID) ON DELETE CASCADE\n)ENGINE INNODB;\n\nCREATE TABLE
    UM_PERMISSION (\n             UM_ID INTEGER NOT NULL AUTO_INCREMENT,\n             UM_RESOURCE_ID
    VARCHAR(255) NOT NULL,\n             UM_ACTION VARCHAR(255) NOT NULL,\n             UM_TENANT_ID
    INTEGER DEFAULT 0,\n\t\tUM_MODULE_ID INTEGER DEFAULT 0,\n\t\t\t       UNIQUE(UM_RESOURCE_ID,UM_ACTION,
    UM_TENANT_ID),\n             PRIMARY KEY (UM_ID, UM_TENANT_ID)\n)ENGINE INNODB;\n\nCREATE
    INDEX INDEX_UM_PERMISSION_UM_RESOURCE_ID_UM_ACTION ON UM_PERMISSION (UM_RESOURCE_ID,
    UM_ACTION, UM_TENANT_ID);\n\nCREATE TABLE UM_ROLE_PERMISSION (\n             UM_ID
    INTEGER NOT NULL AUTO_INCREMENT,\n             UM_PERMISSION_ID INTEGER NOT NULL,\n
    \            UM_ROLE_NAME VARCHAR(255) NOT NULL,\n             UM_IS_ALLOWED SMALLINT
    NOT NULL,\n             UM_TENANT_ID INTEGER DEFAULT 0,\n\t     UM_DOMAIN_ID INTEGER,\n
    \            UNIQUE (UM_PERMISSION_ID, UM_ROLE_NAME, UM_TENANT_ID, UM_DOMAIN_ID),\n\t
    \    FOREIGN KEY (UM_PERMISSION_ID, UM_TENANT_ID) REFERENCES UM_PERMISSION(UM_ID,
    UM_TENANT_ID) ON DELETE CASCADE,\n\t     FOREIGN KEY (UM_DOMAIN_ID, UM_TENANT_ID)
    REFERENCES UM_DOMAIN(UM_DOMAIN_ID, UM_TENANT_ID) ON DELETE CASCADE,\n             PRIMARY
    KEY (UM_ID, UM_TENANT_ID)\n)ENGINE INNODB;\n\n-- REMOVED UNIQUE (UM_PERMISSION_ID,
    UM_ROLE_ID)\nCREATE TABLE UM_USER_PERMISSION (\n             UM_ID INTEGER NOT
    NULL AUTO_INCREMENT,\n             UM_PERMISSION_ID INTEGER NOT NULL,\n             UM_USER_NAME
    VARCHAR(255) NOT NULL,\n             UM_IS_ALLOWED SMALLINT NOT NULL,\n             UM_TENANT_ID
    INTEGER DEFAULT 0,\n             FOREIGN KEY (UM_PERMISSION_ID, UM_TENANT_ID)
    REFERENCES UM_PERMISSION(UM_ID, UM_TENANT_ID) ON DELETE CASCADE,\n             PRIMARY
    KEY (UM_ID, UM_TENANT_ID)\n)ENGINE INNODB;\n\n-- REMOVED UNIQUE (UM_PERMISSION_ID,
    UM_USER_ID)\nCREATE TABLE UM_USER_ROLE (\n             UM_ID INTEGER NOT NULL
    AUTO_INCREMENT,\n             UM_ROLE_ID INTEGER NOT NULL,\n             UM_USER_ID
    INTEGER NOT NULL,\n             UM_TENANT_ID INTEGER DEFAULT 0,\n             UNIQUE
    (UM_USER_ID, UM_ROLE_ID, UM_TENANT_ID),\n             FOREIGN KEY (UM_ROLE_ID,
    UM_TENANT_ID) REFERENCES UM_ROLE(UM_ID, UM_TENANT_ID),\n             FOREIGN KEY
    (UM_USER_ID, UM_TENANT_ID) REFERENCES UM_USER(UM_ID, UM_TENANT_ID),\n             PRIMARY
    KEY (UM_ID, UM_TENANT_ID)\n)ENGINE INNODB;\n\nCREATE TABLE UM_SHARED_USER_ROLE(\n
    \   ID         INTEGER NOT NULL AUTO_INCREMENT,\n    UM_ROLE_ID INTEGER NOT NULL,\n
    \   UM_USER_ID INTEGER NOT NULL,\n    UM_USER_TENANT_ID INTEGER NOT NULL,\n    UM_ROLE_TENANT_ID
    INTEGER NOT NULL,\n    UNIQUE(UM_USER_ID,UM_ROLE_ID,UM_USER_TENANT_ID, UM_ROLE_TENANT_ID),\n
    \   FOREIGN KEY(UM_ROLE_ID,UM_ROLE_TENANT_ID) REFERENCES UM_ROLE(UM_ID,UM_TENANT_ID)
    ON DELETE CASCADE,\n    FOREIGN KEY(UM_USER_ID,UM_USER_TENANT_ID) REFERENCES UM_USER(UM_ID,UM_TENANT_ID)
    ON DELETE CASCADE,\n    PRIMARY KEY(ID)\n)ENGINE INNODB;\n\nCREATE TABLE UM_ACCOUNT_MAPPING(\n\tUM_ID
    INTEGER NOT NULL AUTO_INCREMENT,\n\tUM_USER_NAME VARCHAR(255) NOT NULL,\n\tUM_TENANT_ID
    INTEGER NOT NULL,\n\tUM_USER_STORE_DOMAIN VARCHAR(100),\n\tUM_ACC_LINK_ID INTEGER
    NOT NULL,\n\tUNIQUE(UM_USER_NAME, UM_TENANT_ID, UM_USER_STORE_DOMAIN, UM_ACC_LINK_ID),\n\tFOREIGN
    KEY (UM_TENANT_ID) REFERENCES UM_TENANT(UM_ID) ON DELETE CASCADE,\n\tPRIMARY KEY
    (UM_ID)\n)ENGINE INNODB;\n\n\nCREATE TABLE UM_USER_ATTRIBUTE (\n            UM_ID
    INTEGER NOT NULL AUTO_INCREMENT,\n            UM_ATTR_NAME VARCHAR(255) NOT NULL,\n
    \           UM_ATTR_VALUE VARCHAR(1024),\n            UM_PROFILE_ID VARCHAR(255),\n
    \           UM_USER_ID INTEGER,\n            UM_TENANT_ID INTEGER DEFAULT 0,\n
    \           FOREIGN KEY (UM_USER_ID, UM_TENANT_ID) REFERENCES UM_USER(UM_ID, UM_TENANT_ID),\n
    \           PRIMARY KEY (UM_ID, UM_TENANT_ID)\n)ENGINE INNODB;\n\nCREATE INDEX
    UM_USER_ID_INDEX ON UM_USER_ATTRIBUTE(UM_USER_ID);\n\nCREATE INDEX UM_ATTR_NAME_VALUE_INDEX
    ON UM_USER_ATTRIBUTE(UM_ATTR_NAME, UM_ATTR_VALUE(512));\n\nCREATE TABLE UM_DIALECT(\n
    \           UM_ID INTEGER NOT NULL AUTO_INCREMENT,\n            UM_DIALECT_URI
    VARCHAR(255) NOT NULL,\n            UM_TENANT_ID INTEGER DEFAULT 0,\n            UNIQUE(UM_DIALECT_URI,
    UM_TENANT_ID),\n            PRIMARY KEY (UM_ID, UM_TENANT_ID)\n)ENGINE INNODB;\n\nCREATE
    TABLE UM_CLAIM(\n            UM_ID INTEGER NOT NULL AUTO_INCREMENT,\n            UM_DIALECT_ID
    INTEGER NOT NULL,\n            UM_CLAIM_URI VARCHAR(255) NOT NULL,\n            UM_DISPLAY_TAG
    VARCHAR(255),\n            UM_DESCRIPTION VARCHAR(255),\n            UM_MAPPED_ATTRIBUTE_DOMAIN
    VARCHAR(255),\n            UM_MAPPED_ATTRIBUTE VARCHAR(255),\n            UM_REG_EX
    VARCHAR(255),\n            UM_SUPPORTED SMALLINT,\n            UM_REQUIRED SMALLINT,\n
    \           UM_DISPLAY_ORDER INTEGER,\n\t    UM_CHECKED_ATTRIBUTE SMALLINT,\n
    \           UM_READ_ONLY SMALLINT,\n            UM_TENANT_ID INTEGER DEFAULT 0,\n
    \           UNIQUE(UM_DIALECT_ID, UM_CLAIM_URI, UM_TENANT_ID,UM_MAPPED_ATTRIBUTE_DOMAIN),\n
    \           FOREIGN KEY(UM_DIALECT_ID, UM_TENANT_ID) REFERENCES UM_DIALECT(UM_ID,
    UM_TENANT_ID),\n            PRIMARY KEY (UM_ID, UM_TENANT_ID)\n)ENGINE INNODB;\n\n\nCREATE
    TABLE UM_PROFILE_CONFIG(\n            UM_ID INTEGER NOT NULL AUTO_INCREMENT,\n
    \           UM_DIALECT_ID INTEGER NOT NULL,\n            UM_PROFILE_NAME VARCHAR(255),\n
    \           UM_TENANT_ID INTEGER DEFAULT 0,\n            FOREIGN KEY(UM_DIALECT_ID,
    UM_TENANT_ID) REFERENCES UM_DIALECT(UM_ID, UM_TENANT_ID),\n            PRIMARY
    KEY (UM_ID, UM_TENANT_ID)\n)ENGINE INNODB;\n\nCREATE TABLE IF NOT EXISTS UM_CLAIM_BEHAVIOR(\n
    \   UM_ID INTEGER NOT NULL AUTO_INCREMENT,\n    UM_PROFILE_ID INTEGER,\n    UM_CLAIM_ID
    INTEGER,\n    UM_BEHAVIOUR SMALLINT,\n    UM_TENANT_ID INTEGER DEFAULT 0,\n    FOREIGN
    KEY(UM_PROFILE_ID, UM_TENANT_ID) REFERENCES UM_PROFILE_CONFIG(UM_ID,UM_TENANT_ID),\n
    \   FOREIGN KEY(UM_CLAIM_ID, UM_TENANT_ID) REFERENCES UM_CLAIM(UM_ID,UM_TENANT_ID),\n
    \   PRIMARY KEY(UM_ID, UM_TENANT_ID)\n)ENGINE INNODB;\n\nCREATE TABLE UM_HYBRID_ROLE(\n
    \           UM_ID INTEGER NOT NULL AUTO_INCREMENT,\n            UM_ROLE_NAME VARCHAR(255)
    NOT NULL,\n            UM_TENANT_ID INTEGER DEFAULT 0,\n            PRIMARY KEY
    (UM_ID, UM_TENANT_ID),\n            UNIQUE(UM_ROLE_NAME,UM_TENANT_ID)\n)ENGINE
    INNODB;\n\nCREATE INDEX UM_ROLE_NAME_IND ON UM_HYBRID_ROLE(UM_ROLE_NAME);\n\nCREATE
    TABLE UM_HYBRID_USER_ROLE(\n            UM_ID INTEGER NOT NULL AUTO_INCREMENT,\n
    \           UM_USER_NAME VARCHAR(255),\n            UM_ROLE_ID INTEGER NOT NULL,\n
    \           UM_TENANT_ID INTEGER DEFAULT 0,\n\t    UM_DOMAIN_ID INTEGER,\n            UNIQUE
    (UM_USER_NAME, UM_ROLE_ID, UM_TENANT_ID, UM_DOMAIN_ID),\n            FOREIGN KEY
    (UM_ROLE_ID, UM_TENANT_ID) REFERENCES UM_HYBRID_ROLE(UM_ID, UM_TENANT_ID) ON DELETE
    CASCADE,\n\t    FOREIGN KEY (UM_DOMAIN_ID, UM_TENANT_ID) REFERENCES UM_DOMAIN(UM_DOMAIN_ID,
    UM_TENANT_ID) ON DELETE CASCADE,\n            PRIMARY KEY (UM_ID, UM_TENANT_ID)\n)ENGINE
    INNODB;\n\nCREATE TABLE UM_HYBRID_GROUP_ROLE(\n            UM_ID INTEGER NOT NULL
    AUTO_INCREMENT,\n            UM_GROUP_NAME VARCHAR(255),\n            UM_ROLE_ID
    INTEGER NOT NULL,\n            UM_TENANT_ID INTEGER DEFAULT 0,\n            UM_DOMAIN_ID
    INTEGER,\n            UNIQUE (UM_GROUP_NAME, UM_ROLE_ID, UM_TENANT_ID, UM_DOMAIN_ID),\n
    \           FOREIGN KEY (UM_ROLE_ID, UM_TENANT_ID) REFERENCES UM_HYBRID_ROLE(UM_ID,
    UM_TENANT_ID) ON DELETE CASCADE,\n            FOREIGN KEY (UM_DOMAIN_ID, UM_TENANT_ID)
    REFERENCES UM_DOMAIN(UM_DOMAIN_ID, UM_TENANT_ID) ON DELETE CASCADE,\n            PRIMARY
    KEY (UM_ID, UM_TENANT_ID)\n)ENGINE INNODB;\n\nCREATE TABLE UM_SYSTEM_ROLE(\n            UM_ID
    INTEGER NOT NULL AUTO_INCREMENT,\n            UM_ROLE_NAME VARCHAR(255) NOT NULL,\n
    \           UM_TENANT_ID INTEGER DEFAULT 0,\n            PRIMARY KEY (UM_ID, UM_TENANT_ID),\n
    \           UNIQUE(UM_ROLE_NAME,UM_TENANT_ID)\n)ENGINE INNODB;\n\nCREATE TABLE
    UM_SYSTEM_USER_ROLE(\n            UM_ID INTEGER NOT NULL AUTO_INCREMENT,\n            UM_USER_NAME
    VARCHAR(255),\n            UM_ROLE_ID INTEGER NOT NULL,\n            UM_TENANT_ID
    INTEGER DEFAULT 0,\n            UNIQUE (UM_USER_NAME, UM_ROLE_ID, UM_TENANT_ID),\n
    \           FOREIGN KEY (UM_ROLE_ID, UM_TENANT_ID) REFERENCES UM_SYSTEM_ROLE(UM_ID,
    UM_TENANT_ID),\n            PRIMARY KEY (UM_ID, UM_TENANT_ID)\n)ENGINE INNODB;\n\n\nCREATE
    TABLE UM_HYBRID_REMEMBER_ME(\n            UM_ID INTEGER NOT NULL AUTO_INCREMENT,\n\t\t\tUM_USER_NAME
    VARCHAR(255) NOT NULL,\n\t\t\tUM_COOKIE_VALUE VARCHAR(1024),\n\t\t\tUM_CREATED_TIME
    TIMESTAMP,\n            UM_TENANT_ID INTEGER DEFAULT 0,\n\t\t\tPRIMARY KEY (UM_ID,
    UM_TENANT_ID)\n)ENGINE INNODB;\n\nCREATE TABLE IF NOT EXISTS UM_UUID_DOMAIN_MAPPER
    (\n            UM_ID INTEGER NOT NULL AUTO_INCREMENT,\n            UM_USER_ID
    VARCHAR(255) NOT NULL,\n            UM_DOMAIN_ID INTEGER NOT NULL,\n            UM_TENANT_ID
    INTEGER DEFAULT 0,\n            PRIMARY KEY (UM_ID),\n            UNIQUE (UM_USER_ID),\n
    \           FOREIGN KEY (UM_DOMAIN_ID, UM_TENANT_ID) REFERENCES UM_DOMAIN(UM_DOMAIN_ID,
    UM_TENANT_ID) ON DELETE CASCADE\n)ENGINE INNODB;\n\nCREATE INDEX UUID_DM_UID_TID
    ON UM_UUID_DOMAIN_MAPPER(UM_USER_ID, UM_TENANT_ID);\n\nCREATE TABLE IF NOT EXISTS
    UM_GROUP_UUID_DOMAIN_MAPPER (\n            UM_ID INTEGER NOT NULL AUTO_INCREMENT,\n
    \           UM_GROUP_ID VARCHAR(255) NOT NULL,\n            UM_DOMAIN_ID INTEGER
    NOT NULL,\n            UM_TENANT_ID INTEGER DEFAULT 0,\n            PRIMARY KEY
    (UM_ID),\n            UNIQUE (UM_GROUP_ID),\n            FOREIGN KEY (UM_DOMAIN_ID,
    UM_TENANT_ID) REFERENCES UM_DOMAIN(UM_DOMAIN_ID, UM_TENANT_ID) ON DELETE CASCADE\n)ENGINE
    INNODB;\n\nCREATE INDEX GRP_UUID_DM_GRP_ID_TID ON UM_GROUP_UUID_DOMAIN_MAPPER(UM_GROUP_ID,
    UM_TENANT_ID);\n\n-- ################################\n-- ORGANIZATION MANAGEMENT
    TABLES\n-- ################################\n\nCREATE TABLE IF NOT EXISTS UM_ORG
    (\n            UM_ID VARCHAR(36) NOT NULL,\n            UM_ORG_NAME VARCHAR(255)
    NOT NULL,\n            UM_ORG_DESCRIPTION VARCHAR(1024),\n            UM_CREATED_TIME
    TIMESTAMP NOT NULL,\n            UM_LAST_MODIFIED TIMESTAMP NOT NULL,\n            UM_STATUS
    VARCHAR(255) DEFAULT 'ACTIVE' NOT NULL,\n            UM_PARENT_ID VARCHAR(36),\n
    \           UM_ORG_TYPE VARCHAR(100) NOT NULL,\n            PRIMARY KEY (UM_ID),\n
    \           FOREIGN KEY (UM_PARENT_ID) REFERENCES UM_ORG(UM_ID) ON DELETE CASCADE\n)ENGINE
    INNODB;\n\nINSERT IGNORE INTO UM_ORG (UM_ID, UM_ORG_NAME, UM_ORG_DESCRIPTION,
    UM_CREATED_TIME, UM_LAST_MODIFIED, UM_STATUS, UM_ORG_TYPE)\nVALUES ('10084a8d-113f-4211-a0d5-efe36b082211',
    'Super', 'This is the super organization.', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP,
    'ACTIVE', 'TENANT');\n\nCREATE TABLE IF NOT EXISTS UM_ORG_ATTRIBUTE (\n            UM_ID
    INTEGER NOT NULL AUTO_INCREMENT,\n            UM_ORG_ID VARCHAR(36) NOT NULL,\n
    \           UM_ATTRIBUTE_KEY VARCHAR(255) NOT NULL,\n            UM_ATTRIBUTE_VALUE
    VARCHAR(512),\n            PRIMARY KEY (UM_ID),\n            UNIQUE (UM_ORG_ID,
    UM_ATTRIBUTE_KEY),\n            FOREIGN KEY (UM_ORG_ID) REFERENCES UM_ORG(UM_ID)
    ON DELETE CASCADE\n)ENGINE INNODB;\n\nCREATE TABLE IF NOT EXISTS UM_ORG_ROLE (\n
    \           UM_ROLE_ID VARCHAR(255) NOT NULL,\n            UM_ROLE_NAME VARCHAR(255)
    NOT NULL,\n            UM_ORG_ID VARCHAR(36) NOT NULL,\n            PRIMARY KEY(UM_ROLE_ID),\n
    \           CONSTRAINT FK_UM_ORG_ROLE_UM_ORG FOREIGN KEY (UM_ORG_ID) REFERENCES
    UM_ORG (UM_ID) ON DELETE CASCADE\n)ENGINE INNODB;\n\nCREATE TABLE IF NOT EXISTS
    UM_ORG_PERMISSION(\n            UM_ID INTEGER NOT NULL AUTO_INCREMENT,\n            UM_RESOURCE_ID
    VARCHAR(255) NOT NULL,\n            UM_ACTION VARCHAR(255) NOT NULL,\n            UM_TENANT_ID
    INTEGER DEFAULT 0,\n            PRIMARY KEY (UM_ID)\n)ENGINE INNODB;\n\nCREATE
    TABLE IF NOT EXISTS UM_ORG_ROLE_USER (\n            UM_USER_ID VARCHAR(255) NOT
    NULL,\n            UM_ROLE_ID VARCHAR(255) NOT NULL,\n            CONSTRAINT FK_UM_ORG_ROLE_USER_UM_ORG_ROLE
    FOREIGN KEY (UM_ROLE_ID) REFERENCES UM_ORG_ROLE(UM_ROLE_ID) ON DELETE CASCADE\n)ENGINE
    INNODB;\n\nCREATE TABLE IF NOT EXISTS UM_ORG_ROLE_GROUP(\n            UM_GROUP_ID
    VARCHAR(255) NOT NULL,\n            UM_ROLE_ID VARCHAR(255) NOT NULL,\n            CONSTRAINT
    FK_UM_ORG_ROLE_GROUP_UM_ORG_ROLE FOREIGN KEY (UM_ROLE_ID) REFERENCES UM_ORG_ROLE(UM_ROLE_ID)
    ON DELETE CASCADE\n)ENGINE INNODB;\n\nCREATE TABLE IF NOT EXISTS UM_ORG_ROLE_PERMISSION(\n
    \           UM_PERMISSION_ID INTEGER NOT NULL,\n            UM_ROLE_ID VARCHAR(255)
    NOT NULL,\n            CONSTRAINT FK_UM_ORG_ROLE_PERMISSION_UM_ORG_ROLE FOREIGN
    KEY (UM_ROLE_ID) REFERENCES UM_ORG_ROLE(UM_ROLE_ID) ON DELETE CASCADE,\n            CONSTRAINT
    FK_UM_ORG_ROLE_PERMISSION_UM_ORG_PERMISSION FOREIGN KEY (UM_PERMISSION_ID) REFERENCES
    UM_ORG_PERMISSION(UM_ID) ON DELETE CASCADE\n)ENGINE INNODB;\n\nCREATE TABLE IF
    NOT EXISTS UM_ORG_HIERARCHY (\n            UM_PARENT_ID VARCHAR(36) NOT NULL,\n
    \           UM_ID VARCHAR(36) NOT NULL,\n            DEPTH INTEGER,\n            PRIMARY
    KEY (UM_PARENT_ID, UM_ID),\n            FOREIGN KEY (UM_PARENT_ID) REFERENCES
    UM_ORG(UM_ID) ON DELETE CASCADE,\n            FOREIGN KEY (UM_ID) REFERENCES UM_ORG(UM_ID)
    ON DELETE CASCADE\n)ENGINE INNODB;\n\nINSERT IGNORE INTO UM_ORG_HIERARCHY (UM_PARENT_ID,
    UM_ID, DEPTH)\nVALUES ('10084a8d-113f-4211-a0d5-efe36b082211', '10084a8d-113f-4211-a0d5-efe36b082211',
    0);"
kind: ConfigMap
metadata:
  creationTimestamp: null
  name: mysql-init-scripts
  namespace: wso2
